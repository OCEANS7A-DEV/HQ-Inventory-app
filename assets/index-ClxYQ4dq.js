function K0(p,m){for(var g=0;g<m.length;g++){const A=m[g];if(typeof A!="string"&&!Array.isArray(A)){for(const _ in A)if(_!=="default"&&!(_ in p)){const y=Object.getOwnPropertyDescriptor(A,_);y&&Object.defineProperty(p,_,y.get?y:{enumerable:!0,get:()=>A[_]})}}}return Object.freeze(Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}))}(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))A(_);new MutationObserver(_=>{for(const y of _)if(y.type==="childList")for(const N of y.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&A(N)}).observe(document,{childList:!0,subtree:!0});function g(_){const y={};return _.integrity&&(y.integrity=_.integrity),_.referrerPolicy&&(y.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?y.credentials="include":_.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function A(_){if(_.ep)return;_.ep=!0;const y=g(_);fetch(_.href,y)}})();var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vu(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var cu={exports:{}},Es={},fu={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function Q0(){if(v1)return qe;v1=1;var p=Symbol.for("react.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),L=Symbol.iterator;function ce(U){return U===null||typeof U!="object"?null:(U=L&&U[L]||U["@@iterator"],typeof U=="function"?U:null)}var ge={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},We=Object.assign,se={};function ye(U,K,Ue){this.props=U,this.context=K,this.refs=se,this.updater=Ue||ge}ye.prototype.isReactComponent={},ye.prototype.setState=function(U,K){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,K,"setState")},ye.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function Be(){}Be.prototype=ye.prototype;function ae(U,K,Ue){this.props=U,this.context=K,this.refs=se,this.updater=Ue||ge}var q=ae.prototype=new Be;q.constructor=ae,We(q,ye.prototype),q.isPureReactComponent=!0;var le=Array.isArray,Ze=Object.prototype.hasOwnProperty,Te={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function me(U,K,Ue){var be,tt={},ue=null,gt=null;if(K!=null)for(be in K.ref!==void 0&&(gt=K.ref),K.key!==void 0&&(ue=""+K.key),K)Ze.call(K,be)&&!Z.hasOwnProperty(be)&&(tt[be]=K[be]);var Le=arguments.length-2;if(Le===1)tt.children=Ue;else if(1<Le){for(var pt=Array(Le),qt=0;qt<Le;qt++)pt[qt]=arguments[qt+2];tt.children=pt}if(U&&U.defaultProps)for(be in Le=U.defaultProps,Le)tt[be]===void 0&&(tt[be]=Le[be]);return{$$typeof:p,type:U,key:ue,ref:gt,props:tt,_owner:Te.current}}function J(U,K){return{$$typeof:p,type:U.type,key:K,ref:U.ref,props:U.props,_owner:U._owner}}function Rt(U){return typeof U=="object"&&U!==null&&U.$$typeof===p}function ut(U){var K={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ue){return K[Ue]})}var ve=/\/+/g;function Fe(U,K){return typeof U=="object"&&U!==null&&U.key!=null?ut(""+U.key):K.toString(36)}function ct(U,K,Ue,be,tt){var ue=typeof U;(ue==="undefined"||ue==="boolean")&&(U=null);var gt=!1;if(U===null)gt=!0;else switch(ue){case"string":case"number":gt=!0;break;case"object":switch(U.$$typeof){case p:case m:gt=!0}}if(gt)return gt=U,tt=tt(gt),U=be===""?"."+Fe(gt,0):be,le(tt)?(Ue="",U!=null&&(Ue=U.replace(ve,"$&/")+"/"),ct(tt,K,Ue,"",function(qt){return qt})):tt!=null&&(Rt(tt)&&(tt=J(tt,Ue+(!tt.key||gt&&gt.key===tt.key?"":(""+tt.key).replace(ve,"$&/")+"/")+U)),K.push(tt)),1;if(gt=0,be=be===""?".":be+":",le(U))for(var Le=0;Le<U.length;Le++){ue=U[Le];var pt=be+Fe(ue,Le);gt+=ct(ue,K,Ue,pt,tt)}else if(pt=ce(U),typeof pt=="function")for(U=pt.call(U),Le=0;!(ue=U.next()).done;)ue=ue.value,pt=be+Fe(ue,Le++),gt+=ct(ue,K,Ue,pt,tt);else if(ue==="object")throw K=String(U),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return gt}function Y(U,K,Ue){if(U==null)return U;var be=[],tt=0;return ct(U,be,"","",function(ue){return K.call(Ue,ue,tt++)}),be}function et(U){if(U._status===-1){var K=U._result;K=K(),K.then(function(Ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ue)},function(Ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ue)}),U._status===-1&&(U._status=0,U._result=K)}if(U._status===1)return U._result.default;throw U._result}var Ee={current:null},fe={transition:null},Ne={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:fe,ReactCurrentOwner:Te};function he(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:Y,forEach:function(U,K,Ue){Y(U,function(){K.apply(this,arguments)},Ue)},count:function(U){var K=0;return Y(U,function(){K++}),K},toArray:function(U){return Y(U,function(K){return K})||[]},only:function(U){if(!Rt(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},qe.Component=ye,qe.Fragment=g,qe.Profiler=_,qe.PureComponent=ae,qe.StrictMode=A,qe.Suspense=b,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ne,qe.act=he,qe.cloneElement=function(U,K,Ue){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var be=We({},U.props),tt=U.key,ue=U.ref,gt=U._owner;if(K!=null){if(K.ref!==void 0&&(ue=K.ref,gt=Te.current),K.key!==void 0&&(tt=""+K.key),U.type&&U.type.defaultProps)var Le=U.type.defaultProps;for(pt in K)Ze.call(K,pt)&&!Z.hasOwnProperty(pt)&&(be[pt]=K[pt]===void 0&&Le!==void 0?Le[pt]:K[pt])}var pt=arguments.length-2;if(pt===1)be.children=Ue;else if(1<pt){Le=Array(pt);for(var qt=0;qt<pt;qt++)Le[qt]=arguments[qt+2];be.children=Le}return{$$typeof:p,type:U.type,key:tt,ref:ue,props:be,_owner:gt}},qe.createContext=function(U){return U={$$typeof:N,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:y,_context:U},U.Consumer=U},qe.createElement=me,qe.createFactory=function(U){var K=me.bind(null,U);return K.type=U,K},qe.createRef=function(){return{current:null}},qe.forwardRef=function(U){return{$$typeof:D,render:U}},qe.isValidElement=Rt,qe.lazy=function(U){return{$$typeof:V,_payload:{_status:-1,_result:U},_init:et}},qe.memo=function(U,K){return{$$typeof:S,type:U,compare:K===void 0?null:K}},qe.startTransition=function(U){var K=fe.transition;fe.transition={};try{U()}finally{fe.transition=K}},qe.unstable_act=he,qe.useCallback=function(U,K){return Ee.current.useCallback(U,K)},qe.useContext=function(U){return Ee.current.useContext(U)},qe.useDebugValue=function(){},qe.useDeferredValue=function(U){return Ee.current.useDeferredValue(U)},qe.useEffect=function(U,K){return Ee.current.useEffect(U,K)},qe.useId=function(){return Ee.current.useId()},qe.useImperativeHandle=function(U,K,Ue){return Ee.current.useImperativeHandle(U,K,Ue)},qe.useInsertionEffect=function(U,K){return Ee.current.useInsertionEffect(U,K)},qe.useLayoutEffect=function(U,K){return Ee.current.useLayoutEffect(U,K)},qe.useMemo=function(U,K){return Ee.current.useMemo(U,K)},qe.useReducer=function(U,K,Ue){return Ee.current.useReducer(U,K,Ue)},qe.useRef=function(U){return Ee.current.useRef(U)},qe.useState=function(U){return Ee.current.useState(U)},qe.useSyncExternalStore=function(U,K,Ue){return Ee.current.useSyncExternalStore(U,K,Ue)},qe.useTransition=function(){return Ee.current.useTransition()},qe.version="18.3.1",qe}var _1;function _u(){return _1||(_1=1,fu.exports=Q0()),fu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function q0(){if(I1)return Es;I1=1;var p=_u(),m=Symbol.for("react.element"),g=Symbol.for("react.fragment"),A=Object.prototype.hasOwnProperty,_=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function N(D,b,S){var V,L={},ce=null,ge=null;S!==void 0&&(ce=""+S),b.key!==void 0&&(ce=""+b.key),b.ref!==void 0&&(ge=b.ref);for(V in b)A.call(b,V)&&!y.hasOwnProperty(V)&&(L[V]=b[V]);if(D&&D.defaultProps)for(V in b=D.defaultProps,b)L[V]===void 0&&(L[V]=b[V]);return{$$typeof:m,type:D,key:ce,ref:ge,props:L,_owner:_.current}}return Es.Fragment=g,Es.jsx=N,Es.jsxs=N,Es}var S1;function J0(){return S1||(S1=1,cu.exports=q0()),cu.exports}var it=J0(),Ye=_u();const ot=vu(Ye);var Ma={},du={exports:{}},Vn={},hu={exports:{}},gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function $0(){return T1||(T1=1,function(p){function m(fe,Ne){var he=fe.length;fe.push(Ne);e:for(;0<he;){var U=he-1>>>1,K=fe[U];if(0<_(K,Ne))fe[U]=Ne,fe[he]=K,he=U;else break e}}function g(fe){return fe.length===0?null:fe[0]}function A(fe){if(fe.length===0)return null;var Ne=fe[0],he=fe.pop();if(he!==Ne){fe[0]=he;e:for(var U=0,K=fe.length,Ue=K>>>1;U<Ue;){var be=2*(U+1)-1,tt=fe[be],ue=be+1,gt=fe[ue];if(0>_(tt,he))ue<K&&0>_(gt,tt)?(fe[U]=gt,fe[ue]=he,U=ue):(fe[U]=tt,fe[be]=he,U=be);else if(ue<K&&0>_(gt,he))fe[U]=gt,fe[ue]=he,U=ue;else break e}}return Ne}function _(fe,Ne){var he=fe.sortIndex-Ne.sortIndex;return he!==0?he:fe.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var y=performance;p.unstable_now=function(){return y.now()}}else{var N=Date,D=N.now();p.unstable_now=function(){return N.now()-D}}var b=[],S=[],V=1,L=null,ce=3,ge=!1,We=!1,se=!1,ye=typeof setTimeout=="function"?setTimeout:null,Be=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(fe){for(var Ne=g(S);Ne!==null;){if(Ne.callback===null)A(S);else if(Ne.startTime<=fe)A(S),Ne.sortIndex=Ne.expirationTime,m(b,Ne);else break;Ne=g(S)}}function le(fe){if(se=!1,q(fe),!We)if(g(b)!==null)We=!0,et(Ze);else{var Ne=g(S);Ne!==null&&Ee(le,Ne.startTime-fe)}}function Ze(fe,Ne){We=!1,se&&(se=!1,Be(me),me=-1),ge=!0;var he=ce;try{for(q(Ne),L=g(b);L!==null&&(!(L.expirationTime>Ne)||fe&&!ut());){var U=L.callback;if(typeof U=="function"){L.callback=null,ce=L.priorityLevel;var K=U(L.expirationTime<=Ne);Ne=p.unstable_now(),typeof K=="function"?L.callback=K:L===g(b)&&A(b),q(Ne)}else A(b);L=g(b)}if(L!==null)var Ue=!0;else{var be=g(S);be!==null&&Ee(le,be.startTime-Ne),Ue=!1}return Ue}finally{L=null,ce=he,ge=!1}}var Te=!1,Z=null,me=-1,J=5,Rt=-1;function ut(){return!(p.unstable_now()-Rt<J)}function ve(){if(Z!==null){var fe=p.unstable_now();Rt=fe;var Ne=!0;try{Ne=Z(!0,fe)}finally{Ne?Fe():(Te=!1,Z=null)}}else Te=!1}var Fe;if(typeof ae=="function")Fe=function(){ae(ve)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,Y=ct.port2;ct.port1.onmessage=ve,Fe=function(){Y.postMessage(null)}}else Fe=function(){ye(ve,0)};function et(fe){Z=fe,Te||(Te=!0,Fe())}function Ee(fe,Ne){me=ye(function(){fe(p.unstable_now())},Ne)}p.unstable_IdlePriority=5,p.unstable_ImmediatePriority=1,p.unstable_LowPriority=4,p.unstable_NormalPriority=3,p.unstable_Profiling=null,p.unstable_UserBlockingPriority=2,p.unstable_cancelCallback=function(fe){fe.callback=null},p.unstable_continueExecution=function(){We||ge||(We=!0,et(Ze))},p.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<fe?Math.floor(1e3/fe):5},p.unstable_getCurrentPriorityLevel=function(){return ce},p.unstable_getFirstCallbackNode=function(){return g(b)},p.unstable_next=function(fe){switch(ce){case 1:case 2:case 3:var Ne=3;break;default:Ne=ce}var he=ce;ce=Ne;try{return fe()}finally{ce=he}},p.unstable_pauseExecution=function(){},p.unstable_requestPaint=function(){},p.unstable_runWithPriority=function(fe,Ne){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var he=ce;ce=fe;try{return Ne()}finally{ce=he}},p.unstable_scheduleCallback=function(fe,Ne,he){var U=p.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?U+he:U):he=U,fe){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=he+K,fe={id:V++,callback:Ne,priorityLevel:fe,startTime:he,expirationTime:K,sortIndex:-1},he>U?(fe.sortIndex=he,m(S,fe),g(b)===null&&fe===g(S)&&(se?(Be(me),me=-1):se=!0,Ee(le,he-U))):(fe.sortIndex=K,m(b,fe),We||ge||(We=!0,et(Ze))),fe},p.unstable_shouldYield=ut,p.unstable_wrapCallback=function(fe){var Ne=ce;return function(){var he=ce;ce=Ne;try{return fe.apply(this,arguments)}finally{ce=he}}}}(gu)),gu}var N1;function ef(){return N1||(N1=1,hu.exports=$0()),hu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1;function tf(){if(R1)return Vn;R1=1;var p=_u(),m=ef();function g(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A=new Set,_={};function y(t,i){N(t,i),N(t+"Capture",i)}function N(t,i){for(_[t]=i,t=0;t<i.length;t++)A.add(i[t])}var D=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V={},L={};function ce(t){return b.call(L,t)?!0:b.call(V,t)?!1:S.test(t)?L[t]=!0:(V[t]=!0,!1)}function ge(t,i,l,c){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function We(t,i,l,c){if(i===null||typeof i>"u"||ge(t,i,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function se(t,i,l,c,h,x,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=t,this.type=i,this.sanitizeURL=x,this.removeEmptyString=v}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new se(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];ye[i]=new se(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new se(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new se(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new se(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new se(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){ye[t]=new se(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){ye[t]=new se(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){ye[t]=new se(t,5,!1,t.toLowerCase(),null,!1,!1)});var Be=/[\-:]([a-z])/g;function ae(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(Be,ae);ye[i]=new se(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(Be,ae);ye[i]=new se(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(Be,ae);ye[i]=new se(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new se(t,1,!1,t.toLowerCase(),null,!1,!1)}),ye.xlinkHref=new se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){ye[t]=new se(t,1,!1,t.toLowerCase(),null,!0,!0)});function q(t,i,l,c){var h=ye.hasOwnProperty(i)?ye[i]:null;(h!==null?h.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(We(i,l,h,c)&&(l=null),c||h===null?ce(i)&&(l===null?t.removeAttribute(i):t.setAttribute(i,""+l)):h.mustUseProperty?t[h.propertyName]=l===null?h.type===3?!1:"":l:(i=h.attributeName,c=h.attributeNamespace,l===null?t.removeAttribute(i):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,c?t.setAttributeNS(c,i,l):t.setAttribute(i,l))))}var le=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ze=Symbol.for("react.element"),Te=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),me=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Rt=Symbol.for("react.provider"),ut=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),fe=Symbol.iterator;function Ne(t){return t===null||typeof t!="object"?null:(t=fe&&t[fe]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,U;function K(t){if(U===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||""}return`
`+U+t}var Ue=!1;function be(t,i){if(!t||Ue)return"";Ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(j){var c=j}Reflect.construct(t,[],i)}else{try{i.call()}catch(j){c=j}t.call(i.prototype)}else{try{throw Error()}catch(j){c=j}t()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var h=j.stack.split(`
`),x=c.stack.split(`
`),v=h.length-1,O=x.length-1;1<=v&&0<=O&&h[v]!==x[O];)O--;for(;1<=v&&0<=O;v--,O--)if(h[v]!==x[O]){if(v!==1||O!==1)do if(v--,O--,0>O||h[v]!==x[O]){var k=`
`+h[v].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=v&&0<=O);break}}}finally{Ue=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?K(t):""}function tt(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=be(t.type,!1),t;case 11:return t=be(t.type.render,!1),t;case 1:return t=be(t.type,!0),t;default:return""}}function ue(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case Te:return"Portal";case J:return"Profiler";case me:return"StrictMode";case Fe:return"Suspense";case ct:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ut:return(t.displayName||"Context")+".Consumer";case Rt:return(t._context.displayName||"Context")+".Provider";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:ue(t.type)||"Memo";case et:i=t._payload,t=t._init;try{return ue(t(i))}catch{}}return null}function gt(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(i);case 8:return i===me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Le(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pt(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qt(t){var i=pt(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,x=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){c=""+v,x.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Jt(t){t._valueTracker||(t._valueTracker=qt(t))}function vi(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return t&&(c=pt(t)?t.checked?"true":"false":t.value),t=c,t!==l?(i.setValue(t),!0):!1}function nt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cr(t,i){var l=i.checked;return he({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function zn(t,i){var l=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;l=Le(i.value!=null?i.value:l),t._wrapperState={initialChecked:c,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Kr(t,i){i=i.checked,i!=null&&q(t,"checked",i,!1)}function Wt(t,i){Kr(t,i);var l=Le(i.value),c=i.type;if(l!=null)c==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?Je(t,i.type,l):i.hasOwnProperty("defaultValue")&&Je(t,i.type,Le(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function wt(t,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,l||i===t.value||(t.value=i),t.defaultValue=i}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function Je(t,i,l){(i!=="number"||nt(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var Ar=Array.isArray;function we(t,i,l,c){if(t=t.options,i){i={};for(var h=0;h<l.length;h++)i["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=i.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&c&&(t[l].defaultSelected=!0)}else{for(l=""+Le(l),i=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qr(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(g(91));return he({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mo(t,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(g(92));if(Ar(l)){if(1<l.length)throw Error(g(93));l=l[0]}i=l}i==null&&(i=""),l=i}t._wrapperState={initialValue:Le(l)}}function er(t,i){var l=Le(i.value),c=Le(i.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),i.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),c!=null&&(t.defaultValue=""+c)}function eo(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function bn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function to(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?bn(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hn,an=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,c,h){MSApp.execUnsafeLocalFunction(function(){return t(i,l,c,h)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Hn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function qr(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wa=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(t){Wa.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),vr[i]=vr[t]})});function Pt(t,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||vr.hasOwnProperty(t)&&vr[t]?(""+i).trim():i+"px"}function de(t,i){t=t.style;for(var l in i)if(i.hasOwnProperty(l)){var c=l.indexOf("--")===0,h=Pt(l,i[l],c);l==="float"&&(l="cssFloat"),c?t.setProperty(l,h):t[l]=h}}var Gt=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dt(t,i){if(i){if(Gt[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(g(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(g(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(g(61))}if(i.style!=null&&typeof i.style!="object")throw Error(g(62))}}function _t(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dr=null;function _i(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var no=null,Qe=null,Dn=null;function ko(t){if(t=os(t)){if(typeof no!="function")throw Error(g(280));var i=t.stateNode;i&&(i=Ys(i),no(t.stateNode,t.type,i))}}function Po(t){Qe?Dn?Dn.push(t):Dn=[t]:Qe=t}function Mn(){if(Qe){var t=Qe,i=Dn;if(Dn=Qe=null,ko(t),i)for(t=0;t<i.length;t++)ko(i[t])}}function ro(t,i){return t(i)}function $t(){}var _r=!1;function Ii(t,i,l){if(_r)return t(i,l);_r=!0;try{return ro(t,i,l)}finally{_r=!1,(Qe!==null||Dn!==null)&&($t(),Mn())}}function yn(t,i){var l=t.stateNode;if(l===null)return null;var c=Ys(l);if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(g(231,i,typeof l));return l}var Bo=!1;if(D)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Bo=!1}function Lo(t,i,l,c,h,x,v,O,k){var j=Array.prototype.slice.call(arguments,3);try{i.apply(l,j)}catch(te){this.onError(te)}}var Kt=!1,tr=null,hn=!1,pe=null,Jr={onError:function(t){Kt=!0,tr=t}};function Fo(t,i,l,c,h,x,v,O,k){Kt=!1,tr=null,Lo.apply(Jr,arguments)}function En(t,i,l,c,h,x,v,O,k){if(Fo.apply(this,arguments),Kt){if(Kt){var j=tr;Kt=!1,tr=null}else throw Error(g(198));hn||(hn=!0,pe=j)}}function kn(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function Si(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Ti(t){if(kn(t)!==t)throw Error(g(188))}function nr(t){var i=t.alternate;if(!i){if(i=kn(t),i===null)throw Error(g(188));return i!==t?null:t}for(var l=t,c=i;;){var h=l.return;if(h===null)break;var x=h.alternate;if(x===null){if(c=h.return,c!==null){l=c;continue}break}if(h.child===x.child){for(x=h.child;x;){if(x===l)return Ti(h),t;if(x===c)return Ti(h),i;x=x.sibling}throw Error(g(188))}if(l.return!==c.return)l=h,c=x;else{for(var v=!1,O=h.child;O;){if(O===l){v=!0,l=h,c=x;break}if(O===c){v=!0,c=h,l=x;break}O=O.sibling}if(!v){for(O=x.child;O;){if(O===l){v=!0,l=x,c=h;break}if(O===c){v=!0,c=x,l=h;break}O=O.sibling}if(!v)throw Error(g(189))}}if(l.alternate!==c)throw Error(g(190))}if(l.tag!==3)throw Error(g(188));return l.stateNode.current===l?t:i}function Ss(t){return t=nr(t),t!==null?Ts(t):null}function Ts(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=Ts(t);if(i!==null)return i;t=t.sibling}return null}var Gn=m.unstable_scheduleCallback,ln=m.unstable_cancelCallback,It=m.unstable_shouldYield,Ns=m.unstable_requestPaint,xt=m.unstable_now,Uo=m.unstable_getCurrentPriorityLevel,Q=m.unstable_ImmediatePriority,Rs=m.unstable_UserBlockingPriority,At=m.unstable_NormalPriority,$r=m.unstable_LowPriority,Os=m.unstable_IdlePriority,st=null,Xe=null;function $e(t){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(st,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:Xt,Vo=Math.log,zo=Math.LN2;function Xt(t){return t>>>=0,t===0?32:31-(Vo(t)/zo|0)|0}var Xn=64,io=4194304;function vt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jn(t,i){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,x=t.pingedLanes,v=l&268435455;if(v!==0){var O=v&~h;O!==0?c=vt(O):(x&=v,x!==0&&(c=vt(x)))}else v=l&~h,v!==0?c=vt(v):x!==0&&(c=vt(x));if(c===0)return 0;if(i!==0&&i!==c&&!(i&h)&&(h=c&-c,x=i&-i,h>=x||h===16&&(x&4194240)!==0))return i;if(c&4&&(c|=l&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)l=31-Tn(i),h=1<<l,c|=t[l],i&=~h;return c}function Ga(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ei(t,i){for(var l=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,x=t.pendingLanes;0<x;){var v=31-Tn(x),O=1<<v,k=h[v];k===-1?(!(O&l)||O&c)&&(h[v]=Ga(O,i)):k<=i&&(t.expiredLanes|=O),x&=~O}}function mt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function en(){var t=Xn;return Xn<<=1,!(Xn&4194240)&&(Xn=64),t}function z(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function T(t,i,l){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Tn(i),t[i]=l}function Re(t,i){var l=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<l;){var h=31-Tn(l),x=1<<h;i[h]=0,c[h]=-1,t[h]=-1,l&=~x}}function Ut(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var c=31-Tn(l),h=1<<c;h&i|t[c]&i&&(t[c]|=i),l&=~h}}var je=0;function bs(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oo,Cn,Oe,St,Ho,Wo=!1,ti=[],Yn=null,rr=null,Ir=null,Mt=new Map,dr=new Map,gn=[],Pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ds(t,i){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Mt.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(i.pointerId)}}function ze(t,i,l,c,h,x){return t===null||t.nativeEvent!==x?(t={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:x,targetContainers:[h]},i!==null&&(i=os(i),i!==null&&Cn(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function tn(t,i,l,c,h){switch(i){case"focusin":return Yn=ze(Yn,t,i,l,c,h),!0;case"dragenter":return rr=ze(rr,t,i,l,c,h),!0;case"mouseover":return Ir=ze(Ir,t,i,l,c,h),!0;case"pointerover":var x=h.pointerId;return Mt.set(x,ze(Mt.get(x)||null,t,i,l,c,h)),!0;case"gotpointercapture":return x=h.pointerId,dr.set(x,ze(dr.get(x)||null,t,i,l,c,h)),!0}return!1}function Ms(t){var i=Li(t.target);if(i!==null){var l=kn(i);if(l!==null){if(i=l.tag,i===13){if(i=Si(l),i!==null){t.blockedOn=i,Ho(t.priority,function(){Oe(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ni(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=so(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);Dr=c,l.target.dispatchEvent(c),Dr=null}else return i=os(l),i!==null&&Cn(i),t.blockedOn=l,!1;i.shift()}return!0}function Go(t,i,l){ni(t)&&l.delete(i)}function Mr(){Wo=!1,Yn!==null&&ni(Yn)&&(Yn=null),rr!==null&&ni(rr)&&(rr=null),Ir!==null&&ni(Ir)&&(Ir=null),Mt.forEach(Go),dr.forEach(Go)}function Ni(t,i){t.blockedOn===i&&(t.blockedOn=null,Wo||(Wo=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,Mr)))}function hr(t){function i(h){return Ni(h,t)}if(0<ti.length){Ni(ti[0],t);for(var l=1;l<ti.length;l++){var c=ti[l];c.blockedOn===t&&(c.blockedOn=null)}}for(Yn!==null&&Ni(Yn,t),rr!==null&&Ni(rr,t),Ir!==null&&Ni(Ir,t),Mt.forEach(i),dr.forEach(i),l=0;l<gn.length;l++)c=gn[l],c.blockedOn===t&&(c.blockedOn=null);for(;0<gn.length&&(l=gn[0],l.blockedOn===null);)Ms(l),l.blockedOn===null&&gn.shift()}var ir=le.ReactCurrentBatchConfig,Sr=!0;function ks(t,i,l,c){var h=je,x=ir.transition;ir.transition=null;try{je=1,kr(t,i,l,c)}finally{je=h,ir.transition=x}}function Ri(t,i,l,c){var h=je,x=ir.transition;ir.transition=null;try{je=4,kr(t,i,l,c)}finally{je=h,ir.transition=x}}function kr(t,i,l,c){if(Sr){var h=so(t,i,l,c);if(h===null)el(t,i,c,nn,l),Ds(t,c);else if(tn(h,t,i,l,c))c.stopPropagation();else if(Ds(t,c),i&4&&-1<Pe.indexOf(t)){for(;h!==null;){var x=os(h);if(x!==null&&oo(x),x=so(t,i,l,c),x===null&&el(t,i,c,nn,l),x===h)break;h=x}h!==null&&c.stopPropagation()}else el(t,i,c,null,l)}}var nn=null;function so(t,i,l,c){if(nn=null,t=_i(c),t=Li(t),t!==null)if(i=kn(t),i===null)t=null;else if(l=i.tag,l===13){if(t=Si(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return nn=t,null}function Xo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uo()){case Q:return 1;case Rs:return 4;case At:case $r:return 16;case Os:return 536870912;default:return 16}default:return 16}}var gr=null,jo=null,ao=null;function Ps(){if(ao)return ao;var t,i=jo,l=i.length,c,h="value"in gr?gr.value:gr.textContent,x=h.length;for(t=0;t<l&&i[t]===h[t];t++);var v=l-t;for(c=1;c<=v&&i[l-c]===h[x-c];c++);return ao=h.slice(t,1<c?1-c:void 0)}function at(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Oi(){return!0}function bi(){return!1}function Vt(t){function i(l,c,h,x,v){this._reactName=l,this._targetInst=h,this.type=c,this.nativeEvent=x,this.target=v,this.currentTarget=null;for(var O in t)t.hasOwnProperty(O)&&(l=t[O],this[O]=l?l(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Oi:bi,this.isPropagationStopped=bi,this}return he(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),i}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},X=Vt(ri),Ge=he({},ri,{view:0,detail:0}),rn=Vt(Ge),ii,lo,Di,uo=he({},Ge,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(ii=t.screenX-Di.screenX,lo=t.screenY-Di.screenY):lo=ii=0,Di=t),ii)},movementY:function(t){return"movementY"in t?t.movementY:lo}}),Bs=Vt(uo),Yo=he({},uo,{dataTransfer:0}),jt=Vt(Yo),Zo=he({},Ge,{relatedTarget:0}),Tt=Vt(Zo),co=he({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Pr=Vt(co),yt=he({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),De=Vt(yt),Xa=he({},ri,{data:0}),Et=Vt(Xa),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ja={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function or(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ja[t])?!!i[t]:!1}function Mi(){return or}var Ls=he({},Ge,{key:function(t){if(t.key){var i=Br[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=at(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(t){return t.type==="keypress"?at(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?at(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ko=Vt(Ls),Fs=he({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=Vt(Fs),Ya=he({},Ge,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),si=Vt(Ya),qo=he({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Za=Vt(qo),ki=he({},uo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Vt(ki),Tr=[9,13,27,32],ai=D&&"CompositionEvent"in window,un=null;D&&"documentMode"in document&&(un=document.documentMode);var Us=D&&"TextEvent"in window&&!un,Zn=D&&(!ai||un&&8<un&&11>=un),Vs=" ",fo=!1;function zs(t,i){switch(t){case"keyup":return Tr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pn=!1;function Qa(t,i){switch(t){case"compositionend":return Jo(i);case"keypress":return i.which!==32?null:(fo=!0,Vs);case"textInput":return t=i.data,t===Vs&&fo?null:t;default:return null}}function $o(t,i){if(pn)return t==="compositionend"||!ai&&zs(t,i)?(t=Ps(),ao=jo=gr=null,pn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zn&&i.locale!=="ko"?null:i.data;default:return null}}var Pi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Pi[t.type]:i==="textarea"}function Bi(t,i,l,c){Po(c),i=Gs(i,"onChange"),0<i.length&&(l=new X("onChange","change",null,l,c),t.push({event:l,listeners:i}))}var E=null,e=null;function n(t){Uu(t,0)}function r(t){var i=po(t);if(vi(i))return t}function o(t,i){if(t==="change")return i}var s=!1;if(D){var a;if(D){var u="oninput"in document;if(!u){var f=document.createElement("div");f.setAttribute("oninput","return;"),u=typeof f.oninput=="function"}a=u}else a=!1;s=a&&(!document.documentMode||9<document.documentMode)}function d(){E&&(E.detachEvent("onpropertychange",w),e=E=null)}function w(t){if(t.propertyName==="value"&&r(e)){var i=[];Bi(i,e,t,_i(t)),Ii(n,i)}}function C(t,i,l){t==="focusin"?(d(),E=i,e=l,E.attachEvent("onpropertychange",w)):t==="focusout"&&d()}function I(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r(e)}function R(t,i){if(t==="click")return r(i)}function M(t,i){if(t==="input"||t==="change")return r(i)}function P(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var F=typeof Object.is=="function"?Object.is:P;function G(t,i){if(F(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var h=l[c];if(!b.call(i,h)||!F(t[h],i[h]))return!1}return!0}function re(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ie(t,i){var l=re(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=i&&c>=i)return{node:l,offset:i-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=re(l)}}function ee(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ee(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ke(){for(var t=window,i=nt();i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=nt(t.document)}return i}function He(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function An(t){var i=Ke(),l=t.focusedElem,c=t.selectionRange;if(i!==l&&l&&l.ownerDocument&&ee(l.ownerDocument.documentElement,l)){if(c!==null&&He(l)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(t,l.value.length);else if(t=(i=l.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var h=l.textContent.length,x=Math.min(c.start,h);c=c.end===void 0?x:Math.min(c.end,h),!t.extend&&x>c&&(h=c,c=x,x=h),h=ie(l,x);var v=ie(l,c);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),t.removeAllRanges(),x>c?(t.addRange(i),t.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),t.addRange(i)))}}for(i=[],t=l;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)t=i[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kn=D&&"documentMode"in document&&11>=document.documentMode,Yt=null,ht=null,Bt=null,xn=!1;function Lr(t,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;xn||Yt==null||Yt!==nt(c)||(c=Yt,"selectionStart"in c&&He(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bt&&G(Bt,c)||(Bt=c,c=Gs(ht,"onSelect"),0<c.length&&(i=new X("onSelect","select",null,i,l),t.push({event:i,listeners:c}),i.target=Yt)))}function pr(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var li={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},es={},bu={};D&&(bu=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function Hs(t){if(es[t])return es[t];if(!li[t])return t;var i=li[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in bu)return es[t]=i[l];return t}var Du=Hs("animationend"),Mu=Hs("animationiteration"),ku=Hs("animationstart"),Pu=Hs("transitionend"),Bu=new Map,Lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(t,i){Bu.set(t,i),y(i,[t])}for(var qa=0;qa<Lu.length;qa++){var Ja=Lu[qa],o0=Ja.toLowerCase(),s0=Ja[0].toUpperCase()+Ja.slice(1);ui(o0,"on"+s0)}ui(Du,"onAnimationEnd"),ui(Mu,"onAnimationIteration"),ui(ku,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(Pu,"onTransitionEnd"),N("onMouseEnter",["mouseout","mouseover"]),N("onMouseLeave",["mouseout","mouseover"]),N("onPointerEnter",["pointerout","pointerover"]),N("onPointerLeave",["pointerout","pointerover"]),y("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),y("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),y("onBeforeInput",["compositionend","keypress","textInput","paste"]),y("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),y("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),y("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function Fu(t,i,l){var c=t.type||"unknown-event";t.currentTarget=l,En(c,i,void 0,t),t.currentTarget=null}function Uu(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],h=c.event;c=c.listeners;e:{var x=void 0;if(i)for(var v=c.length-1;0<=v;v--){var O=c[v],k=O.instance,j=O.currentTarget;if(O=O.listener,k!==x&&h.isPropagationStopped())break e;Fu(h,O,j),x=k}else for(v=0;v<c.length;v++){if(O=c[v],k=O.instance,j=O.currentTarget,O=O.listener,k!==x&&h.isPropagationStopped())break e;Fu(h,O,j),x=k}}}if(hn)throw t=pe,hn=!1,pe=null,t}function Ot(t,i){var l=i[sl];l===void 0&&(l=i[sl]=new Set);var c=t+"__bubble";l.has(c)||(Vu(i,t,2,!1),l.add(c))}function $a(t,i,l){var c=0;i&&(c|=4),Vu(l,t,c,i)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function ns(t){if(!t[Ws]){t[Ws]=!0,A.forEach(function(l){l!=="selectionchange"&&(a0.has(l)||$a(l,!1,t),$a(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ws]||(i[Ws]=!0,$a("selectionchange",!1,i))}}function Vu(t,i,l,c){switch(Xo(i)){case 1:var h=ks;break;case 4:h=Ri;break;default:h=kr}l=h.bind(null,i,l,t),h=void 0,!Bo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(i,l,{capture:!0,passive:h}):t.addEventListener(i,l,!0):h!==void 0?t.addEventListener(i,l,{passive:h}):t.addEventListener(i,l,!1)}function el(t,i,l,c,h){var x=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var O=c.stateNode.containerInfo;if(O===h||O.nodeType===8&&O.parentNode===h)break;if(v===4)for(v=c.return;v!==null;){var k=v.tag;if((k===3||k===4)&&(k=v.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;v=v.return}for(;O!==null;){if(v=Li(O),v===null)return;if(k=v.tag,k===5||k===6){c=x=v;continue e}O=O.parentNode}}c=c.return}Ii(function(){var j=x,te=_i(l),ne=[];e:{var $=Bu.get(t);if($!==void 0){var xe=X,_e=t;switch(t){case"keypress":if(at(l)===0)break e;case"keydown":case"keyup":xe=Ko;break;case"focusin":_e="focus",xe=Tt;break;case"focusout":_e="blur",xe=Tt;break;case"beforeblur":case"afterblur":xe=Tt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=si;break;case Du:case Mu:case ku:xe=Pr;break;case Pu:xe=Za;break;case"scroll":xe=rn;break;case"wheel":xe=Ka;break;case"copy":case"cut":case"paste":xe=De;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Qo}var Ie=(i&4)!==0,Zt=!Ie&&t==="scroll",H=Ie?$!==null?$+"Capture":null:$;Ie=[];for(var B=j,W;B!==null;){W=B;var oe=W.stateNode;if(W.tag===5&&oe!==null&&(W=oe,H!==null&&(oe=yn(B,H),oe!=null&&Ie.push(rs(B,oe,W)))),Zt)break;B=B.return}0<Ie.length&&($=new xe($,_e,null,l,te),ne.push({event:$,listeners:Ie}))}}if(!(i&7)){e:{if($=t==="mouseover"||t==="pointerover",xe=t==="mouseout"||t==="pointerout",$&&l!==Dr&&(_e=l.relatedTarget||l.fromElement)&&(Li(_e)||_e[Fr]))break e;if((xe||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,xe?(_e=l.relatedTarget||l.toElement,xe=j,_e=_e?Li(_e):null,_e!==null&&(Zt=kn(_e),_e!==Zt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(xe=null,_e=j),xe!==_e)){if(Ie=Bs,oe="onMouseLeave",H="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(Ie=Qo,oe="onPointerLeave",H="onPointerEnter",B="pointer"),Zt=xe==null?$:po(xe),W=_e==null?$:po(_e),$=new Ie(oe,B+"leave",xe,l,te),$.target=Zt,$.relatedTarget=W,oe=null,Li(te)===j&&(Ie=new Ie(H,B+"enter",_e,l,te),Ie.target=W,Ie.relatedTarget=Zt,oe=Ie),Zt=oe,xe&&_e)t:{for(Ie=xe,H=_e,B=0,W=Ie;W;W=ho(W))B++;for(W=0,oe=H;oe;oe=ho(oe))W++;for(;0<B-W;)Ie=ho(Ie),B--;for(;0<W-B;)H=ho(H),W--;for(;B--;){if(Ie===H||H!==null&&Ie===H.alternate)break t;Ie=ho(Ie),H=ho(H)}Ie=null}else Ie=null;xe!==null&&zu(ne,$,xe,Ie,!1),_e!==null&&Zt!==null&&zu(ne,Zt,_e,Ie,!0)}}e:{if($=j?po(j):window,xe=$.nodeName&&$.nodeName.toLowerCase(),xe==="select"||xe==="input"&&$.type==="file")var Se=o;else if(rt($))if(s)Se=M;else{Se=I;var Me=C}else(xe=$.nodeName)&&xe.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(Se=R);if(Se&&(Se=Se(t,j))){Bi(ne,Se,l,te);break e}Me&&Me(t,$,j),t==="focusout"&&(Me=$._wrapperState)&&Me.controlled&&$.type==="number"&&Je($,"number",$.value)}switch(Me=j?po(j):window,t){case"focusin":(rt(Me)||Me.contentEditable==="true")&&(Yt=Me,ht=j,Bt=null);break;case"focusout":Bt=ht=Yt=null;break;case"mousedown":xn=!0;break;case"contextmenu":case"mouseup":case"dragend":xn=!1,Lr(ne,l,te);break;case"selectionchange":if(Kn)break;case"keydown":case"keyup":Lr(ne,l,te)}var ke;if(ai)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else pn?zs(t,l)&&(Ve="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(Zn&&l.locale!=="ko"&&(pn||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&pn&&(ke=Ps()):(gr=te,jo="value"in gr?gr.value:gr.textContent,pn=!0)),Me=Gs(j,Ve),0<Me.length&&(Ve=new Et(Ve,t,null,l,te),ne.push({event:Ve,listeners:Me}),ke?Ve.data=ke:(ke=Jo(l),ke!==null&&(Ve.data=ke)))),(ke=Us?Qa(t,l):$o(t,l))&&(j=Gs(j,"onBeforeInput"),0<j.length&&(te=new Et("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:j}),te.data=ke))}Uu(ne,i)})}function rs(t,i,l){return{instance:t,listener:i,currentTarget:l}}function Gs(t,i){for(var l=i+"Capture",c=[];t!==null;){var h=t,x=h.stateNode;h.tag===5&&x!==null&&(h=x,x=yn(t,l),x!=null&&c.unshift(rs(t,x,h)),x=yn(t,i),x!=null&&c.push(rs(t,x,h))),t=t.return}return c}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zu(t,i,l,c,h){for(var x=i._reactName,v=[];l!==null&&l!==c;){var O=l,k=O.alternate,j=O.stateNode;if(k!==null&&k===c)break;O.tag===5&&j!==null&&(O=j,h?(k=yn(l,x),k!=null&&v.unshift(rs(l,k,O))):h||(k=yn(l,x),k!=null&&v.push(rs(l,k,O)))),l=l.return}v.length!==0&&t.push({event:i,listeners:v})}var l0=/\r\n?/g,u0=/\u0000|\uFFFD/g;function Hu(t){return(typeof t=="string"?t:""+t).replace(l0,`
`).replace(u0,"")}function Xs(t,i,l){if(i=Hu(i),Hu(t)!==i&&l)throw Error(g(425))}function js(){}var tl=null,nl=null;function rl(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,c0=typeof clearTimeout=="function"?clearTimeout:void 0,Wu=typeof Promise=="function"?Promise:void 0,f0=typeof queueMicrotask=="function"?queueMicrotask:typeof Wu<"u"?function(t){return Wu.resolve(null).then(t).catch(d0)}:il;function d0(t){setTimeout(function(){throw t})}function ol(t,i){var l=i,c=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(c===0){t.removeChild(h),hr(i);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=h}while(l);hr(i)}function ci(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Gu(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}var go=Math.random().toString(36).slice(2),Nr="__reactFiber$"+go,is="__reactProps$"+go,Fr="__reactContainer$"+go,sl="__reactEvents$"+go,h0="__reactListeners$"+go,g0="__reactHandles$"+go;function Li(t){var i=t[Nr];if(i)return i;for(var l=t.parentNode;l;){if(i=l[Fr]||l[Nr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=Gu(t);t!==null;){if(l=t[Nr])return l;t=Gu(t)}return i}t=l,l=t.parentNode}return null}function os(t){return t=t[Nr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(g(33))}function Ys(t){return t[is]||null}var al=[],xo=-1;function fi(t){return{current:t}}function bt(t){0>xo||(t.current=al[xo],al[xo]=null,xo--)}function Nt(t,i){xo++,al[xo]=t.current,t.current=i}var di={},vn=fi(di),Pn=fi(!1),Fi=di;function mo(t,i){var l=t.type.contextTypes;if(!l)return di;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var h={},x;for(x in l)h[x]=i[x];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=h),h}function Bn(t){return t=t.childContextTypes,t!=null}function Zs(){bt(Pn),bt(vn)}function Xu(t,i,l){if(vn.current!==di)throw Error(g(168));Nt(vn,i),Nt(Pn,l)}function ju(t,i,l){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var h in c)if(!(h in i))throw Error(g(108,gt(t)||"Unknown",h));return he({},l,c)}function Ks(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,Fi=vn.current,Nt(vn,t),Nt(Pn,Pn.current),!0}function Yu(t,i,l){var c=t.stateNode;if(!c)throw Error(g(169));l?(t=ju(t,i,Fi),c.__reactInternalMemoizedMergedChildContext=t,bt(Pn),bt(vn),Nt(vn,t)):bt(Pn),Nt(Pn,l)}var Ur=null,Qs=!1,ll=!1;function Zu(t){Ur===null?Ur=[t]:Ur.push(t)}function p0(t){Qs=!0,Zu(t)}function hi(){if(!ll&&Ur!==null){ll=!0;var t=0,i=je;try{var l=Ur;for(je=1;t<l.length;t++){var c=l[t];do c=c(!0);while(c!==null)}Ur=null,Qs=!1}catch(h){throw Ur!==null&&(Ur=Ur.slice(t+1)),Gn(Q,hi),h}finally{je=i,ll=!1}}return null}var wo=[],yo=0,qs=null,Js=0,sr=[],ar=0,Ui=null,Vr=1,zr="";function Vi(t,i){wo[yo++]=Js,wo[yo++]=qs,qs=t,Js=i}function Ku(t,i,l){sr[ar++]=Vr,sr[ar++]=zr,sr[ar++]=Ui,Ui=t;var c=Vr;t=zr;var h=32-Tn(c)-1;c&=~(1<<h),l+=1;var x=32-Tn(i)+h;if(30<x){var v=h-h%5;x=(c&(1<<v)-1).toString(32),c>>=v,h-=v,Vr=1<<32-Tn(i)+h|l<<h|c,zr=x+t}else Vr=1<<x|l<<h|c,zr=t}function ul(t){t.return!==null&&(Vi(t,1),Ku(t,1,0))}function cl(t){for(;t===qs;)qs=wo[--yo],wo[yo]=null,Js=wo[--yo],wo[yo]=null;for(;t===Ui;)Ui=sr[--ar],sr[ar]=null,zr=sr[--ar],sr[ar]=null,Vr=sr[--ar],sr[ar]=null}var Qn=null,qn=null,kt=!1,xr=null;function Qu(t,i){var l=fr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=t,i=t.deletions,i===null?(t.deletions=[l],t.flags|=16):i.push(l)}function qu(t,i){switch(t.tag){case 5:var l=t.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Qn=t,qn=ci(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Qn=t,qn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Ui!==null?{id:Vr,overflow:zr}:null,t.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=fr(18,null,null,0),l.stateNode=i,l.return=t,t.child=l,Qn=t,qn=null,!0):!1;default:return!1}}function fl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dl(t){if(kt){var i=qn;if(i){var l=i;if(!qu(t,i)){if(fl(t))throw Error(g(418));i=ci(l.nextSibling);var c=Qn;i&&qu(t,i)?Qu(c,l):(t.flags=t.flags&-4097|2,kt=!1,Qn=t)}}else{if(fl(t))throw Error(g(418));t.flags=t.flags&-4097|2,kt=!1,Qn=t}}}function Ju(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function $s(t){if(t!==Qn)return!1;if(!kt)return Ju(t),kt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!rl(t.type,t.memoizedProps)),i&&(i=qn)){if(fl(t))throw $u(),Error(g(418));for(;i;)Qu(t,i),i=ci(i.nextSibling)}if(Ju(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(g(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(i===0){qn=ci(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}t=t.nextSibling}qn=null}}else qn=Qn?ci(t.stateNode.nextSibling):null;return!0}function $u(){for(var t=qn;t;)t=ci(t.nextSibling)}function Eo(){qn=Qn=null,kt=!1}function hl(t){xr===null?xr=[t]:xr.push(t)}var x0=le.ReactCurrentBatchConfig;function ss(t,i,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(g(309));var c=l.stateNode}if(!c)throw Error(g(147,t));var h=c,x=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(v){var O=h.refs;v===null?delete O[x]:O[x]=v},i._stringRef=x,i)}if(typeof t!="string")throw Error(g(284));if(!l._owner)throw Error(g(290,t))}return t}function ea(t,i){throw t=Object.prototype.toString.call(i),Error(g(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function ec(t){var i=t._init;return i(t._payload)}function tc(t){function i(H,B){if(t){var W=H.deletions;W===null?(H.deletions=[B],H.flags|=16):W.push(B)}}function l(H,B){if(!t)return null;for(;B!==null;)i(H,B),B=B.sibling;return null}function c(H,B){for(H=new Map;B!==null;)B.key!==null?H.set(B.key,B):H.set(B.index,B),B=B.sibling;return H}function h(H,B){return H=Ci(H,B),H.index=0,H.sibling=null,H}function x(H,B,W){return H.index=W,t?(W=H.alternate,W!==null?(W=W.index,W<B?(H.flags|=2,B):W):(H.flags|=2,B)):(H.flags|=1048576,B)}function v(H){return t&&H.alternate===null&&(H.flags|=2),H}function O(H,B,W,oe){return B===null||B.tag!==6?(B=iu(W,H.mode,oe),B.return=H,B):(B=h(B,W),B.return=H,B)}function k(H,B,W,oe){var Se=W.type;return Se===Z?te(H,B,W.props.children,oe,W.key):B!==null&&(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===et&&ec(Se)===B.type)?(oe=h(B,W.props),oe.ref=ss(H,B,W),oe.return=H,oe):(oe=_a(W.type,W.key,W.props,null,H.mode,oe),oe.ref=ss(H,B,W),oe.return=H,oe)}function j(H,B,W,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==W.containerInfo||B.stateNode.implementation!==W.implementation?(B=ou(W,H.mode,oe),B.return=H,B):(B=h(B,W.children||[]),B.return=H,B)}function te(H,B,W,oe,Se){return B===null||B.tag!==7?(B=Zi(W,H.mode,oe,Se),B.return=H,B):(B=h(B,W),B.return=H,B)}function ne(H,B,W){if(typeof B=="string"&&B!==""||typeof B=="number")return B=iu(""+B,H.mode,W),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ze:return W=_a(B.type,B.key,B.props,null,H.mode,W),W.ref=ss(H,null,B),W.return=H,W;case Te:return B=ou(B,H.mode,W),B.return=H,B;case et:var oe=B._init;return ne(H,oe(B._payload),W)}if(Ar(B)||Ne(B))return B=Zi(B,H.mode,W,null),B.return=H,B;ea(H,B)}return null}function $(H,B,W,oe){var Se=B!==null?B.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Se!==null?null:O(H,B,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Ze:return W.key===Se?k(H,B,W,oe):null;case Te:return W.key===Se?j(H,B,W,oe):null;case et:return Se=W._init,$(H,B,Se(W._payload),oe)}if(Ar(W)||Ne(W))return Se!==null?null:te(H,B,W,oe,null);ea(H,W)}return null}function xe(H,B,W,oe,Se){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(W)||null,O(B,H,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Ze:return H=H.get(oe.key===null?W:oe.key)||null,k(B,H,oe,Se);case Te:return H=H.get(oe.key===null?W:oe.key)||null,j(B,H,oe,Se);case et:var Me=oe._init;return xe(H,B,W,Me(oe._payload),Se)}if(Ar(oe)||Ne(oe))return H=H.get(W)||null,te(B,H,oe,Se,null);ea(B,oe)}return null}function _e(H,B,W,oe){for(var Se=null,Me=null,ke=B,Ve=B=0,dn=null;ke!==null&&Ve<W.length;Ve++){ke.index>Ve?(dn=ke,ke=null):dn=ke.sibling;var ft=$(H,ke,W[Ve],oe);if(ft===null){ke===null&&(ke=dn);break}t&&ke&&ft.alternate===null&&i(H,ke),B=x(ft,B,Ve),Me===null?Se=ft:Me.sibling=ft,Me=ft,ke=dn}if(Ve===W.length)return l(H,ke),kt&&Vi(H,Ve),Se;if(ke===null){for(;Ve<W.length;Ve++)ke=ne(H,W[Ve],oe),ke!==null&&(B=x(ke,B,Ve),Me===null?Se=ke:Me.sibling=ke,Me=ke);return kt&&Vi(H,Ve),Se}for(ke=c(H,ke);Ve<W.length;Ve++)dn=xe(ke,H,Ve,W[Ve],oe),dn!==null&&(t&&dn.alternate!==null&&ke.delete(dn.key===null?Ve:dn.key),B=x(dn,B,Ve),Me===null?Se=dn:Me.sibling=dn,Me=dn);return t&&ke.forEach(function(Ai){return i(H,Ai)}),kt&&Vi(H,Ve),Se}function Ie(H,B,W,oe){var Se=Ne(W);if(typeof Se!="function")throw Error(g(150));if(W=Se.call(W),W==null)throw Error(g(151));for(var Me=Se=null,ke=B,Ve=B=0,dn=null,ft=W.next();ke!==null&&!ft.done;Ve++,ft=W.next()){ke.index>Ve?(dn=ke,ke=null):dn=ke.sibling;var Ai=$(H,ke,ft.value,oe);if(Ai===null){ke===null&&(ke=dn);break}t&&ke&&Ai.alternate===null&&i(H,ke),B=x(Ai,B,Ve),Me===null?Se=Ai:Me.sibling=Ai,Me=Ai,ke=dn}if(ft.done)return l(H,ke),kt&&Vi(H,Ve),Se;if(ke===null){for(;!ft.done;Ve++,ft=W.next())ft=ne(H,ft.value,oe),ft!==null&&(B=x(ft,B,Ve),Me===null?Se=ft:Me.sibling=ft,Me=ft);return kt&&Vi(H,Ve),Se}for(ke=c(H,ke);!ft.done;Ve++,ft=W.next())ft=xe(ke,H,Ve,ft.value,oe),ft!==null&&(t&&ft.alternate!==null&&ke.delete(ft.key===null?Ve:ft.key),B=x(ft,B,Ve),Me===null?Se=ft:Me.sibling=ft,Me=ft);return t&&ke.forEach(function(Z0){return i(H,Z0)}),kt&&Vi(H,Ve),Se}function Zt(H,B,W,oe){if(typeof W=="object"&&W!==null&&W.type===Z&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case Ze:e:{for(var Se=W.key,Me=B;Me!==null;){if(Me.key===Se){if(Se=W.type,Se===Z){if(Me.tag===7){l(H,Me.sibling),B=h(Me,W.props.children),B.return=H,H=B;break e}}else if(Me.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===et&&ec(Se)===Me.type){l(H,Me.sibling),B=h(Me,W.props),B.ref=ss(H,Me,W),B.return=H,H=B;break e}l(H,Me);break}else i(H,Me);Me=Me.sibling}W.type===Z?(B=Zi(W.props.children,H.mode,oe,W.key),B.return=H,H=B):(oe=_a(W.type,W.key,W.props,null,H.mode,oe),oe.ref=ss(H,B,W),oe.return=H,H=oe)}return v(H);case Te:e:{for(Me=W.key;B!==null;){if(B.key===Me)if(B.tag===4&&B.stateNode.containerInfo===W.containerInfo&&B.stateNode.implementation===W.implementation){l(H,B.sibling),B=h(B,W.children||[]),B.return=H,H=B;break e}else{l(H,B);break}else i(H,B);B=B.sibling}B=ou(W,H.mode,oe),B.return=H,H=B}return v(H);case et:return Me=W._init,Zt(H,B,Me(W._payload),oe)}if(Ar(W))return _e(H,B,W,oe);if(Ne(W))return Ie(H,B,W,oe);ea(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,B!==null&&B.tag===6?(l(H,B.sibling),B=h(B,W),B.return=H,H=B):(l(H,B),B=iu(W,H.mode,oe),B.return=H,H=B),v(H)):l(H,B)}return Zt}var Co=tc(!0),nc=tc(!1),ta=fi(null),na=null,Ao=null,gl=null;function pl(){gl=Ao=na=null}function xl(t){var i=ta.current;bt(ta),t._currentValue=i}function ml(t,i,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===l)break;t=t.return}}function vo(t,i){na=t,gl=Ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&i&&(Ln=!0),t.firstContext=null)}function lr(t){var i=t._currentValue;if(gl!==t)if(t={context:t,memoizedValue:i,next:null},Ao===null){if(na===null)throw Error(g(308));Ao=t,na.dependencies={lanes:0,firstContext:t}}else Ao=Ao.next=t;return i}var zi=null;function wl(t){zi===null?zi=[t]:zi.push(t)}function rc(t,i,l,c){var h=i.interleaved;return h===null?(l.next=l,wl(i)):(l.next=h.next,h.next=l),i.interleaved=l,Hr(t,c)}function Hr(t,i){t.lanes|=i;var l=t.alternate;for(l!==null&&(l.lanes|=i),l=t,t=t.return;t!==null;)t.childLanes|=i,l=t.alternate,l!==null&&(l.childLanes|=i),l=t,t=t.return;return l.tag===3?l.stateNode:null}var gi=!1;function yl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ic(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wr(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function pi(t,i,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,lt&2){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,Hr(t,l)}return h=c.interleaved,h===null?(i.next=i,wl(c)):(i.next=h.next,h.next=i),c.interleaved=i,Hr(t,l)}function ra(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,l|=c,i.lanes=l,Ut(t,l)}}function oc(t,i){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var h=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var v={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?h=x=v:x=x.next=v,l=l.next}while(l!==null);x===null?h=x=i:x=x.next=i}else h=x=i;l={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:x,shared:c.shared,effects:c.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}function ia(t,i,l,c){var h=t.updateQueue;gi=!1;var x=h.firstBaseUpdate,v=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var k=O,j=k.next;k.next=null,v===null?x=j:v.next=j,v=k;var te=t.alternate;te!==null&&(te=te.updateQueue,O=te.lastBaseUpdate,O!==v&&(O===null?te.firstBaseUpdate=j:O.next=j,te.lastBaseUpdate=k))}if(x!==null){var ne=h.baseState;v=0,te=j=k=null,O=x;do{var $=O.lane,xe=O.eventTime;if((c&$)===$){te!==null&&(te=te.next={eventTime:xe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var _e=t,Ie=O;switch($=i,xe=l,Ie.tag){case 1:if(_e=Ie.payload,typeof _e=="function"){ne=_e.call(xe,ne,$);break e}ne=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ie.payload,$=typeof _e=="function"?_e.call(xe,ne,$):_e,$==null)break e;ne=he({},ne,$);break e;case 2:gi=!0}}O.callback!==null&&O.lane!==0&&(t.flags|=64,$=h.effects,$===null?h.effects=[O]:$.push(O))}else xe={eventTime:xe,lane:$,tag:O.tag,payload:O.payload,callback:O.callback,next:null},te===null?(j=te=xe,k=ne):te=te.next=xe,v|=$;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;$=O,O=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(te===null&&(k=ne),h.baseState=k,h.firstBaseUpdate=j,h.lastBaseUpdate=te,i=h.shared.interleaved,i!==null){h=i;do v|=h.lane,h=h.next;while(h!==i)}else x===null&&(h.shared.lanes=0);Gi|=v,t.lanes=v,t.memoizedState=ne}}function sc(t,i,l){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],h=c.callback;if(h!==null){if(c.callback=null,c=l,typeof h!="function")throw Error(g(191,h));h.call(c)}}}var as={},Rr=fi(as),ls=fi(as),us=fi(as);function Hi(t){if(t===as)throw Error(g(174));return t}function El(t,i){switch(Nt(us,i),Nt(ls,t),Nt(Rr,as),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:to(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=to(i,t)}bt(Rr),Nt(Rr,i)}function _o(){bt(Rr),bt(ls),bt(us)}function ac(t){Hi(us.current);var i=Hi(Rr.current),l=to(i,t.type);i!==l&&(Nt(ls,t),Nt(Rr,l))}function Cl(t){ls.current===t&&(bt(Rr),bt(ls))}var Lt=fi(0);function oa(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Al=[];function vl(){for(var t=0;t<Al.length;t++)Al[t]._workInProgressVersionPrimary=null;Al.length=0}var sa=le.ReactCurrentDispatcher,_l=le.ReactCurrentBatchConfig,Wi=0,Ft=null,on=null,cn=null,aa=!1,cs=!1,fs=0,m0=0;function _n(){throw Error(g(321))}function Il(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!F(t[l],i[l]))return!1;return!0}function Sl(t,i,l,c,h,x){if(Wi=x,Ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,sa.current=t===null||t.memoizedState===null?C0:A0,t=l(c,h),cs){x=0;do{if(cs=!1,fs=0,25<=x)throw Error(g(301));x+=1,cn=on=null,i.updateQueue=null,sa.current=v0,t=l(c,h)}while(cs)}if(sa.current=ca,i=on!==null&&on.next!==null,Wi=0,cn=on=Ft=null,aa=!1,i)throw Error(g(300));return t}function Tl(){var t=fs!==0;return fs=0,t}function Or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Ft.memoizedState=cn=t:cn=cn.next=t,cn}function ur(){if(on===null){var t=Ft.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var i=cn===null?Ft.memoizedState:cn.next;if(i!==null)cn=i,on=t;else{if(t===null)throw Error(g(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},cn===null?Ft.memoizedState=cn=t:cn=cn.next=t}return cn}function ds(t,i){return typeof i=="function"?i(t):i}function Nl(t){var i=ur(),l=i.queue;if(l===null)throw Error(g(311));l.lastRenderedReducer=t;var c=on,h=c.baseQueue,x=l.pending;if(x!==null){if(h!==null){var v=h.next;h.next=x.next,x.next=v}c.baseQueue=h=x,l.pending=null}if(h!==null){x=h.next,c=c.baseState;var O=v=null,k=null,j=x;do{var te=j.lane;if((Wi&te)===te)k!==null&&(k=k.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:t(c,j.action);else{var ne={lane:te,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};k===null?(O=k=ne,v=c):k=k.next=ne,Ft.lanes|=te,Gi|=te}j=j.next}while(j!==null&&j!==x);k===null?v=c:k.next=O,F(c,i.memoizedState)||(Ln=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=k,l.lastRenderedState=c}if(t=l.interleaved,t!==null){h=t;do x=h.lane,Ft.lanes|=x,Gi|=x,h=h.next;while(h!==t)}else h===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Rl(t){var i=ur(),l=i.queue;if(l===null)throw Error(g(311));l.lastRenderedReducer=t;var c=l.dispatch,h=l.pending,x=i.memoizedState;if(h!==null){l.pending=null;var v=h=h.next;do x=t(x,v.action),v=v.next;while(v!==h);F(x,i.memoizedState)||(Ln=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),l.lastRenderedState=x}return[x,c]}function lc(){}function uc(t,i){var l=Ft,c=ur(),h=i(),x=!F(c.memoizedState,h);if(x&&(c.memoizedState=h,Ln=!0),c=c.queue,Ol(dc.bind(null,l,c,t),[t]),c.getSnapshot!==i||x||cn!==null&&cn.memoizedState.tag&1){if(l.flags|=2048,hs(9,fc.bind(null,l,c,h,i),void 0,null),fn===null)throw Error(g(349));Wi&30||cc(l,i,h)}return h}function cc(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=Ft.updateQueue,i===null?(i={lastEffect:null,stores:null},Ft.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function fc(t,i,l,c){i.value=l,i.getSnapshot=c,hc(i)&&gc(t)}function dc(t,i,l){return l(function(){hc(i)&&gc(t)})}function hc(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!F(t,l)}catch{return!0}}function gc(t){var i=Hr(t,1);i!==null&&Er(i,t,1,-1)}function pc(t){var i=Or();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:t},i.queue=t,t=t.dispatch=E0.bind(null,Ft,t),[i.memoizedState,t]}function hs(t,i,l,c){return t={tag:t,create:i,destroy:l,deps:c,next:null},i=Ft.updateQueue,i===null?(i={lastEffect:null,stores:null},Ft.updateQueue=i,i.lastEffect=t.next=t):(l=i.lastEffect,l===null?i.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,i.lastEffect=t)),t}function xc(){return ur().memoizedState}function la(t,i,l,c){var h=Or();Ft.flags|=t,h.memoizedState=hs(1|i,l,void 0,c===void 0?null:c)}function ua(t,i,l,c){var h=ur();c=c===void 0?null:c;var x=void 0;if(on!==null){var v=on.memoizedState;if(x=v.destroy,c!==null&&Il(c,v.deps)){h.memoizedState=hs(i,l,x,c);return}}Ft.flags|=t,h.memoizedState=hs(1|i,l,x,c)}function mc(t,i){return la(8390656,8,t,i)}function Ol(t,i){return ua(2048,8,t,i)}function wc(t,i){return ua(4,2,t,i)}function yc(t,i){return ua(4,4,t,i)}function Ec(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Cc(t,i,l){return l=l!=null?l.concat([t]):null,ua(4,4,Ec.bind(null,i,t),l)}function bl(){}function Ac(t,i){var l=ur();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Il(i,c[1])?c[0]:(l.memoizedState=[t,i],t)}function vc(t,i){var l=ur();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Il(i,c[1])?c[0]:(t=t(),l.memoizedState=[t,i],t)}function _c(t,i,l){return Wi&21?(F(l,i)||(l=en(),Ft.lanes|=l,Gi|=l,t.baseState=!0),i):(t.baseState&&(t.baseState=!1,Ln=!0),t.memoizedState=l)}function w0(t,i){var l=je;je=l!==0&&4>l?l:4,t(!0);var c=_l.transition;_l.transition={};try{t(!1),i()}finally{je=l,_l.transition=c}}function Ic(){return ur().memoizedState}function y0(t,i,l){var c=yi(t);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},Sc(t))Tc(i,l);else if(l=rc(t,i,l,c),l!==null){var h=Rn();Er(l,t,c,h),Nc(l,i,c)}}function E0(t,i,l){var c=yi(t),h={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))Tc(i,h);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var v=i.lastRenderedState,O=x(v,l);if(h.hasEagerState=!0,h.eagerState=O,F(O,v)){var k=i.interleaved;k===null?(h.next=h,wl(i)):(h.next=k.next,k.next=h),i.interleaved=h;return}}catch{}finally{}l=rc(t,i,h,c),l!==null&&(h=Rn(),Er(l,t,c,h),Nc(l,i,c))}}function Sc(t){var i=t.alternate;return t===Ft||i!==null&&i===Ft}function Tc(t,i){cs=aa=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function Nc(t,i,l){if(l&4194240){var c=i.lanes;c&=t.pendingLanes,l|=c,i.lanes=l,Ut(t,l)}}var ca={readContext:lr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},C0={readContext:lr,useCallback:function(t,i){return Or().memoizedState=[t,i===void 0?null:i],t},useContext:lr,useEffect:mc,useImperativeHandle:function(t,i,l){return l=l!=null?l.concat([t]):null,la(4194308,4,Ec.bind(null,i,t),l)},useLayoutEffect:function(t,i){return la(4194308,4,t,i)},useInsertionEffect:function(t,i){return la(4,2,t,i)},useMemo:function(t,i){var l=Or();return i=i===void 0?null:i,t=t(),l.memoizedState=[t,i],t},useReducer:function(t,i,l){var c=Or();return i=l!==void 0?l(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=y0.bind(null,Ft,t),[c.memoizedState,t]},useRef:function(t){var i=Or();return t={current:t},i.memoizedState=t},useState:pc,useDebugValue:bl,useDeferredValue:function(t){return Or().memoizedState=t},useTransition:function(){var t=pc(!1),i=t[0];return t=w0.bind(null,t[1]),Or().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,l){var c=Ft,h=Or();if(kt){if(l===void 0)throw Error(g(407));l=l()}else{if(l=i(),fn===null)throw Error(g(349));Wi&30||cc(c,i,l)}h.memoizedState=l;var x={value:l,getSnapshot:i};return h.queue=x,mc(dc.bind(null,c,x,t),[t]),c.flags|=2048,hs(9,fc.bind(null,c,x,l,i),void 0,null),l},useId:function(){var t=Or(),i=fn.identifierPrefix;if(kt){var l=zr,c=Vr;l=(c&~(1<<32-Tn(c)-1)).toString(32)+l,i=":"+i+"R"+l,l=fs++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=m0++,i=":"+i+"r"+l.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},A0={readContext:lr,useCallback:Ac,useContext:lr,useEffect:Ol,useImperativeHandle:Cc,useInsertionEffect:wc,useLayoutEffect:yc,useMemo:vc,useReducer:Nl,useRef:xc,useState:function(){return Nl(ds)},useDebugValue:bl,useDeferredValue:function(t){var i=ur();return _c(i,on.memoizedState,t)},useTransition:function(){var t=Nl(ds)[0],i=ur().memoizedState;return[t,i]},useMutableSource:lc,useSyncExternalStore:uc,useId:Ic,unstable_isNewReconciler:!1},v0={readContext:lr,useCallback:Ac,useContext:lr,useEffect:Ol,useImperativeHandle:Cc,useInsertionEffect:wc,useLayoutEffect:yc,useMemo:vc,useReducer:Rl,useRef:xc,useState:function(){return Rl(ds)},useDebugValue:bl,useDeferredValue:function(t){var i=ur();return on===null?i.memoizedState=t:_c(i,on.memoizedState,t)},useTransition:function(){var t=Rl(ds)[0],i=ur().memoizedState;return[t,i]},useMutableSource:lc,useSyncExternalStore:uc,useId:Ic,unstable_isNewReconciler:!1};function mr(t,i){if(t&&t.defaultProps){i=he({},i),t=t.defaultProps;for(var l in t)i[l]===void 0&&(i[l]=t[l]);return i}return i}function Dl(t,i,l,c){i=t.memoizedState,l=l(c,i),l=l==null?i:he({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var fa={isMounted:function(t){return(t=t._reactInternals)?kn(t)===t:!1},enqueueSetState:function(t,i,l){t=t._reactInternals;var c=Rn(),h=yi(t),x=Wr(c,h);x.payload=i,l!=null&&(x.callback=l),i=pi(t,x,h),i!==null&&(Er(i,t,h,c),ra(i,t,h))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var c=Rn(),h=yi(t),x=Wr(c,h);x.tag=1,x.payload=i,l!=null&&(x.callback=l),i=pi(t,x,h),i!==null&&(Er(i,t,h,c),ra(i,t,h))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=Rn(),c=yi(t),h=Wr(l,c);h.tag=2,i!=null&&(h.callback=i),i=pi(t,h,c),i!==null&&(Er(i,t,c,l),ra(i,t,c))}};function Rc(t,i,l,c,h,x,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,x,v):i.prototype&&i.prototype.isPureReactComponent?!G(l,c)||!G(h,x):!0}function Oc(t,i,l){var c=!1,h=di,x=i.contextType;return typeof x=="object"&&x!==null?x=lr(x):(h=Bn(i)?Fi:vn.current,c=i.contextTypes,x=(c=c!=null)?mo(t,h):di),i=new i(l,x),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=fa,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=x),i}function bc(t,i,l,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==t&&fa.enqueueReplaceState(i,i.state,null)}function Ml(t,i,l,c){var h=t.stateNode;h.props=l,h.state=t.memoizedState,h.refs={},yl(t);var x=i.contextType;typeof x=="object"&&x!==null?h.context=lr(x):(x=Bn(i)?Fi:vn.current,h.context=mo(t,x)),h.state=t.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(Dl(t,i,x,l),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&fa.enqueueReplaceState(h,h.state,null),ia(t,l,h,c),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,i){try{var l="",c=i;do l+=tt(c),c=c.return;while(c);var h=l}catch(x){h=`
Error generating stack: `+x.message+`
`+x.stack}return{value:t,source:i,stack:h,digest:null}}function kl(t,i,l){return{value:t,source:null,stack:l??null,digest:i??null}}function Pl(t,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var _0=typeof WeakMap=="function"?WeakMap:Map;function Dc(t,i,l){l=Wr(-1,l),l.tag=3,l.payload={element:null};var c=i.value;return l.callback=function(){wa||(wa=!0,Ql=c),Pl(t,i)},l}function Mc(t,i,l){l=Wr(-1,l),l.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var h=i.value;l.payload=function(){return c(h)},l.callback=function(){Pl(t,i)}}var x=t.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Pl(t,i),typeof c!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),l}function kc(t,i,l){var c=t.pingCache;if(c===null){c=t.pingCache=new _0;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(l)||(h.add(l),t=F0.bind(null,t,i,l),i.then(t,t))}function Pc(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function Bc(t,i,l,c,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===i?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Wr(-1,1),i.tag=2,pi(l,i,1))),l.lanes|=1),t)}var I0=le.ReactCurrentOwner,Ln=!1;function Nn(t,i,l,c){i.child=t===null?nc(i,null,l,c):Co(i,t.child,l,c)}function Lc(t,i,l,c,h){l=l.render;var x=i.ref;return vo(i,h),c=Sl(t,i,l,c,x,h),l=Tl(),t!==null&&!Ln?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~h,Gr(t,i,h)):(kt&&l&&ul(i),i.flags|=1,Nn(t,i,c,h),i.child)}function Fc(t,i,l,c,h){if(t===null){var x=l.type;return typeof x=="function"&&!ru(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=x,Uc(t,i,x,c,h)):(t=_a(l.type,null,c,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(x=t.child,!(t.lanes&h)){var v=x.memoizedProps;if(l=l.compare,l=l!==null?l:G,l(v,c)&&t.ref===i.ref)return Gr(t,i,h)}return i.flags|=1,t=Ci(x,c),t.ref=i.ref,t.return=i,i.child=t}function Uc(t,i,l,c,h){if(t!==null){var x=t.memoizedProps;if(G(x,c)&&t.ref===i.ref)if(Ln=!1,i.pendingProps=c=x,(t.lanes&h)!==0)t.flags&131072&&(Ln=!0);else return i.lanes=t.lanes,Gr(t,i,h)}return Bl(t,i,l,c,h)}function Vc(t,i,l){var c=i.pendingProps,h=c.children,x=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(To,Jn),Jn|=l;else{if(!(l&1073741824))return t=x!==null?x.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,Nt(To,Jn),Jn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=x!==null?x.baseLanes:l,Nt(To,Jn),Jn|=c}else x!==null?(c=x.baseLanes|l,i.memoizedState=null):c=l,Nt(To,Jn),Jn|=c;return Nn(t,i,h,l),i.child}function zc(t,i){var l=i.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Bl(t,i,l,c,h){var x=Bn(l)?Fi:vn.current;return x=mo(i,x),vo(i,h),l=Sl(t,i,l,c,x,h),c=Tl(),t!==null&&!Ln?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~h,Gr(t,i,h)):(kt&&c&&ul(i),i.flags|=1,Nn(t,i,l,h),i.child)}function Hc(t,i,l,c,h){if(Bn(l)){var x=!0;Ks(i)}else x=!1;if(vo(i,h),i.stateNode===null)ha(t,i),Oc(i,l,c),Ml(i,l,c,h),c=!0;else if(t===null){var v=i.stateNode,O=i.memoizedProps;v.props=O;var k=v.context,j=l.contextType;typeof j=="object"&&j!==null?j=lr(j):(j=Bn(l)?Fi:vn.current,j=mo(i,j));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof v.getSnapshotBeforeUpdate=="function";ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O!==c||k!==j)&&bc(i,v,c,j),gi=!1;var $=i.memoizedState;v.state=$,ia(i,c,v,h),k=i.memoizedState,O!==c||$!==k||Pn.current||gi?(typeof te=="function"&&(Dl(i,l,te,c),k=i.memoizedState),(O=gi||Rc(i,l,O,c,$,k,j))?(ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=k),v.props=c,v.state=k,v.context=j,c=O):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,ic(t,i),O=i.memoizedProps,j=i.type===i.elementType?O:mr(i.type,O),v.props=j,ne=i.pendingProps,$=v.context,k=l.contextType,typeof k=="object"&&k!==null?k=lr(k):(k=Bn(l)?Fi:vn.current,k=mo(i,k));var xe=l.getDerivedStateFromProps;(te=typeof xe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O!==ne||$!==k)&&bc(i,v,c,k),gi=!1,$=i.memoizedState,v.state=$,ia(i,c,v,h);var _e=i.memoizedState;O!==ne||$!==_e||Pn.current||gi?(typeof xe=="function"&&(Dl(i,l,xe,c),_e=i.memoizedState),(j=gi||Rc(i,l,j,c,$,_e,k)||!1)?(te||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,_e,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,_e,k)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||O===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||O===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=_e),v.props=c,v.state=_e,v.context=k,c=j):(typeof v.componentDidUpdate!="function"||O===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||O===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),c=!1)}return Ll(t,i,l,c,x,h)}function Ll(t,i,l,c,h,x){zc(t,i);var v=(i.flags&128)!==0;if(!c&&!v)return h&&Yu(i,l,!1),Gr(t,i,x);c=i.stateNode,I0.current=i;var O=v&&typeof l.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&v?(i.child=Co(i,t.child,null,x),i.child=Co(i,null,O,x)):Nn(t,i,O,x),i.memoizedState=c.state,h&&Yu(i,l,!0),i.child}function Wc(t){var i=t.stateNode;i.pendingContext?Xu(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Xu(t,i.context,!1),El(t,i.containerInfo)}function Gc(t,i,l,c,h){return Eo(),hl(h),i.flags|=256,Nn(t,i,l,c),i.child}var Fl={dehydrated:null,treeContext:null,retryLane:0};function Ul(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xc(t,i,l){var c=i.pendingProps,h=Lt.current,x=!1,v=(i.flags&128)!==0,O;if((O=v)||(O=t!==null&&t.memoizedState===null?!1:(h&2)!==0),O?(x=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Nt(Lt,h&1),t===null)return dl(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(i.mode&1?t.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(v=c.children,t=c.fallback,x?(c=i.mode,x=i.child,v={mode:"hidden",children:v},!(c&1)&&x!==null?(x.childLanes=0,x.pendingProps=v):x=Ia(v,c,0,null),t=Zi(t,c,l,null),x.return=i,t.return=i,x.sibling=t,i.child=x,i.child.memoizedState=Ul(l),i.memoizedState=Fl,t):Vl(i,v));if(h=t.memoizedState,h!==null&&(O=h.dehydrated,O!==null))return S0(t,i,v,c,O,h,l);if(x){x=c.fallback,v=i.mode,h=t.child,O=h.sibling;var k={mode:"hidden",children:c.children};return!(v&1)&&i.child!==h?(c=i.child,c.childLanes=0,c.pendingProps=k,i.deletions=null):(c=Ci(h,k),c.subtreeFlags=h.subtreeFlags&14680064),O!==null?x=Ci(O,x):(x=Zi(x,v,l,null),x.flags|=2),x.return=i,c.return=i,c.sibling=x,i.child=c,c=x,x=i.child,v=t.child.memoizedState,v=v===null?Ul(l):{baseLanes:v.baseLanes|l,cachePool:null,transitions:v.transitions},x.memoizedState=v,x.childLanes=t.childLanes&~l,i.memoizedState=Fl,c}return x=t.child,t=x.sibling,c=Ci(x,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=l),c.return=i,c.sibling=null,t!==null&&(l=i.deletions,l===null?(i.deletions=[t],i.flags|=16):l.push(t)),i.child=c,i.memoizedState=null,c}function Vl(t,i){return i=Ia({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function da(t,i,l,c){return c!==null&&hl(c),Co(i,t.child,null,l),t=Vl(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function S0(t,i,l,c,h,x,v){if(l)return i.flags&256?(i.flags&=-257,c=kl(Error(g(422))),da(t,i,v,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(x=c.fallback,h=i.mode,c=Ia({mode:"visible",children:c.children},h,0,null),x=Zi(x,h,v,null),x.flags|=2,c.return=i,x.return=i,c.sibling=x,i.child=c,i.mode&1&&Co(i,t.child,null,v),i.child.memoizedState=Ul(v),i.memoizedState=Fl,x);if(!(i.mode&1))return da(t,i,v,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var O=c.dgst;return c=O,x=Error(g(419)),c=kl(x,c,void 0),da(t,i,v,c)}if(O=(v&t.childLanes)!==0,Ln||O){if(c=fn,c!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|v)?0:h,h!==0&&h!==x.retryLane&&(x.retryLane=h,Hr(t,h),Er(c,t,h,-1))}return nu(),c=kl(Error(g(421))),da(t,i,v,c)}return h.data==="$?"?(i.flags|=128,i.child=t.child,i=U0.bind(null,t),h._reactRetry=i,null):(t=x.treeContext,qn=ci(h.nextSibling),Qn=i,kt=!0,xr=null,t!==null&&(sr[ar++]=Vr,sr[ar++]=zr,sr[ar++]=Ui,Vr=t.id,zr=t.overflow,Ui=i),i=Vl(i,c.children),i.flags|=4096,i)}function jc(t,i,l){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),ml(t.return,i,l)}function zl(t,i,l,c,h){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:h}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=l,x.tailMode=h)}function Yc(t,i,l){var c=i.pendingProps,h=c.revealOrder,x=c.tail;if(Nn(t,i,c.children,l),c=Lt.current,c&2)c=c&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jc(t,l,i);else if(t.tag===19)jc(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Nt(Lt,c),!(i.mode&1))i.memoizedState=null;else switch(h){case"forwards":for(l=i.child,h=null;l!==null;)t=l.alternate,t!==null&&oa(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=i.child,i.child=null):(h=l.sibling,l.sibling=null),zl(i,!1,h,l,x);break;case"backwards":for(l=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&oa(t)===null){i.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}zl(i,!0,l,null,x);break;case"together":zl(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ha(t,i){!(i.mode&1)&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function Gr(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),Gi|=i.lanes,!(l&i.childLanes))return null;if(t!==null&&i.child!==t.child)throw Error(g(153));if(i.child!==null){for(t=i.child,l=Ci(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=Ci(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function T0(t,i,l){switch(i.tag){case 3:Wc(i),Eo();break;case 5:ac(i);break;case 1:Bn(i.type)&&Ks(i);break;case 4:El(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,h=i.memoizedProps.value;Nt(ta,c._currentValue),c._currentValue=h;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Nt(Lt,Lt.current&1),i.flags|=128,null):l&i.child.childLanes?Xc(t,i,l):(Nt(Lt,Lt.current&1),t=Gr(t,i,l),t!==null?t.sibling:null);Nt(Lt,Lt.current&1);break;case 19:if(c=(l&i.childLanes)!==0,t.flags&128){if(c)return Yc(t,i,l);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Nt(Lt,Lt.current),c)break;return null;case 22:case 23:return i.lanes=0,Vc(t,i,l)}return Gr(t,i,l)}var Zc,Hl,Kc,Qc;Zc=function(t,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Hl=function(){},Kc=function(t,i,l,c){var h=t.memoizedProps;if(h!==c){t=i.stateNode,Hi(Rr.current);var x=null;switch(l){case"input":h=Cr(t,h),c=Cr(t,c),x=[];break;case"select":h=he({},h,{value:void 0}),c=he({},c,{value:void 0}),x=[];break;case"textarea":h=Qr(t,h),c=Qr(t,c),x=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=js)}dt(l,c);var v;l=null;for(j in h)if(!c.hasOwnProperty(j)&&h.hasOwnProperty(j)&&h[j]!=null)if(j==="style"){var O=h[j];for(v in O)O.hasOwnProperty(v)&&(l||(l={}),l[v]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(_.hasOwnProperty(j)?x||(x=[]):(x=x||[]).push(j,null));for(j in c){var k=c[j];if(O=h!=null?h[j]:void 0,c.hasOwnProperty(j)&&k!==O&&(k!=null||O!=null))if(j==="style")if(O){for(v in O)!O.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(l||(l={}),l[v]="");for(v in k)k.hasOwnProperty(v)&&O[v]!==k[v]&&(l||(l={}),l[v]=k[v])}else l||(x||(x=[]),x.push(j,l)),l=k;else j==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,O=O?O.__html:void 0,k!=null&&O!==k&&(x=x||[]).push(j,k)):j==="children"?typeof k!="string"&&typeof k!="number"||(x=x||[]).push(j,""+k):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(_.hasOwnProperty(j)?(k!=null&&j==="onScroll"&&Ot("scroll",t),x||O===k||(x=[])):(x=x||[]).push(j,k))}l&&(x=x||[]).push("style",l);var j=x;(i.updateQueue=j)&&(i.flags|=4)}},Qc=function(t,i,l,c){l!==c&&(i.flags|=4)};function gs(t,i){if(!kt)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function In(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(i)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=l,i}function N0(t,i,l){var c=i.pendingProps;switch(cl(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(i),null;case 1:return Bn(i.type)&&Zs(),In(i),null;case 3:return c=i.stateNode,_o(),bt(Pn),bt(vn),vl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&($s(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,xr!==null&&($l(xr),xr=null))),Hl(t,i),In(i),null;case 5:Cl(i);var h=Hi(us.current);if(l=i.type,t!==null&&i.stateNode!=null)Kc(t,i,l,c,h),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(g(166));return In(i),null}if(t=Hi(Rr.current),$s(i)){c=i.stateNode,l=i.type;var x=i.memoizedProps;switch(c[Nr]=i,c[is]=x,t=(i.mode&1)!==0,l){case"dialog":Ot("cancel",c),Ot("close",c);break;case"iframe":case"object":case"embed":Ot("load",c);break;case"video":case"audio":for(h=0;h<ts.length;h++)Ot(ts[h],c);break;case"source":Ot("error",c);break;case"img":case"image":case"link":Ot("error",c),Ot("load",c);break;case"details":Ot("toggle",c);break;case"input":zn(c,x),Ot("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!x.multiple},Ot("invalid",c);break;case"textarea":Mo(c,x),Ot("invalid",c)}dt(l,x),h=null;for(var v in x)if(x.hasOwnProperty(v)){var O=x[v];v==="children"?typeof O=="string"?c.textContent!==O&&(x.suppressHydrationWarning!==!0&&Xs(c.textContent,O,t),h=["children",O]):typeof O=="number"&&c.textContent!==""+O&&(x.suppressHydrationWarning!==!0&&Xs(c.textContent,O,t),h=["children",""+O]):_.hasOwnProperty(v)&&O!=null&&v==="onScroll"&&Ot("scroll",c)}switch(l){case"input":Jt(c),wt(c,x,!0);break;case"textarea":Jt(c),eo(c);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(c.onclick=js)}c=h,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bn(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(l,{is:c.is}):(t=v.createElement(l),l==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,l),t[Nr]=i,t[is]=c,Zc(t,i,!1,!1),i.stateNode=t;e:{switch(v=_t(l,c),l){case"dialog":Ot("cancel",t),Ot("close",t),h=c;break;case"iframe":case"object":case"embed":Ot("load",t),h=c;break;case"video":case"audio":for(h=0;h<ts.length;h++)Ot(ts[h],t);h=c;break;case"source":Ot("error",t),h=c;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),h=c;break;case"details":Ot("toggle",t),h=c;break;case"input":zn(t,c),h=Cr(t,c),Ot("invalid",t);break;case"option":h=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},h=he({},c,{value:void 0}),Ot("invalid",t);break;case"textarea":Mo(t,c),h=Qr(t,c),Ot("invalid",t);break;default:h=c}dt(l,h),O=h;for(x in O)if(O.hasOwnProperty(x)){var k=O[x];x==="style"?de(t,k):x==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&an(t,k)):x==="children"?typeof k=="string"?(l!=="textarea"||k!=="")&&qr(t,k):typeof k=="number"&&qr(t,""+k):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(_.hasOwnProperty(x)?k!=null&&x==="onScroll"&&Ot("scroll",t):k!=null&&q(t,x,k,v))}switch(l){case"input":Jt(t),wt(t,c,!1);break;case"textarea":Jt(t),eo(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Le(c.value));break;case"select":t.multiple=!!c.multiple,x=c.value,x!=null?we(t,!!c.multiple,x,!1):c.defaultValue!=null&&we(t,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=js)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return In(i),null;case 6:if(t&&i.stateNode!=null)Qc(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(g(166));if(l=Hi(us.current),Hi(Rr.current),$s(i)){if(c=i.stateNode,l=i.memoizedProps,c[Nr]=i,(x=c.nodeValue!==l)&&(t=Qn,t!==null))switch(t.tag){case 3:Xs(c.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xs(c.nodeValue,l,(t.mode&1)!==0)}x&&(i.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Nr]=i,i.stateNode=c}return In(i),null;case 13:if(bt(Lt),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kt&&qn!==null&&i.mode&1&&!(i.flags&128))$u(),Eo(),i.flags|=98560,x=!1;else if(x=$s(i),c!==null&&c.dehydrated!==null){if(t===null){if(!x)throw Error(g(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(g(317));x[Nr]=i}else Eo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;In(i),x=!1}else xr!==null&&($l(xr),xr=null),x=!0;if(!x)return i.flags&65536?i:null}return i.flags&128?(i.lanes=l,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(t===null||Lt.current&1?sn===0&&(sn=3):nu())),i.updateQueue!==null&&(i.flags|=4),In(i),null);case 4:return _o(),Hl(t,i),t===null&&ns(i.stateNode.containerInfo),In(i),null;case 10:return xl(i.type._context),In(i),null;case 17:return Bn(i.type)&&Zs(),In(i),null;case 19:if(bt(Lt),x=i.memoizedState,x===null)return In(i),null;if(c=(i.flags&128)!==0,v=x.rendering,v===null)if(c)gs(x,!1);else{if(sn!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(v=oa(t),v!==null){for(i.flags|=128,gs(x,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=l,l=i.child;l!==null;)x=l,t=c,x.flags&=14680066,v=x.alternate,v===null?(x.childLanes=0,x.lanes=t,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=v.childLanes,x.lanes=v.lanes,x.child=v.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=v.memoizedProps,x.memoizedState=v.memoizedState,x.updateQueue=v.updateQueue,x.type=v.type,t=v.dependencies,x.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return Nt(Lt,Lt.current&1|2),i.child}t=t.sibling}x.tail!==null&&xt()>No&&(i.flags|=128,c=!0,gs(x,!1),i.lanes=4194304)}else{if(!c)if(t=oa(v),t!==null){if(i.flags|=128,c=!0,l=t.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),gs(x,!0),x.tail===null&&x.tailMode==="hidden"&&!v.alternate&&!kt)return In(i),null}else 2*xt()-x.renderingStartTime>No&&l!==1073741824&&(i.flags|=128,c=!0,gs(x,!1),i.lanes=4194304);x.isBackwards?(v.sibling=i.child,i.child=v):(l=x.last,l!==null?l.sibling=v:i.child=v,x.last=v)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=xt(),i.sibling=null,l=Lt.current,Nt(Lt,c?l&1|2:l&1),i):(In(i),null);case 22:case 23:return tu(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?Jn&1073741824&&(In(i),i.subtreeFlags&6&&(i.flags|=8192)):In(i),null;case 24:return null;case 25:return null}throw Error(g(156,i.tag))}function R0(t,i){switch(cl(i),i.tag){case 1:return Bn(i.type)&&Zs(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return _o(),bt(Pn),bt(vn),vl(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 5:return Cl(i),null;case 13:if(bt(Lt),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(g(340));Eo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return bt(Lt),null;case 4:return _o(),null;case 10:return xl(i.type._context),null;case 22:case 23:return tu(),null;case 24:return null;default:return null}}var ga=!1,Sn=!1,O0=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function So(t,i){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){zt(t,i,c)}else l.current=null}function Wl(t,i,l){try{l()}catch(c){zt(t,i,c)}}var qc=!1;function b0(t,i){if(tl=Sr,t=Ke(),He(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var h=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var v=0,O=-1,k=-1,j=0,te=0,ne=t,$=null;t:for(;;){for(var xe;ne!==l||h!==0&&ne.nodeType!==3||(O=v+h),ne!==x||c!==0&&ne.nodeType!==3||(k=v+c),ne.nodeType===3&&(v+=ne.nodeValue.length),(xe=ne.firstChild)!==null;)$=ne,ne=xe;for(;;){if(ne===t)break t;if($===l&&++j===h&&(O=v),$===x&&++te===c&&(k=v),(xe=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=xe}l=O===-1||k===-1?null:{start:O,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(nl={focusedElem:t,selectionRange:l},Sr=!1,Ae=i;Ae!==null;)if(i=Ae,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ae=t;else for(;Ae!==null;){i=Ae;try{var _e=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Ie=_e.memoizedProps,Zt=_e.memoizedState,H=i.stateNode,B=H.getSnapshotBeforeUpdate(i.elementType===i.type?Ie:mr(i.type,Ie),Zt);H.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var W=i.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(g(163))}}catch(oe){zt(i,i.return,oe)}if(t=i.sibling,t!==null){t.return=i.return,Ae=t;break}Ae=i.return}return _e=qc,qc=!1,_e}function ps(t,i,l){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&t)===t){var x=h.destroy;h.destroy=void 0,x!==void 0&&Wl(i,l,x)}h=h.next}while(h!==c)}}function pa(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&t)===t){var c=l.create;l.destroy=c()}l=l.next}while(l!==i)}}function Gl(t){var i=t.ref;if(i!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof i=="function"?i(t):i.current=t}}function Jc(t){var i=t.alternate;i!==null&&(t.alternate=null,Jc(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Nr],delete i[is],delete i[sl],delete i[h0],delete i[g0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $c(t){return t.tag===5||t.tag===3||t.tag===4}function e1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$c(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xl(t,i,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(t,i):l.insertBefore(t,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(t,l)):(i=l,i.appendChild(t)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=js));else if(c!==4&&(t=t.child,t!==null))for(Xl(t,i,l),t=t.sibling;t!==null;)Xl(t,i,l),t=t.sibling}function jl(t,i,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(jl(t,i,l),t=t.sibling;t!==null;)jl(t,i,l),t=t.sibling}var mn=null,wr=!1;function xi(t,i,l){for(l=l.child;l!==null;)t1(t,i,l),l=l.sibling}function t1(t,i,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(st,l)}catch{}switch(l.tag){case 5:Sn||So(l,i);case 6:var c=mn,h=wr;mn=null,xi(t,i,l),mn=c,wr=h,mn!==null&&(wr?(t=mn,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):mn.removeChild(l.stateNode));break;case 18:mn!==null&&(wr?(t=mn,l=l.stateNode,t.nodeType===8?ol(t.parentNode,l):t.nodeType===1&&ol(t,l),hr(t)):ol(mn,l.stateNode));break;case 4:c=mn,h=wr,mn=l.stateNode.containerInfo,wr=!0,xi(t,i,l),mn=c,wr=h;break;case 0:case 11:case 14:case 15:if(!Sn&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var x=h,v=x.destroy;x=x.tag,v!==void 0&&(x&2||x&4)&&Wl(l,i,v),h=h.next}while(h!==c)}xi(t,i,l);break;case 1:if(!Sn&&(So(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(O){zt(l,i,O)}xi(t,i,l);break;case 21:xi(t,i,l);break;case 22:l.mode&1?(Sn=(c=Sn)||l.memoizedState!==null,xi(t,i,l),Sn=c):xi(t,i,l);break;default:xi(t,i,l)}}function n1(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new O0),i.forEach(function(c){var h=V0.bind(null,t,c);l.has(c)||(l.add(c),c.then(h,h))})}}function yr(t,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];try{var x=t,v=i,O=v;e:for(;O!==null;){switch(O.tag){case 5:mn=O.stateNode,wr=!1;break e;case 3:mn=O.stateNode.containerInfo,wr=!0;break e;case 4:mn=O.stateNode.containerInfo,wr=!0;break e}O=O.return}if(mn===null)throw Error(g(160));t1(x,v,h),mn=null,wr=!1;var k=h.alternate;k!==null&&(k.return=null),h.return=null}catch(j){zt(h,i,j)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)r1(i,t),i=i.sibling}function r1(t,i){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yr(i,t),br(t),c&4){try{ps(3,t,t.return),pa(3,t)}catch(Ie){zt(t,t.return,Ie)}try{ps(5,t,t.return)}catch(Ie){zt(t,t.return,Ie)}}break;case 1:yr(i,t),br(t),c&512&&l!==null&&So(l,l.return);break;case 5:if(yr(i,t),br(t),c&512&&l!==null&&So(l,l.return),t.flags&32){var h=t.stateNode;try{qr(h,"")}catch(Ie){zt(t,t.return,Ie)}}if(c&4&&(h=t.stateNode,h!=null)){var x=t.memoizedProps,v=l!==null?l.memoizedProps:x,O=t.type,k=t.updateQueue;if(t.updateQueue=null,k!==null)try{O==="input"&&x.type==="radio"&&x.name!=null&&Kr(h,x),_t(O,v);var j=_t(O,x);for(v=0;v<k.length;v+=2){var te=k[v],ne=k[v+1];te==="style"?de(h,ne):te==="dangerouslySetInnerHTML"?an(h,ne):te==="children"?qr(h,ne):q(h,te,ne,j)}switch(O){case"input":Wt(h,x);break;case"textarea":er(h,x);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!x.multiple;var xe=x.value;xe!=null?we(h,!!x.multiple,xe,!1):$!==!!x.multiple&&(x.defaultValue!=null?we(h,!!x.multiple,x.defaultValue,!0):we(h,!!x.multiple,x.multiple?[]:"",!1))}h[is]=x}catch(Ie){zt(t,t.return,Ie)}}break;case 6:if(yr(i,t),br(t),c&4){if(t.stateNode===null)throw Error(g(162));h=t.stateNode,x=t.memoizedProps;try{h.nodeValue=x}catch(Ie){zt(t,t.return,Ie)}}break;case 3:if(yr(i,t),br(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{hr(i.containerInfo)}catch(Ie){zt(t,t.return,Ie)}break;case 4:yr(i,t),br(t);break;case 13:yr(i,t),br(t),h=t.child,h.flags&8192&&(x=h.memoizedState!==null,h.stateNode.isHidden=x,!x||h.alternate!==null&&h.alternate.memoizedState!==null||(Kl=xt())),c&4&&n1(t);break;case 22:if(te=l!==null&&l.memoizedState!==null,t.mode&1?(Sn=(j=Sn)||te,yr(i,t),Sn=j):yr(i,t),br(t),c&8192){if(j=t.memoizedState!==null,(t.stateNode.isHidden=j)&&!te&&t.mode&1)for(Ae=t,te=t.child;te!==null;){for(ne=Ae=te;Ae!==null;){switch($=Ae,xe=$.child,$.tag){case 0:case 11:case 14:case 15:ps(4,$,$.return);break;case 1:So($,$.return);var _e=$.stateNode;if(typeof _e.componentWillUnmount=="function"){c=$,l=$.return;try{i=c,_e.props=i.memoizedProps,_e.state=i.memoizedState,_e.componentWillUnmount()}catch(Ie){zt(c,l,Ie)}}break;case 5:So($,$.return);break;case 22:if($.memoizedState!==null){s1(ne);continue}}xe!==null?(xe.return=$,Ae=xe):s1(ne)}te=te.sibling}e:for(te=null,ne=t;;){if(ne.tag===5){if(te===null){te=ne;try{h=ne.stateNode,j?(x=h.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(O=ne.stateNode,k=ne.memoizedProps.style,v=k!=null&&k.hasOwnProperty("display")?k.display:null,O.style.display=Pt("display",v))}catch(Ie){zt(t,t.return,Ie)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=j?"":ne.memoizedProps}catch(Ie){zt(t,t.return,Ie)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===t)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===t)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===t)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:yr(i,t),br(t),c&4&&n1(t);break;case 21:break;default:yr(i,t),br(t)}}function br(t){var i=t.flags;if(i&2){try{e:{for(var l=t.return;l!==null;){if($c(l)){var c=l;break e}l=l.return}throw Error(g(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(qr(h,""),c.flags&=-33);var x=e1(t);jl(t,x,h);break;case 3:case 4:var v=c.stateNode.containerInfo,O=e1(t);Xl(t,O,v);break;default:throw Error(g(161))}}catch(k){zt(t,t.return,k)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function D0(t,i,l){Ae=t,i1(t)}function i1(t,i,l){for(var c=(t.mode&1)!==0;Ae!==null;){var h=Ae,x=h.child;if(h.tag===22&&c){var v=h.memoizedState!==null||ga;if(!v){var O=h.alternate,k=O!==null&&O.memoizedState!==null||Sn;O=ga;var j=Sn;if(ga=v,(Sn=k)&&!j)for(Ae=h;Ae!==null;)v=Ae,k=v.child,v.tag===22&&v.memoizedState!==null?a1(h):k!==null?(k.return=v,Ae=k):a1(h);for(;x!==null;)Ae=x,i1(x),x=x.sibling;Ae=h,ga=O,Sn=j}o1(t)}else h.subtreeFlags&8772&&x!==null?(x.return=h,Ae=x):o1(t)}}function o1(t){for(;Ae!==null;){var i=Ae;if(i.flags&8772){var l=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Sn||pa(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Sn)if(l===null)c.componentDidMount();else{var h=i.elementType===i.type?l.memoizedProps:mr(i.type,l.memoizedProps);c.componentDidUpdate(h,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&sc(i,x,c);break;case 3:var v=i.updateQueue;if(v!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}sc(i,v,l)}break;case 5:var O=i.stateNode;if(l===null&&i.flags&4){l=O;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&l.focus();break;case"img":k.src&&(l.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var j=i.alternate;if(j!==null){var te=j.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&hr(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(g(163))}Sn||i.flags&512&&Gl(i)}catch($){zt(i,i.return,$)}}if(i===t){Ae=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ae=l;break}Ae=i.return}}function s1(t){for(;Ae!==null;){var i=Ae;if(i===t){Ae=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ae=l;break}Ae=i.return}}function a1(t){for(;Ae!==null;){var i=Ae;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{pa(4,i)}catch(k){zt(i,l,k)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var h=i.return;try{c.componentDidMount()}catch(k){zt(i,h,k)}}var x=i.return;try{Gl(i)}catch(k){zt(i,x,k)}break;case 5:var v=i.return;try{Gl(i)}catch(k){zt(i,v,k)}}}catch(k){zt(i,i.return,k)}if(i===t){Ae=null;break}var O=i.sibling;if(O!==null){O.return=i.return,Ae=O;break}Ae=i.return}}var M0=Math.ceil,xa=le.ReactCurrentDispatcher,Yl=le.ReactCurrentOwner,cr=le.ReactCurrentBatchConfig,lt=0,fn=null,Qt=null,wn=0,Jn=0,To=fi(0),sn=0,xs=null,Gi=0,ma=0,Zl=0,ms=null,Fn=null,Kl=0,No=1/0,Xr=null,wa=!1,Ql=null,mi=null,ya=!1,wi=null,Ea=0,ws=0,ql=null,Ca=-1,Aa=0;function Rn(){return lt&6?xt():Ca!==-1?Ca:Ca=xt()}function yi(t){return t.mode&1?lt&2&&wn!==0?wn&-wn:x0.transition!==null?(Aa===0&&(Aa=en()),Aa):(t=je,t!==0||(t=window.event,t=t===void 0?16:Xo(t.type)),t):1}function Er(t,i,l,c){if(50<ws)throw ws=0,ql=null,Error(g(185));T(t,l,c),(!(lt&2)||t!==fn)&&(t===fn&&(!(lt&2)&&(ma|=l),sn===4&&Ei(t,wn)),Un(t,c),l===1&&lt===0&&!(i.mode&1)&&(No=xt()+500,Qs&&hi()))}function Un(t,i){var l=t.callbackNode;ei(t,i);var c=jn(t,t===fn?wn:0);if(c===0)l!==null&&ln(l),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(l!=null&&ln(l),i===1)t.tag===0?p0(u1.bind(null,t)):Zu(u1.bind(null,t)),f0(function(){!(lt&6)&&hi()}),l=null;else{switch(bs(c)){case 1:l=Q;break;case 4:l=Rs;break;case 16:l=At;break;case 536870912:l=Os;break;default:l=At}l=m1(l,l1.bind(null,t))}t.callbackPriority=i,t.callbackNode=l}}function l1(t,i){if(Ca=-1,Aa=0,lt&6)throw Error(g(327));var l=t.callbackNode;if(Ro()&&t.callbackNode!==l)return null;var c=jn(t,t===fn?wn:0);if(c===0)return null;if(c&30||c&t.expiredLanes||i)i=va(t,c);else{i=c;var h=lt;lt|=2;var x=f1();(fn!==t||wn!==i)&&(Xr=null,No=xt()+500,ji(t,i));do try{B0();break}catch(O){c1(t,O)}while(!0);pl(),xa.current=x,lt=h,Qt!==null?i=0:(fn=null,wn=0,i=sn)}if(i!==0){if(i===2&&(h=mt(t),h!==0&&(c=h,i=Jl(t,h))),i===1)throw l=xs,ji(t,0),Ei(t,c),Un(t,xt()),l;if(i===6)Ei(t,c);else{if(h=t.current.alternate,!(c&30)&&!k0(h)&&(i=va(t,c),i===2&&(x=mt(t),x!==0&&(c=x,i=Jl(t,x))),i===1))throw l=xs,ji(t,0),Ei(t,c),Un(t,xt()),l;switch(t.finishedWork=h,t.finishedLanes=c,i){case 0:case 1:throw Error(g(345));case 2:Yi(t,Fn,Xr);break;case 3:if(Ei(t,c),(c&130023424)===c&&(i=Kl+500-xt(),10<i)){if(jn(t,0)!==0)break;if(h=t.suspendedLanes,(h&c)!==c){Rn(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=il(Yi.bind(null,t,Fn,Xr),i);break}Yi(t,Fn,Xr);break;case 4:if(Ei(t,c),(c&4194240)===c)break;for(i=t.eventTimes,h=-1;0<c;){var v=31-Tn(c);x=1<<v,v=i[v],v>h&&(h=v),c&=~x}if(c=h,c=xt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*M0(c/1960))-c,10<c){t.timeoutHandle=il(Yi.bind(null,t,Fn,Xr),c);break}Yi(t,Fn,Xr);break;case 5:Yi(t,Fn,Xr);break;default:throw Error(g(329))}}}return Un(t,xt()),t.callbackNode===l?l1.bind(null,t):null}function Jl(t,i){var l=ms;return t.current.memoizedState.isDehydrated&&(ji(t,i).flags|=256),t=va(t,i),t!==2&&(i=Fn,Fn=l,i!==null&&$l(i)),t}function $l(t){Fn===null?Fn=t:Fn.push.apply(Fn,t)}function k0(t){for(var i=t;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var h=l[c],x=h.getSnapshot;h=h.value;try{if(!F(x(),h))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ei(t,i){for(i&=~Zl,i&=~ma,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var l=31-Tn(i),c=1<<l;t[l]=-1,i&=~c}}function u1(t){if(lt&6)throw Error(g(327));Ro();var i=jn(t,0);if(!(i&1))return Un(t,xt()),null;var l=va(t,i);if(t.tag!==0&&l===2){var c=mt(t);c!==0&&(i=c,l=Jl(t,c))}if(l===1)throw l=xs,ji(t,0),Ei(t,i),Un(t,xt()),l;if(l===6)throw Error(g(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,Yi(t,Fn,Xr),Un(t,xt()),null}function eu(t,i){var l=lt;lt|=1;try{return t(i)}finally{lt=l,lt===0&&(No=xt()+500,Qs&&hi())}}function Xi(t){wi!==null&&wi.tag===0&&!(lt&6)&&Ro();var i=lt;lt|=1;var l=cr.transition,c=je;try{if(cr.transition=null,je=1,t)return t()}finally{je=c,cr.transition=l,lt=i,!(lt&6)&&hi()}}function tu(){Jn=To.current,bt(To)}function ji(t,i){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,c0(l)),Qt!==null)for(l=Qt.return;l!==null;){var c=l;switch(cl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Zs();break;case 3:_o(),bt(Pn),bt(vn),vl();break;case 5:Cl(c);break;case 4:_o();break;case 13:bt(Lt);break;case 19:bt(Lt);break;case 10:xl(c.type._context);break;case 22:case 23:tu()}l=l.return}if(fn=t,Qt=t=Ci(t.current,null),wn=Jn=i,sn=0,xs=null,Zl=ma=Gi=0,Fn=ms=null,zi!==null){for(i=0;i<zi.length;i++)if(l=zi[i],c=l.interleaved,c!==null){l.interleaved=null;var h=c.next,x=l.pending;if(x!==null){var v=x.next;x.next=h,c.next=v}l.pending=c}zi=null}return t}function c1(t,i){do{var l=Qt;try{if(pl(),sa.current=ca,aa){for(var c=Ft.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}aa=!1}if(Wi=0,cn=on=Ft=null,cs=!1,fs=0,Yl.current=null,l===null||l.return===null){sn=1,xs=i,Qt=null;break}e:{var x=t,v=l.return,O=l,k=i;if(i=wn,O.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var j=k,te=O,ne=te.tag;if(!(te.mode&1)&&(ne===0||ne===11||ne===15)){var $=te.alternate;$?(te.updateQueue=$.updateQueue,te.memoizedState=$.memoizedState,te.lanes=$.lanes):(te.updateQueue=null,te.memoizedState=null)}var xe=Pc(v);if(xe!==null){xe.flags&=-257,Bc(xe,v,O,x,i),xe.mode&1&&kc(x,j,i),i=xe,k=j;var _e=i.updateQueue;if(_e===null){var Ie=new Set;Ie.add(k),i.updateQueue=Ie}else _e.add(k);break e}else{if(!(i&1)){kc(x,j,i),nu();break e}k=Error(g(426))}}else if(kt&&O.mode&1){var Zt=Pc(v);if(Zt!==null){!(Zt.flags&65536)&&(Zt.flags|=256),Bc(Zt,v,O,x,i),hl(Io(k,O));break e}}x=k=Io(k,O),sn!==4&&(sn=2),ms===null?ms=[x]:ms.push(x),x=v;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var H=Dc(x,k,i);oc(x,H);break e;case 1:O=k;var B=x.type,W=x.stateNode;if(!(x.flags&128)&&(typeof B.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(mi===null||!mi.has(W)))){x.flags|=65536,i&=-i,x.lanes|=i;var oe=Mc(x,O,i);oc(x,oe);break e}}x=x.return}while(x!==null)}h1(l)}catch(Se){i=Se,Qt===l&&l!==null&&(Qt=l=l.return);continue}break}while(!0)}function f1(){var t=xa.current;return xa.current=ca,t===null?ca:t}function nu(){(sn===0||sn===3||sn===2)&&(sn=4),fn===null||!(Gi&268435455)&&!(ma&268435455)||Ei(fn,wn)}function va(t,i){var l=lt;lt|=2;var c=f1();(fn!==t||wn!==i)&&(Xr=null,ji(t,i));do try{P0();break}catch(h){c1(t,h)}while(!0);if(pl(),lt=l,xa.current=c,Qt!==null)throw Error(g(261));return fn=null,wn=0,sn}function P0(){for(;Qt!==null;)d1(Qt)}function B0(){for(;Qt!==null&&!It();)d1(Qt)}function d1(t){var i=x1(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,i===null?h1(t):Qt=i,Yl.current=null}function h1(t){var i=t;do{var l=i.alternate;if(t=i.return,i.flags&32768){if(l=R0(l,i),l!==null){l.flags&=32767,Qt=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sn=6,Qt=null;return}}else if(l=N0(l,i,Jn),l!==null){Qt=l;return}if(i=i.sibling,i!==null){Qt=i;return}Qt=i=t}while(i!==null);sn===0&&(sn=5)}function Yi(t,i,l){var c=je,h=cr.transition;try{cr.transition=null,je=1,L0(t,i,l,c)}finally{cr.transition=h,je=c}return null}function L0(t,i,l,c){do Ro();while(wi!==null);if(lt&6)throw Error(g(327));l=t.finishedWork;var h=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(g(177));t.callbackNode=null,t.callbackPriority=0;var x=l.lanes|l.childLanes;if(Re(t,x),t===fn&&(Qt=fn=null,wn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ya||(ya=!0,m1(At,function(){return Ro(),null})),x=(l.flags&15990)!==0,l.subtreeFlags&15990||x){x=cr.transition,cr.transition=null;var v=je;je=1;var O=lt;lt|=4,Yl.current=null,b0(t,l),r1(l,t),An(nl),Sr=!!tl,nl=tl=null,t.current=l,D0(l),Ns(),lt=O,je=v,cr.transition=x}else t.current=l;if(ya&&(ya=!1,wi=t,Ea=h),x=t.pendingLanes,x===0&&(mi=null),$e(l.stateNode),Un(t,xt()),i!==null)for(c=t.onRecoverableError,l=0;l<i.length;l++)h=i[l],c(h.value,{componentStack:h.stack,digest:h.digest});if(wa)throw wa=!1,t=Ql,Ql=null,t;return Ea&1&&t.tag!==0&&Ro(),x=t.pendingLanes,x&1?t===ql?ws++:(ws=0,ql=t):ws=0,hi(),null}function Ro(){if(wi!==null){var t=bs(Ea),i=cr.transition,l=je;try{if(cr.transition=null,je=16>t?16:t,wi===null)var c=!1;else{if(t=wi,wi=null,Ea=0,lt&6)throw Error(g(331));var h=lt;for(lt|=4,Ae=t.current;Ae!==null;){var x=Ae,v=x.child;if(Ae.flags&16){var O=x.deletions;if(O!==null){for(var k=0;k<O.length;k++){var j=O[k];for(Ae=j;Ae!==null;){var te=Ae;switch(te.tag){case 0:case 11:case 15:ps(8,te,x)}var ne=te.child;if(ne!==null)ne.return=te,Ae=ne;else for(;Ae!==null;){te=Ae;var $=te.sibling,xe=te.return;if(Jc(te),te===j){Ae=null;break}if($!==null){$.return=xe,Ae=$;break}Ae=xe}}}var _e=x.alternate;if(_e!==null){var Ie=_e.child;if(Ie!==null){_e.child=null;do{var Zt=Ie.sibling;Ie.sibling=null,Ie=Zt}while(Ie!==null)}}Ae=x}}if(x.subtreeFlags&2064&&v!==null)v.return=x,Ae=v;else e:for(;Ae!==null;){if(x=Ae,x.flags&2048)switch(x.tag){case 0:case 11:case 15:ps(9,x,x.return)}var H=x.sibling;if(H!==null){H.return=x.return,Ae=H;break e}Ae=x.return}}var B=t.current;for(Ae=B;Ae!==null;){v=Ae;var W=v.child;if(v.subtreeFlags&2064&&W!==null)W.return=v,Ae=W;else e:for(v=B;Ae!==null;){if(O=Ae,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:pa(9,O)}}catch(Se){zt(O,O.return,Se)}if(O===v){Ae=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,Ae=oe;break e}Ae=O.return}}if(lt=h,hi(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(st,t)}catch{}c=!0}return c}finally{je=l,cr.transition=i}}return!1}function g1(t,i,l){i=Io(l,i),i=Dc(t,i,1),t=pi(t,i,1),i=Rn(),t!==null&&(T(t,1,i),Un(t,i))}function zt(t,i,l){if(t.tag===3)g1(t,t,l);else for(;i!==null;){if(i.tag===3){g1(i,t,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mi===null||!mi.has(c))){t=Io(l,t),t=Mc(i,t,1),i=pi(i,t,1),t=Rn(),i!==null&&(T(i,1,t),Un(i,t));break}}i=i.return}}function F0(t,i,l){var c=t.pingCache;c!==null&&c.delete(i),i=Rn(),t.pingedLanes|=t.suspendedLanes&l,fn===t&&(wn&l)===l&&(sn===4||sn===3&&(wn&130023424)===wn&&500>xt()-Kl?ji(t,0):Zl|=l),Un(t,i)}function p1(t,i){i===0&&(t.mode&1?(i=io,io<<=1,!(io&130023424)&&(io=4194304)):i=1);var l=Rn();t=Hr(t,i),t!==null&&(T(t,i,l),Un(t,l))}function U0(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),p1(t,l)}function V0(t,i){var l=0;switch(t.tag){case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(g(314))}c!==null&&c.delete(i),p1(t,l)}var x1;x1=function(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps||Pn.current)Ln=!0;else{if(!(t.lanes&l)&&!(i.flags&128))return Ln=!1,T0(t,i,l);Ln=!!(t.flags&131072)}else Ln=!1,kt&&i.flags&1048576&&Ku(i,Js,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ha(t,i),t=i.pendingProps;var h=mo(i,vn.current);vo(i,l),h=Sl(null,i,c,t,h,l);var x=Tl();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Bn(c)?(x=!0,Ks(i)):x=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,yl(i),h.updater=fa,i.stateNode=h,h._reactInternals=i,Ml(i,c,t,l),i=Ll(null,i,c,!0,x,l)):(i.tag=0,kt&&x&&ul(i),Nn(null,i,h,l),i=i.child),i;case 16:c=i.elementType;e:{switch(ha(t,i),t=i.pendingProps,h=c._init,c=h(c._payload),i.type=c,h=i.tag=H0(c),t=mr(c,t),h){case 0:i=Bl(null,i,c,t,l);break e;case 1:i=Hc(null,i,c,t,l);break e;case 11:i=Lc(null,i,c,t,l);break e;case 14:i=Fc(null,i,c,mr(c.type,t),l);break e}throw Error(g(306,c,""))}return i;case 0:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:mr(c,h),Bl(t,i,c,h,l);case 1:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:mr(c,h),Hc(t,i,c,h,l);case 3:e:{if(Wc(i),t===null)throw Error(g(387));c=i.pendingProps,x=i.memoizedState,h=x.element,ic(t,i),ia(i,c,null,l);var v=i.memoizedState;if(c=v.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){h=Io(Error(g(423)),i),i=Gc(t,i,c,l,h);break e}else if(c!==h){h=Io(Error(g(424)),i),i=Gc(t,i,c,l,h);break e}else for(qn=ci(i.stateNode.containerInfo.firstChild),Qn=i,kt=!0,xr=null,l=nc(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Eo(),c===h){i=Gr(t,i,l);break e}Nn(t,i,c,l)}i=i.child}return i;case 5:return ac(i),t===null&&dl(i),c=i.type,h=i.pendingProps,x=t!==null?t.memoizedProps:null,v=h.children,rl(c,h)?v=null:x!==null&&rl(c,x)&&(i.flags|=32),zc(t,i),Nn(t,i,v,l),i.child;case 6:return t===null&&dl(i),null;case 13:return Xc(t,i,l);case 4:return El(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Co(i,null,c,l):Nn(t,i,c,l),i.child;case 11:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:mr(c,h),Lc(t,i,c,h,l);case 7:return Nn(t,i,i.pendingProps,l),i.child;case 8:return Nn(t,i,i.pendingProps.children,l),i.child;case 12:return Nn(t,i,i.pendingProps.children,l),i.child;case 10:e:{if(c=i.type._context,h=i.pendingProps,x=i.memoizedProps,v=h.value,Nt(ta,c._currentValue),c._currentValue=v,x!==null)if(F(x.value,v)){if(x.children===h.children&&!Pn.current){i=Gr(t,i,l);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var O=x.dependencies;if(O!==null){v=x.child;for(var k=O.firstContext;k!==null;){if(k.context===c){if(x.tag===1){k=Wr(-1,l&-l),k.tag=2;var j=x.updateQueue;if(j!==null){j=j.shared;var te=j.pending;te===null?k.next=k:(k.next=te.next,te.next=k),j.pending=k}}x.lanes|=l,k=x.alternate,k!==null&&(k.lanes|=l),ml(x.return,l,i),O.lanes|=l;break}k=k.next}}else if(x.tag===10)v=x.type===i.type?null:x.child;else if(x.tag===18){if(v=x.return,v===null)throw Error(g(341));v.lanes|=l,O=v.alternate,O!==null&&(O.lanes|=l),ml(v,l,i),v=x.sibling}else v=x.child;if(v!==null)v.return=x;else for(v=x;v!==null;){if(v===i){v=null;break}if(x=v.sibling,x!==null){x.return=v.return,v=x;break}v=v.return}x=v}Nn(t,i,h.children,l),i=i.child}return i;case 9:return h=i.type,c=i.pendingProps.children,vo(i,l),h=lr(h),c=c(h),i.flags|=1,Nn(t,i,c,l),i.child;case 14:return c=i.type,h=mr(c,i.pendingProps),h=mr(c.type,h),Fc(t,i,c,h,l);case 15:return Uc(t,i,i.type,i.pendingProps,l);case 17:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:mr(c,h),ha(t,i),i.tag=1,Bn(c)?(t=!0,Ks(i)):t=!1,vo(i,l),Oc(i,c,h),Ml(i,c,h,l),Ll(null,i,c,!0,t,l);case 19:return Yc(t,i,l);case 22:return Vc(t,i,l)}throw Error(g(156,i.tag))};function m1(t,i){return Gn(t,i)}function z0(t,i,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,i,l,c){return new z0(t,i,l,c)}function ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function H0(t){if(typeof t=="function")return ru(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ve)return 11;if(t===Y)return 14}return 2}function Ci(t,i){var l=t.alternate;return l===null?(l=fr(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function _a(t,i,l,c,h,x){var v=2;if(c=t,typeof t=="function")ru(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case Z:return Zi(l.children,h,x,i);case me:v=8,h|=8;break;case J:return t=fr(12,l,i,h|2),t.elementType=J,t.lanes=x,t;case Fe:return t=fr(13,l,i,h),t.elementType=Fe,t.lanes=x,t;case ct:return t=fr(19,l,i,h),t.elementType=ct,t.lanes=x,t;case Ee:return Ia(l,h,x,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rt:v=10;break e;case ut:v=9;break e;case ve:v=11;break e;case Y:v=14;break e;case et:v=16,c=null;break e}throw Error(g(130,t==null?t:typeof t,""))}return i=fr(v,l,i,h),i.elementType=t,i.type=c,i.lanes=x,i}function Zi(t,i,l,c){return t=fr(7,t,c,i),t.lanes=l,t}function Ia(t,i,l,c){return t=fr(22,t,c,i),t.elementType=Ee,t.lanes=l,t.stateNode={isHidden:!1},t}function iu(t,i,l){return t=fr(6,t,null,i),t.lanes=l,t}function ou(t,i,l){return i=fr(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function W0(t,i,l,c,h){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=z(0),this.expirationTimes=z(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function su(t,i,l,c,h,x,v,O,k){return t=new W0(t,i,l,O,k),i===1?(i=1,x===!0&&(i|=8)):i=0,x=fr(3,null,null,i),t.current=x,x.stateNode=t,x.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},yl(x),t}function G0(t,i,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:t,containerInfo:i,implementation:l}}function w1(t){if(!t)return di;t=t._reactInternals;e:{if(kn(t)!==t||t.tag!==1)throw Error(g(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Bn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(g(171))}if(t.tag===1){var l=t.type;if(Bn(l))return ju(t,l,i)}return i}function y1(t,i,l,c,h,x,v,O,k){return t=su(l,c,!0,t,h,x,v,O,k),t.context=w1(null),l=t.current,c=Rn(),h=yi(l),x=Wr(c,h),x.callback=i??null,pi(l,x,h),t.current.lanes=h,T(t,h,c),Un(t,c),t}function Sa(t,i,l,c){var h=i.current,x=Rn(),v=yi(h);return l=w1(l),i.context===null?i.context=l:i.pendingContext=l,i=Wr(x,v),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=pi(h,i,v),t!==null&&(Er(t,h,v,x),ra(t,h,v)),v}function Ta(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function E1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function au(t,i){E1(t,i),(t=t.alternate)&&E1(t,i)}var C1=typeof reportError=="function"?reportError:function(t){console.error(t)};function lu(t){this._internalRoot=t}Na.prototype.render=lu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(g(409));Sa(t,i,null,null)},Na.prototype.unmount=lu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Xi(function(){Sa(null,t,null,null)}),i[Fr]=null}};function Na(t){this._internalRoot=t}Na.prototype.unstable_scheduleHydration=function(t){if(t){var i=St();t={blockedOn:null,target:t,priority:i};for(var l=0;l<gn.length&&i!==0&&i<gn[l].priority;l++);gn.splice(l,0,t),l===0&&Ms(t)}};function uu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ra(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function A1(){}function X0(t,i,l,c,h){if(h){if(typeof c=="function"){var x=c;c=function(){var j=Ta(v);x.call(j)}}var v=y1(i,c,t,0,null,!1,!1,"",A1);return t._reactRootContainer=v,t[Fr]=v.current,ns(t.nodeType===8?t.parentNode:t),Xi(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof c=="function"){var O=c;c=function(){var j=Ta(k);O.call(j)}}var k=su(t,0,!1,null,null,!1,!1,"",A1);return t._reactRootContainer=k,t[Fr]=k.current,ns(t.nodeType===8?t.parentNode:t),Xi(function(){Sa(i,k,l,c)}),k}function Oa(t,i,l,c,h){var x=l._reactRootContainer;if(x){var v=x;if(typeof h=="function"){var O=h;h=function(){var k=Ta(v);O.call(k)}}Sa(i,v,t,h)}else v=X0(l,i,t,h,c);return Ta(v)}oo=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var l=vt(i.pendingLanes);l!==0&&(Ut(i,l|1),Un(i,xt()),!(lt&6)&&(No=xt()+500,hi()))}break;case 13:Xi(function(){var c=Hr(t,1);if(c!==null){var h=Rn();Er(c,t,1,h)}}),au(t,1)}},Cn=function(t){if(t.tag===13){var i=Hr(t,134217728);if(i!==null){var l=Rn();Er(i,t,134217728,l)}au(t,134217728)}},Oe=function(t){if(t.tag===13){var i=yi(t),l=Hr(t,i);if(l!==null){var c=Rn();Er(l,t,i,c)}au(t,i)}},St=function(){return je},Ho=function(t,i){var l=je;try{return je=t,i()}finally{je=l}},no=function(t,i,l){switch(i){case"input":if(Wt(t,l),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==t&&c.form===t.form){var h=Ys(c);if(!h)throw Error(g(90));vi(c),Wt(c,h)}}}break;case"textarea":er(t,l);break;case"select":i=l.value,i!=null&&we(t,!!l.multiple,i,!1)}},ro=eu,$t=Xi;var j0={usingClientEntryPoint:!1,Events:[os,po,Ys,Po,Mn,eu]},ys={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y0={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ss(t),t===null?null:t.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ba.isDisabled&&ba.supportsFiber)try{st=ba.inject(Y0),Xe=ba}catch{}}return Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j0,Vn.createPortal=function(t,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uu(i))throw Error(g(200));return G0(t,i,null,l)},Vn.createRoot=function(t,i){if(!uu(t))throw Error(g(299));var l=!1,c="",h=C1;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=su(t,1,!1,null,null,l,!1,c,h),t[Fr]=i.current,ns(t.nodeType===8?t.parentNode:t),new lu(i)},Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(g(188)):(t=Object.keys(t).join(","),Error(g(268,t)));return t=Ss(i),t=t===null?null:t.stateNode,t},Vn.flushSync=function(t){return Xi(t)},Vn.hydrate=function(t,i,l){if(!Ra(i))throw Error(g(200));return Oa(null,t,i,!0,l)},Vn.hydrateRoot=function(t,i,l){if(!uu(t))throw Error(g(405));var c=l!=null&&l.hydratedSources||null,h=!1,x="",v=C1;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),i=y1(i,null,t,1,l??null,h,!1,x,v),t[Fr]=i.current,ns(t),c)for(t=0;t<c.length;t++)l=c[t],h=l._getVersion,h=h(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,h]:i.mutableSourceEagerHydrationData.push(l,h);return new Na(i)},Vn.render=function(t,i,l){if(!Ra(i))throw Error(g(200));return Oa(null,t,i,!1,l)},Vn.unmountComponentAtNode=function(t){if(!Ra(t))throw Error(g(40));return t._reactRootContainer?(Xi(function(){Oa(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1},Vn.unstable_batchedUpdates=eu,Vn.unstable_renderSubtreeIntoContainer=function(t,i,l,c){if(!Ra(l))throw Error(g(200));if(t==null||t._reactInternals===void 0)throw Error(g(38));return Oa(t,i,l,!1,c)},Vn.version="18.3.1-next-f1338f8080-20240426",Vn}var O1;function Y1(){if(O1)return du.exports;O1=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(m){console.error(m)}}return p(),du.exports=tf(),du.exports}var b1;function nf(){if(b1)return Ma;b1=1;var p=Y1();return Ma.createRoot=p.createRoot,Ma.hydrateRoot=p.hydrateRoot,Ma}var rf=nf();function Pa(){return Pa=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var A in g)({}).hasOwnProperty.call(g,A)&&(p[A]=g[A])}return p},Pa.apply(null,arguments)}function Iu(p,m){if(p==null)return{};var g={};for(var A in p)if({}.hasOwnProperty.call(p,A)){if(m.includes(A))continue;g[A]=p[A]}return g}function xu(p,m){return xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g},xu(p,m)}function Su(p,m){p.prototype=Object.create(m.prototype),p.prototype.constructor=p,xu(p,m)}function of(p,m){return p.classList?!!m&&p.classList.contains(m):(" "+(p.className.baseVal||p.className)+" ").indexOf(" "+m+" ")!==-1}function sf(p,m){p.classList?p.classList.add(m):of(p,m)||(typeof p.className=="string"?p.className=p.className+" "+m:p.setAttribute("class",(p.className&&p.className.baseVal||"")+" "+m))}function D1(p,m){return p.replace(new RegExp("(^|\\s)"+m+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function af(p,m){p.classList?p.classList.remove(m):typeof p.className=="string"?p.className=D1(p.className,m):p.setAttribute("class",D1(p.className&&p.className.baseVal||"",m))}var lf=Y1();const ka=vu(lf),M1={disabled:!1},Ba=ot.createContext(null);var Z1=function(m){return m.scrollTop},Cs="unmounted",Ki="exited",Qi="entering",bo="entered",mu="exiting",Zr=function(p){Su(m,p);function m(A,_){var y;y=p.call(this,A,_)||this;var N=_,D=N&&!N.isMounting?A.enter:A.appear,b;return y.appearStatus=null,A.in?D?(b=Ki,y.appearStatus=Qi):b=bo:A.unmountOnExit||A.mountOnEnter?b=Cs:b=Ki,y.state={status:b},y.nextCallback=null,y}m.getDerivedStateFromProps=function(_,y){var N=_.in;return N&&y.status===Cs?{status:Ki}:null};var g=m.prototype;return g.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},g.componentDidUpdate=function(_){var y=null;if(_!==this.props){var N=this.state.status;this.props.in?N!==Qi&&N!==bo&&(y=Qi):(N===Qi||N===bo)&&(y=mu)}this.updateStatus(!1,y)},g.componentWillUnmount=function(){this.cancelNextCallback()},g.getTimeouts=function(){var _=this.props.timeout,y,N,D;return y=N=D=_,_!=null&&typeof _!="number"&&(y=_.exit,N=_.enter,D=_.appear!==void 0?_.appear:N),{exit:y,enter:N,appear:D}},g.updateStatus=function(_,y){if(_===void 0&&(_=!1),y!==null)if(this.cancelNextCallback(),y===Qi){if(this.props.unmountOnExit||this.props.mountOnEnter){var N=this.props.nodeRef?this.props.nodeRef.current:ka.findDOMNode(this);N&&Z1(N)}this.performEnter(_)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ki&&this.setState({status:Cs})},g.performEnter=function(_){var y=this,N=this.props.enter,D=this.context?this.context.isMounting:_,b=this.props.nodeRef?[D]:[ka.findDOMNode(this),D],S=b[0],V=b[1],L=this.getTimeouts(),ce=D?L.appear:L.enter;if(!_&&!N||M1.disabled){this.safeSetState({status:bo},function(){y.props.onEntered(S)});return}this.props.onEnter(S,V),this.safeSetState({status:Qi},function(){y.props.onEntering(S,V),y.onTransitionEnd(ce,function(){y.safeSetState({status:bo},function(){y.props.onEntered(S,V)})})})},g.performExit=function(){var _=this,y=this.props.exit,N=this.getTimeouts(),D=this.props.nodeRef?void 0:ka.findDOMNode(this);if(!y||M1.disabled){this.safeSetState({status:Ki},function(){_.props.onExited(D)});return}this.props.onExit(D),this.safeSetState({status:mu},function(){_.props.onExiting(D),_.onTransitionEnd(N.exit,function(){_.safeSetState({status:Ki},function(){_.props.onExited(D)})})})},g.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},g.safeSetState=function(_,y){y=this.setNextCallback(y),this.setState(_,y)},g.setNextCallback=function(_){var y=this,N=!0;return this.nextCallback=function(D){N&&(N=!1,y.nextCallback=null,_(D))},this.nextCallback.cancel=function(){N=!1},this.nextCallback},g.onTransitionEnd=function(_,y){this.setNextCallback(y);var N=this.props.nodeRef?this.props.nodeRef.current:ka.findDOMNode(this),D=_==null&&!this.props.addEndListener;if(!N||D){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var b=this.props.nodeRef?[this.nextCallback]:[N,this.nextCallback],S=b[0],V=b[1];this.props.addEndListener(S,V)}_!=null&&setTimeout(this.nextCallback,_)},g.render=function(){var _=this.state.status;if(_===Cs)return null;var y=this.props,N=y.children;y.in,y.mountOnEnter,y.unmountOnExit,y.appear,y.enter,y.exit,y.timeout,y.addEndListener,y.onEnter,y.onEntering,y.onEntered,y.onExit,y.onExiting,y.onExited,y.nodeRef;var D=Iu(y,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ot.createElement(Ba.Provider,{value:null},typeof N=="function"?N(_,D):ot.cloneElement(ot.Children.only(N),D))},m}(ot.Component);Zr.contextType=Ba;Zr.propTypes={};function Oo(){}Zr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Oo,onEntering:Oo,onEntered:Oo,onExit:Oo,onExiting:Oo,onExited:Oo};Zr.UNMOUNTED=Cs;Zr.EXITED=Ki;Zr.ENTERING=Qi;Zr.ENTERED=bo;Zr.EXITING=mu;var uf=function(m,g){return m&&g&&g.split(" ").forEach(function(A){return sf(m,A)})},pu=function(m,g){return m&&g&&g.split(" ").forEach(function(A){return af(m,A)})},Tu=function(p){Su(m,p);function m(){for(var A,_=arguments.length,y=new Array(_),N=0;N<_;N++)y[N]=arguments[N];return A=p.call.apply(p,[this].concat(y))||this,A.appliedClasses={appear:{},enter:{},exit:{}},A.onEnter=function(D,b){var S=A.resolveArguments(D,b),V=S[0],L=S[1];A.removeClasses(V,"exit"),A.addClass(V,L?"appear":"enter","base"),A.props.onEnter&&A.props.onEnter(D,b)},A.onEntering=function(D,b){var S=A.resolveArguments(D,b),V=S[0],L=S[1],ce=L?"appear":"enter";A.addClass(V,ce,"active"),A.props.onEntering&&A.props.onEntering(D,b)},A.onEntered=function(D,b){var S=A.resolveArguments(D,b),V=S[0],L=S[1],ce=L?"appear":"enter";A.removeClasses(V,ce),A.addClass(V,ce,"done"),A.props.onEntered&&A.props.onEntered(D,b)},A.onExit=function(D){var b=A.resolveArguments(D),S=b[0];A.removeClasses(S,"appear"),A.removeClasses(S,"enter"),A.addClass(S,"exit","base"),A.props.onExit&&A.props.onExit(D)},A.onExiting=function(D){var b=A.resolveArguments(D),S=b[0];A.addClass(S,"exit","active"),A.props.onExiting&&A.props.onExiting(D)},A.onExited=function(D){var b=A.resolveArguments(D),S=b[0];A.removeClasses(S,"exit"),A.addClass(S,"exit","done"),A.props.onExited&&A.props.onExited(D)},A.resolveArguments=function(D,b){return A.props.nodeRef?[A.props.nodeRef.current,D]:[D,b]},A.getClassNames=function(D){var b=A.props.classNames,S=typeof b=="string",V=S&&b?b+"-":"",L=S?""+V+D:b[D],ce=S?L+"-active":b[D+"Active"],ge=S?L+"-done":b[D+"Done"];return{baseClassName:L,activeClassName:ce,doneClassName:ge}},A}var g=m.prototype;return g.addClass=function(_,y,N){var D=this.getClassNames(y)[N+"ClassName"],b=this.getClassNames("enter"),S=b.doneClassName;y==="appear"&&N==="done"&&S&&(D+=" "+S),N==="active"&&_&&Z1(_),D&&(this.appliedClasses[y][N]=D,uf(_,D))},g.removeClasses=function(_,y){var N=this.appliedClasses[y],D=N.base,b=N.active,S=N.done;this.appliedClasses[y]={},D&&pu(_,D),b&&pu(_,b),S&&pu(_,S)},g.render=function(){var _=this.props;_.classNames;var y=Iu(_,["classNames"]);return ot.createElement(Zr,Pa({},y,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},m}(ot.Component);Tu.defaultProps={classNames:""};Tu.propTypes={};function cf(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Nu(p,m){var g=function(y){return m&&Ye.isValidElement(y)?m(y):y},A=Object.create(null);return p&&Ye.Children.map(p,function(_){return _}).forEach(function(_){A[_.key]=g(_)}),A}function ff(p,m){p=p||{},m=m||{};function g(V){return V in m?m[V]:p[V]}var A=Object.create(null),_=[];for(var y in p)y in m?_.length&&(A[y]=_,_=[]):_.push(y);var N,D={};for(var b in m){if(A[b])for(N=0;N<A[b].length;N++){var S=A[b][N];D[A[b][N]]=g(S)}D[b]=g(b)}for(N=0;N<_.length;N++)D[_[N]]=g(_[N]);return D}function qi(p,m,g){return g[m]!=null?g[m]:p.props[m]}function df(p,m){return Nu(p.children,function(g){return Ye.cloneElement(g,{onExited:m.bind(null,g),in:!0,appear:qi(g,"appear",p),enter:qi(g,"enter",p),exit:qi(g,"exit",p)})})}function hf(p,m,g){var A=Nu(p.children),_=ff(m,A);return Object.keys(_).forEach(function(y){var N=_[y];if(Ye.isValidElement(N)){var D=y in m,b=y in A,S=m[y],V=Ye.isValidElement(S)&&!S.props.in;b&&(!D||V)?_[y]=Ye.cloneElement(N,{onExited:g.bind(null,N),in:!0,exit:qi(N,"exit",p),enter:qi(N,"enter",p)}):!b&&D&&!V?_[y]=Ye.cloneElement(N,{in:!1}):b&&D&&Ye.isValidElement(S)&&(_[y]=Ye.cloneElement(N,{onExited:g.bind(null,N),in:S.props.in,exit:qi(N,"exit",p),enter:qi(N,"enter",p)}))}}),_}var gf=Object.values||function(p){return Object.keys(p).map(function(m){return p[m]})},pf={component:"div",childFactory:function(m){return m}},Ru=function(p){Su(m,p);function m(A,_){var y;y=p.call(this,A,_)||this;var N=y.handleExited.bind(cf(y));return y.state={contextValue:{isMounting:!0},handleExited:N,firstRender:!0},y}var g=m.prototype;return g.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},g.componentWillUnmount=function(){this.mounted=!1},m.getDerivedStateFromProps=function(_,y){var N=y.children,D=y.handleExited,b=y.firstRender;return{children:b?df(_,D):hf(_,N,D),firstRender:!1}},g.handleExited=function(_,y){var N=Nu(this.props.children);_.key in N||(_.props.onExited&&_.props.onExited(y),this.mounted&&this.setState(function(D){var b=Pa({},D.children);return delete b[_.key],{children:b}}))},g.render=function(){var _=this.props,y=_.component,N=_.childFactory,D=Iu(_,["component","childFactory"]),b=this.state.contextValue,S=gf(this.state.children).map(N);return delete D.appear,delete D.enter,delete D.exit,y===null?ot.createElement(Ba.Provider,{value:b},S):ot.createElement(Ba.Provider,{value:b},ot.createElement(y,D,S))},m}(ot.Component);Ru.propTypes={};Ru.defaultProps=pf;function k1(){return it.jsx("div",{children:"Hello, World"})}var Ce;(function(p){p[p.QR_CODE=0]="QR_CODE",p[p.AZTEC=1]="AZTEC",p[p.CODABAR=2]="CODABAR",p[p.CODE_39=3]="CODE_39",p[p.CODE_93=4]="CODE_93",p[p.CODE_128=5]="CODE_128",p[p.DATA_MATRIX=6]="DATA_MATRIX",p[p.MAXICODE=7]="MAXICODE",p[p.ITF=8]="ITF",p[p.EAN_13=9]="EAN_13",p[p.EAN_8=10]="EAN_8",p[p.PDF_417=11]="PDF_417",p[p.RSS_14=12]="RSS_14",p[p.RSS_EXPANDED=13]="RSS_EXPANDED",p[p.UPC_A=14]="UPC_A",p[p.UPC_E=15]="UPC_E",p[p.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ce||(Ce={}));var P1=new Map([[Ce.QR_CODE,"QR_CODE"],[Ce.AZTEC,"AZTEC"],[Ce.CODABAR,"CODABAR"],[Ce.CODE_39,"CODE_39"],[Ce.CODE_93,"CODE_93"],[Ce.CODE_128,"CODE_128"],[Ce.DATA_MATRIX,"DATA_MATRIX"],[Ce.MAXICODE,"MAXICODE"],[Ce.ITF,"ITF"],[Ce.EAN_13,"EAN_13"],[Ce.EAN_8,"EAN_8"],[Ce.PDF_417,"PDF_417"],[Ce.RSS_14,"RSS_14"],[Ce.RSS_EXPANDED,"RSS_EXPANDED"],[Ce.UPC_A,"UPC_A"],[Ce.UPC_E,"UPC_E"],[Ce.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),B1;(function(p){p[p.UNKNOWN=0]="UNKNOWN",p[p.URL=1]="URL"})(B1||(B1={}));function xf(p){return Object.values(Ce).includes(p)}var La;(function(p){p[p.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",p[p.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(La||(La={}));var mf=function(){function p(){}return p.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",p.SCAN_DEFAULT_FPS=2,p.DEFAULT_DISABLE_FLIP=!1,p.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,p.DEFAULT_SUPPORTED_SCAN_TYPE=[La.SCAN_TYPE_CAMERA,La.SCAN_TYPE_FILE],p}(),K1=function(){function p(m,g){this.format=m,this.formatName=g}return p.prototype.toString=function(){return this.formatName},p.create=function(m){if(!P1.has(m))throw"".concat(m," not in html5QrcodeSupportedFormatsTextMap");return new p(m,P1.get(m))},p}(),L1=function(){function p(){}return p.createFromText=function(m){var g={text:m};return{decodedText:m,result:g}},p.createFromQrcodeResult=function(m){return{decodedText:m.text,result:m}},p}(),wu;(function(p){p[p.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",p[p.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",p[p.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(wu||(wu={}));var wf=function(){function p(){}return p.createFrom=function(m){return{errorMessage:m,type:wu.UNKWOWN_ERROR}},p}(),yf=function(){function p(m){this.verbose=m}return p.prototype.log=function(m){this.verbose&&console.log(m)},p.prototype.warn=function(m){this.verbose&&console.warn(m)},p.prototype.logError=function(m,g){(this.verbose||g===!0)&&console.error(m)},p.prototype.logErrors=function(m){if(m.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(m)},p}();function jr(p){return typeof p>"u"||p===null}var Do=function(){function p(){}return p.codeParseError=function(m){return"QR code parse error, error = ".concat(m)},p.errorGettingUserMedia=function(m){return"Error getting userMedia, error = ".concat(m)},p.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},p.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},p.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},p.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},p.scannerPaused=function(){return"Scanner paused"},p}(),Q1=function(){function p(){}return p.isMediaStreamConstraintsValid=function(m,g){if(typeof m!="object"){var A=typeof m;return g.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(A,"."),!0),!1}for(var _=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],y=new Set(_),N=Object.keys(m),D=0,b=N;D<b.length;D++){var S=b[D];if(y.has(S))return g.logError("".concat(S," is not supported videoConstaints."),!0),!1}return!0},p}(),As={exports:{}},Ef=As.exports,F1;function Cf(){return F1||(F1=1,function(p,m){(function(g,A){A(m)})(Ef,function(g){function A(E){return E==null}var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,e){E.__proto__=e}||function(E,e){for(var n in e)e.hasOwnProperty(n)&&(E[n]=e[n])};function y(E,e){_(E,e);function n(){this.constructor=E}E.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function N(E,e){var n=Object.setPrototypeOf;n?n(E,e):E.__proto__=e}function D(E,e){e===void 0&&(e=E.constructor);var n=Error.captureStackTrace;n&&n(E,e)}var b=function(E){y(e,E);function e(n){var r=this.constructor,o=E.call(this,n)||this;return Object.defineProperty(o,"name",{value:r.name,enumerable:!1}),N(o,r.prototype),D(o),o}return e}(Error);class S extends b{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}S.kind="Exception";class V extends S{}V.kind="ArgumentException";class L extends S{}L.kind="IllegalArgumentException";class ce{constructor(e){if(this.binarizer=e,e===null)throw new L("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,o){const s=this.binarizer.getLuminanceSource().crop(e,n,r,o);return new ce(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new ce(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new ce(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ge extends S{static getChecksumInstance(){return new ge}}ge.kind="ChecksumException";class We{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class se{static arraycopy(e,n,r,o,s){for(;s--;)r[o++]=e[n++]}static currentTimeMillis(){return Date.now()}}class ye extends S{}ye.kind="IndexOutOfBoundsException";class Be extends ye{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}Be.kind="ArrayIndexOutOfBoundsException";class ae{static fill(e,n){for(let r=0,o=e.length;r<o;r++)e[r]=n}static fillWithin(e,n,r,o){ae.rangeCheck(e.length,n,r);for(let s=n;s<r;s++)e[s]=o}static rangeCheck(e,n,r){if(n>r)throw new L("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new Be(n);if(r>e)throw new Be(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(s=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(s=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,o=e.length;r<o;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const o=r-n,s=new Int32Array(o);return se.arraycopy(e,n,s,0,o),s}static binarySearch(e,n,r){r===void 0&&(r=ae.numberComparator);let o=0,s=e.length-1;for(;o<=s;){const a=s+o>>1,u=r(n,e[a]);if(u>0)o=a+1;else if(u<0)s=a-1;else return a}return-o-1}static numberComparator(e,n){return e-n}}class q{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}q.MIN_VALUE_32_BITS=-2147483648,q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class le{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=le.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=le.makeArray(e);se.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let o=Math.floor(e/32),s=r[o];s&=~((1<<(e&31))-1);const a=r.length;for(;s===0;){if(++o===a)return n;s=r[o]}const u=o*32+q.numberOfTrailingZeros(s);return u>n?n:u}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let o=Math.floor(e/32),s=~r[o];s&=~((1<<(e&31))-1);const a=r.length;for(;s===0;){if(++o===a)return n;s=~r[o]}const u=o*32+q.numberOfTrailingZeros(s);return u>n?n:u}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new L;if(n===e)return;n--;const r=Math.floor(e/32),o=Math.floor(n/32),s=this.bits;for(let a=r;a<=o;a++){const u=a>r?0:e&31,d=(2<<(a<o?31:n&31))-(1<<u);s[a]|=d}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new L;if(n===e)return!0;n--;const o=Math.floor(e/32),s=Math.floor(n/32),a=this.bits;for(let u=o;u<=s;u++){const f=u>o?0:e&31,w=(2<<(u<s?31:n&31))-(1<<f)&4294967295;if((a[u]&w)!==(r?w:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new L("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new L("Sizes don't match");const n=this.bits;for(let r=0,o=n.length;r<o;r++)n[r]^=e.bits[r]}toBytes(e,n,r,o){for(let s=0;s<o;s++){let a=0;for(let u=0;u<8;u++)this.get(e)&&(a|=1<<7-u),e++;n[r+s]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,o=this.bits;for(let s=0;s<r;s++){let a=o[s];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[n-s]=a}if(this.size!==r*32){const s=r*32-this.size;let a=e[0]>>>s;for(let u=1;u<r;u++){const f=e[u];a|=f<<32-s,e[u-1]=a,a=f>>>s}e[r-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof le))return!1;const n=e;return this.size===n.size&&ae.equals(this.bits,n.bits)}hashCode(){return 31*this.size+ae.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new le(this.size,this.bits.slice())}}var Ze;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ze||(Ze={}));var Te=Ze;class Z extends S{static getFormatInstance(){return new Z}}Z.kind="FormatException";var me;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(me||(me={}));class J{constructor(e,n,r,...o){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,J.VALUE_IDENTIFIER_TO_ECI.set(e,this),J.NAME_TO_ECI.set(r,this);const s=this.values;for(let a=0,u=s.length;a!==u;a++){const f=s[a];J.VALUES_TO_ECI.set(f,this)}for(const a of o)J.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new Z("incorect value");const n=J.VALUES_TO_ECI.get(e);if(n===void 0)throw new Z("incorect value");return n}static getCharacterSetECIByName(e){const n=J.NAME_TO_ECI.get(e);if(n===void 0)throw new Z("incorect value");return n}equals(e){if(!(e instanceof J))return!1;const n=e;return this.getName()===n.getName()}}J.VALUE_IDENTIFIER_TO_ECI=new Map,J.VALUES_TO_ECI=new Map,J.NAME_TO_ECI=new Map,J.Cp437=new J(me.Cp437,Int32Array.from([0,2]),"Cp437"),J.ISO8859_1=new J(me.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),J.ISO8859_2=new J(me.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),J.ISO8859_3=new J(me.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),J.ISO8859_4=new J(me.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),J.ISO8859_5=new J(me.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),J.ISO8859_6=new J(me.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),J.ISO8859_7=new J(me.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),J.ISO8859_8=new J(me.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),J.ISO8859_9=new J(me.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),J.ISO8859_10=new J(me.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),J.ISO8859_11=new J(me.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),J.ISO8859_13=new J(me.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),J.ISO8859_14=new J(me.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),J.ISO8859_15=new J(me.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),J.ISO8859_16=new J(me.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),J.SJIS=new J(me.SJIS,20,"SJIS","Shift_JIS"),J.Cp1250=new J(me.Cp1250,21,"Cp1250","windows-1250"),J.Cp1251=new J(me.Cp1251,22,"Cp1251","windows-1251"),J.Cp1252=new J(me.Cp1252,23,"Cp1252","windows-1252"),J.Cp1256=new J(me.Cp1256,24,"Cp1256","windows-1256"),J.UnicodeBigUnmarked=new J(me.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),J.UTF8=new J(me.UTF8,26,"UTF8","UTF-8"),J.ASCII=new J(me.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),J.Big5=new J(me.Big5,28,"Big5"),J.GB18030=new J(me.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),J.EUC_KR=new J(me.EUC_KR,30,"EUC_KR","EUC-KR");class Rt extends S{}Rt.kind="UnsupportedOperationException";class ut{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!ut.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof J?e:J.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if(ut.isDecodeFallbackSupported(r)){let o="";for(let s=0,a=e.length;s<a;s++){let u=e[s].toString(16);u.length<2&&(u="0"+u),o+="%"+u}return decodeURIComponent(o)}if(r.equals(J.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Rt(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(J.UTF8)||e.equals(J.ISO8859_1)||e.equals(J.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let s=0;s<r.length;s++)o.push(r[s].charCodeAt(0));return new Uint8Array(o)}}class ve{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return ut.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(Te.CHARACTER_SET)!==void 0)return n.get(Te.CHARACTER_SET).toString();const r=e.length;let o=!0,s=!0,a=!0,u=0,f=0,d=0,w=0,C=0,I=0,R=0,M=0,P=0,F=0,G=0;const re=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let ie=0;ie<r&&(o||s||a);ie++){const ee=e[ie]&255;a&&(u>0?ee&128?u--:a=!1:ee&128&&(ee&64?(u++,ee&32?(u++,ee&16?(u++,ee&8?a=!1:w++):d++):f++):a=!1)),o&&(ee>127&&ee<160?o=!1:ee>159&&(ee<192||ee===215||ee===247)&&G++),s&&(C>0?ee<64||ee===127||ee>252?s=!1:C--:ee===128||ee===160||ee>239?s=!1:ee>160&&ee<224?(I++,M=0,R++,R>P&&(P=R)):ee>127?(C++,R=0,M++,M>F&&(F=M)):(R=0,M=0))}return a&&u>0&&(a=!1),s&&C>0&&(s=!1),a&&(re||f+d+w>0)?ve.UTF8:s&&(ve.ASSUME_SHIFT_JIS||P>=3||F>=3)?ve.SHIFT_JIS:o&&s?P===2&&I===2||G*10>=r?ve.SHIFT_JIS:ve.ISO88591:o?ve.ISO88591:s?ve.SHIFT_JIS:a?ve.UTF8:ve.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function o(a,u,f,d,w,C){if(a==="%%")return"%";if(n[++r]===void 0)return;a=d?parseInt(d.substr(1)):void 0;let I=w?parseInt(w.substr(1)):void 0,R;switch(C){case"s":R=n[r];break;case"c":R=n[r][0];break;case"f":R=parseFloat(n[r]).toFixed(a);break;case"p":R=parseFloat(n[r]).toPrecision(a);break;case"e":R=parseFloat(n[r]).toExponential(a);break;case"x":R=parseInt(n[r]).toString(I||16);break;case"d":R=parseFloat(parseInt(n[r],I||10).toPrecision(a)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(I);let M=parseInt(f),P=f&&f[0]+""=="0"?"0":" ";for(;R.length<M;)R=u!==void 0?R+P:P+R;return R}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,o)}static getBytes(e,n){return ut.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}ve.SHIFT_JIS=J.SJIS.getName(),ve.GB2312="GB2312",ve.ISO88591=J.ISO8859_1.getName(),ve.EUC_JP="EUC_JP",ve.UTF8=J.UTF8.getName(),ve.PLATFORM_DEFAULT_ENCODING=ve.UTF8,ve.ASSUME_SHIFT_JIS=!1;class Fe{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ve.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let o=n;n<n+r;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class ct{constructor(e,n,r,o){if(this.width=e,this.height=n,this.rowSize=r,this.bits=o,n==null&&(n=e),this.height=n,e<1||n<1)throw new L("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,o=new ct(r,n);for(let s=0;s<n;s++){const a=e[s];for(let u=0;u<r;u++)a[u]&&o.set(u,s)}return o}static parseFromString(e,n,r){if(e===null)throw new L("stringRepresentation cannot be null");const o=new Array(e.length);let s=0,a=0,u=-1,f=0,d=0;for(;d<e.length;)if(e.charAt(d)===`
`||e.charAt(d)==="\r"){if(s>a){if(u===-1)u=s-a;else if(s-a!==u)throw new L("row lengths do not match");a=s,f++}d++}else if(e.substring(d,d+n.length)===n)d+=n.length,o[s]=!0,s++;else if(e.substring(d,d+r.length)===r)d+=r.length,o[s]=!1,s++;else throw new L("illegal character encountered: "+e.substring(d));if(s>a){if(u===-1)u=s-a;else if(s-a!==u)throw new L("row lengths do not match");f++}const w=new ct(u,f);for(let C=0;C<s;C++)o[C]&&w.set(Math.floor(C%u),Math.floor(C/u));return w}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new L("input matrix dimensions do not match");const n=new le(Math.floor(this.width/32)+1),r=this.rowSize,o=this.bits;for(let s=0,a=this.height;s<a;s++){const u=s*r,f=e.getRow(s,n).getBitArray();for(let d=0;d<r;d++)o[u+d]^=f[d]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,o){if(n<0||e<0)throw new L("Left and top must be nonnegative");if(o<1||r<1)throw new L("Height and width must be at least 1");const s=e+r,a=n+o;if(a>this.height||s>this.width)throw new L("The region must fit inside the matrix");const u=this.rowSize,f=this.bits;for(let d=n;d<a;d++){const w=d*u;for(let C=e;C<s;C++)f[w+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new le(this.width):n.clear();const r=this.rowSize,o=this.bits,s=e*r;for(let a=0;a<r;a++)n.setBulk(a*32,o[s+a]);return n}setRow(e,n){se.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new le(e),o=new le(e);for(let s=0,a=Math.floor((n+1)/2);s<a;s++)r=this.getRow(s,r),o=this.getRow(n-1-s,o),r.reverse(),o.reverse(),this.setRow(s,o),this.setRow(n-1-s,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,o=this.bits;let s=e,a=n,u=-1,f=-1;for(let d=0;d<n;d++)for(let w=0;w<r;w++){const C=o[d*r+w];if(C!==0){if(d<a&&(a=d),d>f&&(f=d),w*32<s){let I=0;for(;!(C<<31-I&4294967295);)I++;w*32+I<s&&(s=w*32+I)}if(w*32+31>u){let I=31;for(;!(C>>>I);)I--;w*32+I>u&&(u=w*32+I)}}}return u<s||f<a?null:Int32Array.from([s,a,u-s+1,f-a+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const o=r/e;let s=r%e*32;const a=n[r];let u=0;for(;!(a<<31-u&4294967295);)u++;return s+=u,Int32Array.from([s,o])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const o=Math.floor(r/e);let s=Math.floor(r%e)*32;const a=n[r];let u=31;for(;!(a>>>u);)u--;return s+=u,Int32Array.from([s,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ct))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&ae.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ae.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let o=new Fe;for(let s=0,a=this.height;s<a;s++){for(let u=0,f=this.width;u<f;u++)o.append(this.get(u,s)?e:n);o.append(r)}return o.toString()}clone(){return new ct(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends S{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class et extends We{constructor(e){super(e),this.luminances=et.EMPTY,this.buckets=new Int32Array(et.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),o=r.getWidth();n==null||n.getSize()<o?n=new le(o):n.clear(),this.initArrays(o);const s=r.getRow(e,this.luminances),a=this.buckets;for(let f=0;f<o;f++)a[(s[f]&255)>>et.LUMINANCE_SHIFT]++;const u=et.estimateBlackPoint(a);if(o<3)for(let f=0;f<o;f++)(s[f]&255)<u&&n.set(f);else{let f=s[0]&255,d=s[1]&255;for(let w=1;w<o-1;w++){const C=s[w+1]&255;(d*4-f-C)/2<u&&n.set(w),f=d,d=C}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),o=new ct(n,r);this.initArrays(n);const s=this.buckets;for(let f=1;f<5;f++){const d=Math.floor(r*f/5),w=e.getRow(d,this.luminances),C=Math.floor(n*4/5);for(let I=Math.floor(n/5);I<C;I++){const R=w[I]&255;s[R>>et.LUMINANCE_SHIFT]++}}const a=et.estimateBlackPoint(s),u=e.getMatrix();for(let f=0;f<r;f++){const d=f*n;for(let w=0;w<n;w++)(u[d+w]&255)<a&&o.set(w,f)}return o}createBinarizer(e){return new et(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<et.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,o=0,s=0;for(let w=0;w<n;w++)e[w]>s&&(o=w,s=e[w]),e[w]>r&&(r=e[w]);let a=0,u=0;for(let w=0;w<n;w++){const C=w-o,I=e[w]*C*C;I>u&&(a=w,u=I)}if(o>a){const w=o;o=a,a=w}if(a-o<=n/16)throw new Y;let f=a-1,d=-1;for(let w=a-1;w>o;w--){const C=w-o,I=C*C*(a-w)*(r-e[w]);I>d&&(f=w,d=I)}return f<<et.LUMINANCE_SHIFT}}et.LUMINANCE_BITS=5,et.LUMINANCE_SHIFT=8-et.LUMINANCE_BITS,et.LUMINANCE_BUCKETS=1<<et.LUMINANCE_BITS,et.EMPTY=Uint8ClampedArray.from([0]);class Ee extends et{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=Ee.MINIMUM_DIMENSION&&r>=Ee.MINIMUM_DIMENSION){const o=e.getMatrix();let s=n>>Ee.BLOCK_SIZE_POWER;n&Ee.BLOCK_SIZE_MASK&&s++;let a=r>>Ee.BLOCK_SIZE_POWER;r&Ee.BLOCK_SIZE_MASK&&a++;const u=Ee.calculateBlackPoints(o,s,a,n,r),f=new ct(n,r);Ee.calculateThresholdForBlock(o,s,a,n,r,u,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Ee(e)}static calculateThresholdForBlock(e,n,r,o,s,a,u){const f=s-Ee.BLOCK_SIZE,d=o-Ee.BLOCK_SIZE;for(let w=0;w<r;w++){let C=w<<Ee.BLOCK_SIZE_POWER;C>f&&(C=f);const I=Ee.cap(w,2,r-3);for(let R=0;R<n;R++){let M=R<<Ee.BLOCK_SIZE_POWER;M>d&&(M=d);const P=Ee.cap(R,2,n-3);let F=0;for(let re=-2;re<=2;re++){const ie=a[I+re];F+=ie[P-2]+ie[P-1]+ie[P]+ie[P+1]+ie[P+2]}const G=F/25;Ee.thresholdBlock(e,M,C,G,o,u)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,o,s,a){for(let u=0,f=r*s+n;u<Ee.BLOCK_SIZE;u++,f+=s)for(let d=0;d<Ee.BLOCK_SIZE;d++)(e[f+d]&255)<=o&&a.set(n+d,r+u)}static calculateBlackPoints(e,n,r,o,s){const a=s-Ee.BLOCK_SIZE,u=o-Ee.BLOCK_SIZE,f=new Array(r);for(let d=0;d<r;d++){f[d]=new Int32Array(n);let w=d<<Ee.BLOCK_SIZE_POWER;w>a&&(w=a);for(let C=0;C<n;C++){let I=C<<Ee.BLOCK_SIZE_POWER;I>u&&(I=u);let R=0,M=255,P=0;for(let G=0,re=w*o+I;G<Ee.BLOCK_SIZE;G++,re+=o){for(let ie=0;ie<Ee.BLOCK_SIZE;ie++){const ee=e[re+ie]&255;R+=ee,ee<M&&(M=ee),ee>P&&(P=ee)}if(P-M>Ee.MIN_DYNAMIC_RANGE)for(G++,re+=o;G<Ee.BLOCK_SIZE;G++,re+=o)for(let ie=0;ie<Ee.BLOCK_SIZE;ie++)R+=e[re+ie]&255}let F=R>>Ee.BLOCK_SIZE_POWER*2;if(P-M<=Ee.MIN_DYNAMIC_RANGE&&(F=M/2,d>0&&C>0)){const G=(f[d-1][C]+2*f[d][C-1]+f[d-1][C-1])/4;M<G&&(F=G)}f[d][C]=F}}return f}}Ee.BLOCK_SIZE_POWER=3,Ee.BLOCK_SIZE=1<<Ee.BLOCK_SIZE_POWER,Ee.BLOCK_SIZE_MASK=Ee.BLOCK_SIZE-1,Ee.MINIMUM_DIMENSION=Ee.BLOCK_SIZE*5,Ee.MIN_DYNAMIC_RANGE=24;class fe{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,o){throw new Rt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Rt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Rt("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Fe;for(let r=0;r<this.height;r++){const o=this.getRow(r,e);for(let s=0;s<this.width;s++){const a=o[s]&255;let u;a<64?u="#":a<128?u="+":a<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()}}class Ne extends fe{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),o=this.getWidth();for(let s=0;s<o;s++)r[s]=255-(r[s]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let o=0;o<n;o++)r[o]=255-(e[o]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,o){return new Ne(this.delegate.crop(e,n,r,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ne(this.delegate.rotateCounterClockwise45())}}class he extends fe{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return he.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const o=new Uint8ClampedArray(n*r);for(let s=0,a=0,u=e.length;s<u;s+=4,a++){let f;if(e[s+3]===0)f=255;else{const w=e[s],C=e[s+1],I=e[s+2];f=306*w+601*C+117*I+512>>10}o[a]=f}return o}getRow(e,n){if(e<0||e>=this.getHeight())throw new L("Requested row is outside the image: "+e);const r=this.getWidth(),o=e*r;return n===null?n=this.buffer.slice(o,o+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(o,o+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,o){return super.crop(e,n,r,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),o=e*he.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(o))*s+Math.abs(Math.sin(o))*a),f=Math.ceil(Math.abs(Math.sin(o))*s+Math.abs(Math.cos(o))*a);return n.width=u,n.height=f,r.translate(u/2,f/2),r.rotate(o),r.drawImage(this.canvas,s/-2,a/-2),this.buffer=he.makeBufferFromCanvasImageData(n),this}invert(){return new Ne(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class U{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var K=(globalThis||Da||self||window||void 0)&&(globalThis||Da||self||window||void 0).__awaiter||function(E,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(w){try{d(r.next(w))}catch(C){a(C)}}function f(w){try{d(r.throw(w))}catch(C){a(C)}}function d(w){w.done?s(w.value):o(w.value).then(u,f)}d((r=r.apply(E,e||[])).next())})};class Ue{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return K(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const o=r.kind==="video"?"videoinput":r.kind;if(o!=="videoinput")continue;const s=r.deviceId||r.id,a=r.label||`Video device ${n.length+1}`,u=r.groupId,f={deviceId:s,label:a,kind:o,groupId:u};n.push(f)}return n})}getVideoInputDevices(){return K(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new U(n.deviceId,n.label))})}findDeviceById(e){return K(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return K(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return K(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const o={video:r};return yield this.decodeOnceFromConstraints(o,n)})}decodeOnceFromConstraints(e,n){return K(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return K(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return K(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return K(this,void 0,void 0,function*(){let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const s={video:o};return yield this.decodeFromConstraints(s,n,r)})}decodeFromConstraints(e,n,r){return K(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,n,r)})}decodeFromStream(e,n,r){return K(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(o,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return K(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return K(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new V(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new V(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new V("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new V("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new V("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new V("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new V("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new V("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new V("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new V("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(r,n);return r.src=e,o}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return K(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return K(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const o=(s,a)=>{if(this._stopAsyncDecode){a(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);s(u)}catch(u){const f=n&&u instanceof Y,w=(u instanceof ge||u instanceof Z)&&r;if(f||w)return setTimeout(o,this._timeBetweenDecodingAttempts,s,a);a(u)}};return new Promise((s,a)=>o(s,a))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(e);n(o,null),setTimeout(r,this.timeBetweenScansMillis)}catch(o){n(null,o);const s=o instanceof ge||o instanceof Z,a=o instanceof Y;(s||a)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new he(n),o=new Ee(r);return new ce(o)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=o+"px",n.width=r,n.height=o,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class be{constructor(e,n,r=n==null?0:8*n.length,o,s,a=se.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=o,this.format=s,this.timestamp=a,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=o,this.format=s,this.resultMetadata=null,a==null?this.timestamp=se.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);se.arraycopy(n,0,r,0,n.length),se.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var tt;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tt||(tt={}));var ue=tt,gt;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(gt||(gt={}));var Le=gt;class pt{constructor(e,n,r,o,s=-1,a=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=o,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class qt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new L;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Jt{constructor(e,n){if(n.length===0)throw new L;this.field=e;const r=n.length;if(r>1&&n[0]===0){let o=1;for(;o<r&&n[o]===0;)o++;o===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-o),se.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let a=0,u=n.length;a!==u;a++){const f=n[a];r=qt.addOrSubtract(r,f)}return r}r=n[0];const o=n.length,s=this.field;for(let a=1;a<o;a++)r=qt.addOrSubtract(s.multiply(e,r),n[a]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const a=n;n=r,r=a}let o=new Int32Array(r.length);const s=r.length-n.length;se.arraycopy(r,0,o,0,s);for(let a=s;a<r.length;a++)o[a]=qt.addOrSubtract(n[a-s],r[a]);return new Jt(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,o=e.coefficients,s=o.length,a=new Int32Array(r+s-1),u=this.field;for(let f=0;f<r;f++){const d=n[f];for(let w=0;w<s;w++)a[f+w]=qt.addOrSubtract(a[f+w],u.multiply(d,o[w]))}return new Jt(u,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,o=new Int32Array(n),s=this.coefficients;for(let a=0;a<n;a++)o[a]=r.multiply(s[a],e);return new Jt(r,o)}multiplyByMonomial(e,n){if(e<0)throw new L;if(n===0)return this.field.getZero();const r=this.coefficients,o=r.length,s=new Int32Array(o+e),a=this.field;for(let u=0;u<o;u++)s[u]=a.multiply(r[u],n);return new Jt(a,s)}divide(e){if(!this.field.equals(e.field))throw new L("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new L("Divide by 0");const n=this.field;let r=n.getZero(),o=this;const s=e.getCoefficient(e.getDegree()),a=n.inverse(s);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const u=o.getDegree()-e.getDegree(),f=n.multiply(o.getCoefficient(o.getDegree()),a),d=e.multiplyByMonomial(u,f),w=n.buildMonomial(u,f);r=r.addOrSubtract(w),o=o.addOrSubtract(d)}return[r,o]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const o=this.field.log(r);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class vi extends S{}vi.kind="ArithmeticException";class nt extends qt{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const o=new Int32Array(n);let s=1;for(let u=0;u<n;u++)o[u]=s,s*=2,s>=n&&(s^=e,s&=n-1);this.expTable=o;const a=new Int32Array(n);for(let u=0;u<n-1;u++)a[o[u]]=u;this.logTable=a,this.zero=new Jt(this,Int32Array.from([0])),this.one=new Jt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new L;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new Jt(this,r)}inverse(e){if(e===0)throw new vi;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+q.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}nt.AZTEC_DATA_12=new nt(4201,4096,1),nt.AZTEC_DATA_10=new nt(1033,1024,1),nt.AZTEC_DATA_6=new nt(67,64,1),nt.AZTEC_PARAM=new nt(19,16,1),nt.QR_CODE_FIELD_256=new nt(285,256,0),nt.DATA_MATRIX_FIELD_256=new nt(301,256,1),nt.AZTEC_DATA_8=nt.DATA_MATRIX_FIELD_256,nt.MAXICODE_FIELD_64=nt.AZTEC_DATA_6;class Cr extends S{}Cr.kind="ReedSolomonException";class zn extends S{}zn.kind="IllegalStateException";class Kr{constructor(e){this.field=e}decode(e,n){const r=this.field,o=new Jt(r,e),s=new Int32Array(n);let a=!0;for(let R=0;R<n;R++){const M=o.evaluateAt(r.exp(R+r.getGeneratorBase()));s[s.length-1-R]=M,M!==0&&(a=!1)}if(a)return;const u=new Jt(r,s),f=this.runEuclideanAlgorithm(r.buildMonomial(n,1),u,n),d=f[0],w=f[1],C=this.findErrorLocations(d),I=this.findErrorMagnitudes(w,C);for(let R=0;R<C.length;R++){const M=e.length-1-r.log(C[R]);if(M<0)throw new Cr("Bad error location");e[M]=nt.addOrSubtract(e[M],I[R])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const R=e;e=n,n=R}const o=this.field;let s=e,a=n,u=o.getZero(),f=o.getOne();for(;a.getDegree()>=(r/2|0);){let R=s,M=u;if(s=a,u=f,s.isZero())throw new Cr("r_{i-1} was zero");a=R;let P=o.getZero();const F=s.getCoefficient(s.getDegree()),G=o.inverse(F);for(;a.getDegree()>=s.getDegree()&&!a.isZero();){const re=a.getDegree()-s.getDegree(),ie=o.multiply(a.getCoefficient(a.getDegree()),G);P=P.addOrSubtract(o.buildMonomial(re,ie)),a=a.addOrSubtract(s.multiplyByMonomial(re,ie))}if(f=P.multiply(u).addOrSubtract(M),a.getDegree()>=s.getDegree())throw new zn("Division algorithm failed to reduce polynomial?")}const d=f.getCoefficient(0);if(d===0)throw new Cr("sigmaTilde(0) was zero");const w=o.inverse(d),C=f.multiplyScalar(w),I=a.multiplyScalar(w);return[C,I]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let o=0;const s=this.field;for(let a=1;a<s.getSize()&&o<n;a++)e.evaluateAt(a)===0&&(r[o]=s.inverse(a),o++);if(o!==n)throw new Cr("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,o=new Int32Array(r),s=this.field;for(let a=0;a<r;a++){const u=s.inverse(n[a]);let f=1;for(let d=0;d<r;d++)if(a!==d){const w=s.multiply(n[d],u),C=w&1?w&-2:w|1;f=s.multiply(f,C)}o[a]=s.multiply(e.evaluateAt(u),s.inverse(f)),s.getGeneratorBase()!==0&&(o[a]=s.multiply(o[a],u))}return o}}var Wt;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(Wt||(Wt={}));class wt{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),o=this.correctBits(r),s=wt.convertBoolArrayToByteArray(o),a=wt.getEncodedData(o),u=new pt(s,a,null,null);return u.setNumBits(o.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=Wt.UPPER,o=Wt.UPPER,s="",a=0;for(;a<n;)if(o===Wt.BINARY){if(n-a<5)break;let u=wt.readCode(e,a,5);if(a+=5,u===0){if(n-a<11)break;u=wt.readCode(e,a,11)+31,a+=11}for(let f=0;f<u;f++){if(n-a<8){a=n;break}const d=wt.readCode(e,a,8);s+=ve.castAsNonUtf8Char(d),a+=8}o=r}else{let u=o===Wt.DIGIT?4:5;if(n-a<u)break;let f=wt.readCode(e,a,u);a+=u;let d=wt.getCharacter(o,f);d.startsWith("CTRL_")?(r=o,o=wt.getTable(d.charAt(5)),d.charAt(6)==="L"&&(r=o)):(s+=d,o=r)}return s}static getTable(e){switch(e){case"L":return Wt.LOWER;case"P":return Wt.PUNCT;case"M":return Wt.MIXED;case"D":return Wt.DIGIT;case"B":return Wt.BINARY;case"U":default:return Wt.UPPER}}static getCharacter(e,n){switch(e){case Wt.UPPER:return wt.UPPER_TABLE[n];case Wt.LOWER:return wt.LOWER_TABLE[n];case Wt.MIXED:return wt.MIXED_TABLE[n];case Wt.PUNCT:return wt.PUNCT_TABLE[n];case Wt.DIGIT:return wt.DIGIT_TABLE[n];default:throw new zn("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=nt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=nt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=nt.AZTEC_DATA_10):(r=12,n=nt.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),s=e.length/r;if(s<o)throw new Z;let a=e.length%r,u=new Int32Array(s);for(let I=0;I<s;I++,a+=r)u[I]=wt.readCode(e,a,r);try{new Kr(n).decode(u,s-o)}catch(I){throw new Z(I)}let f=(1<<r)-1,d=0;for(let I=0;I<o;I++){let R=u[I];if(R===0||R===f)throw new Z;(R===1||R===f-1)&&d++}let w=new Array(o*r-d),C=0;for(let I=0;I<o;I++){let R=u[I];if(R===1||R===f-1)w.fill(R>1,C,C+r-1),C+=r-1;else for(let M=r-1;M>=0;--M)w[C++]=(R&1<<M)!==0}return w}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),o=(n?11:14)+r*4,s=new Int32Array(o),a=new Array(this.totalBitsInLayer(r,n));if(n)for(let u=0;u<s.length;u++)s[u]=u;else{let u=o+1+2*q.truncDivision(q.truncDivision(o,2)-1,15),f=o/2,d=q.truncDivision(u,2);for(let w=0;w<f;w++){let C=w+q.truncDivision(w,15);s[f-w-1]=d-C-1,s[f+w]=d+C+1}}for(let u=0,f=0;u<r;u++){let d=(r-u)*4+(n?9:12),w=u*2,C=o-1-w;for(let I=0;I<d;I++){let R=I*2;for(let M=0;M<2;M++)a[f+R+M]=e.get(s[w+M],s[w+I]),a[f+2*d+R+M]=e.get(s[w+I],s[C-M]),a[f+4*d+R+M]=e.get(s[C-M],s[C-I]),a[f+6*d+R+M]=e.get(s[C-I],s[w+M])}f+=d*8}return a}static readCode(e,n,r){let o=0;for(let s=n;s<n+r;s++)o<<=1,e[s]&&(o|=1);return o}static readByte(e,n){let r=e.length-n;return r>=8?wt.readCode(e,n,8):wt.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=wt.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}wt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],wt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],wt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],wt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],wt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Je{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,o){const s=e-r,a=n-o;return Math.sqrt(s*s+a*a)}static sum(e){let n=0;for(let r=0,o=e.length;r!==o;r++){const s=e[r];n+=s}return n}}class Ar{static floatToIntBits(e){return e}}Ar.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof we){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Ar.floatToIntBits(this.x)+Ar.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let s,a,u;if(r>=n&&r>=o?(a=e[0],s=e[1],u=e[2]):o>=r&&o>=n?(a=e[1],s=e[0],u=e[2]):(a=e[2],s=e[0],u=e[1]),this.crossProductZ(s,a,u)<0){const f=s;s=u,u=f}e[0]=s,e[1]=a,e[2]=u}static distance(e,n){return Je.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const o=n.x,s=n.y;return(r.x-o)*(e.y-s)-(r.y-s)*(e.x-o)}}class Qr{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Mo extends Qr{constructor(e,n,r,o,s){super(e,n),this.compact=r,this.nbDatablocks=o,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class er{constructor(e,n,r,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=er.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);const s=n/2|0;if(this.leftInit=r-s,this.rightInit=r+s,this.upInit=o-s,this.downInit=o+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,o=this.downInit,s=!1,a=!0,u=!1,f=!1,d=!1,w=!1,C=!1;const I=this.width,R=this.height;for(;a;){a=!1;let M=!0;for(;(M||!f)&&n<I;)M=this.containsBlackPoint(r,o,n,!1),M?(n++,a=!0,f=!0):f||n++;if(n>=I){s=!0;break}let P=!0;for(;(P||!d)&&o<R;)P=this.containsBlackPoint(e,n,o,!0),P?(o++,a=!0,d=!0):d||o++;if(o>=R){s=!0;break}let F=!0;for(;(F||!w)&&e>=0;)F=this.containsBlackPoint(r,o,e,!1),F?(e--,a=!0,w=!0):w||e--;if(e<0){s=!0;break}let G=!0;for(;(G||!C)&&r>=0;)G=this.containsBlackPoint(e,n,r,!0),G?(r--,a=!0,C=!0):C||r--;if(r<0){s=!0;break}a&&(u=!0)}if(!s&&u){const M=n-e;let P=null;for(let ie=1;P===null&&ie<M;ie++)P=this.getBlackPointOnSegment(e,o-ie,e+ie,o);if(P==null)throw new Y;let F=null;for(let ie=1;F===null&&ie<M;ie++)F=this.getBlackPointOnSegment(e,r+ie,e+ie,r);if(F==null)throw new Y;let G=null;for(let ie=1;G===null&&ie<M;ie++)G=this.getBlackPointOnSegment(n,r+ie,n-ie,r);if(G==null)throw new Y;let re=null;for(let ie=1;re===null&&ie<M;ie++)re=this.getBlackPointOnSegment(n,o-ie,n-ie,o);if(re==null)throw new Y;return this.centerEdges(re,P,G,F)}else throw new Y}getBlackPointOnSegment(e,n,r,o){const s=Je.round(Je.distance(e,n,r,o)),a=(r-e)/s,u=(o-n)/s,f=this.image;for(let d=0;d<s;d++){const w=Je.round(e+d*a),C=Je.round(n+d*u);if(f.get(w,C))return new we(w,C)}return null}centerEdges(e,n,r,o){const s=e.getX(),a=e.getY(),u=n.getX(),f=n.getY(),d=r.getX(),w=r.getY(),C=o.getX(),I=o.getY(),R=er.CORR;return s<this.width/2?[new we(C-R,I+R),new we(u+R,f+R),new we(d-R,w-R),new we(s+R,a-R)]:[new we(C+R,I+R),new we(u+R,f-R),new we(d-R,w+R),new we(s-R,a-R)]}containsBlackPoint(e,n,r,o){const s=this.image;if(o){for(let a=e;a<=n;a++)if(s.get(a,r))return!0}else for(let a=e;a<=n;a++)if(s.get(r,a))return!0;return!1}}er.INIT_SIZE=10,er.CORR=1;class eo{static checkAndNudgePoints(e,n){const r=e.getWidth(),o=e.getHeight();let s=!0;for(let a=0;a<n.length&&s;a+=2){const u=Math.floor(n[a]),f=Math.floor(n[a+1]);if(u<-1||u>r||f<-1||f>o)throw new Y;s=!1,u===-1?(n[a]=0,s=!0):u===r&&(n[a]=r-1,s=!0),f===-1?(n[a+1]=0,s=!0):f===o&&(n[a+1]=o-1,s=!0)}s=!0;for(let a=n.length-2;a>=0&&s;a-=2){const u=Math.floor(n[a]),f=Math.floor(n[a+1]);if(u<-1||u>r||f<-1||f>o)throw new Y;s=!1,u===-1?(n[a]=0,s=!0):u===r&&(n[a]=r-1,s=!0),f===-1?(n[a+1]=0,s=!0):f===o&&(n[a+1]=o-1,s=!0)}}}class bn{constructor(e,n,r,o,s,a,u,f,d){this.a11=e,this.a21=n,this.a31=r,this.a12=o,this.a22=s,this.a32=a,this.a13=u,this.a23=f,this.a33=d}static quadrilateralToQuadrilateral(e,n,r,o,s,a,u,f,d,w,C,I,R,M,P,F){const G=bn.quadrilateralToSquare(e,n,r,o,s,a,u,f);return bn.squareToQuadrilateral(d,w,C,I,R,M,P,F).times(G)}transformPoints(e){const n=e.length,r=this.a11,o=this.a12,s=this.a13,a=this.a21,u=this.a22,f=this.a23,d=this.a31,w=this.a32,C=this.a33;for(let I=0;I<n;I+=2){const R=e[I],M=e[I+1],P=s*R+f*M+C;e[I]=(r*R+a*M+d)/P,e[I+1]=(o*R+u*M+w)/P}}transformPointsWithValues(e,n){const r=this.a11,o=this.a12,s=this.a13,a=this.a21,u=this.a22,f=this.a23,d=this.a31,w=this.a32,C=this.a33,I=e.length;for(let R=0;R<I;R++){const M=e[R],P=n[R],F=s*M+f*P+C;e[R]=(r*M+a*P+d)/F,n[R]=(o*M+u*P+w)/F}}static squareToQuadrilateral(e,n,r,o,s,a,u,f){const d=e-r+s-u,w=n-o+a-f;if(d===0&&w===0)return new bn(r-e,s-r,e,o-n,a-o,n,0,0,1);{const C=r-s,I=u-s,R=o-a,M=f-a,P=C*M-I*R,F=(d*M-I*w)/P,G=(C*w-d*R)/P;return new bn(r-e+F*r,u-e+G*u,e,o-n+F*o,f-n+G*f,n,F,G,1)}}static quadrilateralToSquare(e,n,r,o,s,a,u,f){return bn.squareToQuadrilateral(e,n,r,o,s,a,u,f).buildAdjoint()}buildAdjoint(){return new bn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new bn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class to extends eo{sampleGrid(e,n,r,o,s,a,u,f,d,w,C,I,R,M,P,F,G,re,ie){const ee=bn.quadrilateralToQuadrilateral(o,s,a,u,f,d,w,C,I,R,M,P,F,G,re,ie);return this.sampleGridWithTransform(e,n,r,ee)}sampleGridWithTransform(e,n,r,o){if(n<=0||r<=0)throw new Y;const s=new ct(n,r),a=new Float32Array(2*n);for(let u=0;u<r;u++){const f=a.length,d=u+.5;for(let w=0;w<f;w+=2)a[w]=w/2+.5,a[w+1]=d;o.transformPoints(a),eo.checkAndNudgePoints(e,a);try{for(let w=0;w<f;w+=2)e.get(Math.floor(a[w]),Math.floor(a[w+1]))&&s.set(w/2,u)}catch{throw new Y}}return s}}class Hn{static setGridSampler(e){Hn.gridSampler=e}static getInstance(){return Hn.gridSampler}}Hn.gridSampler=new to;class an{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class qr{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let a=r[0];r[0]=r[2],r[2]=a}this.extractParameters(r);let o=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new Mo(o,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Y;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let o=0;for(let a=0;a<4;a++){let u=r[(this.shift+a)%4];this.compact?(o<<=7,o+=u>>1&127):(o<<=10,o+=(u>>2&992)+(u>>1&31))}let s=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(e,n){let r=0;e.forEach((o,s,a)=>{let u=(o>>n-2<<1)+(o&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let o=0;o<4;o++)if(q.bitCount(r^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new Y}getCorrectedParameterData(e,n){let r,o;n?(r=7,o=2):(r=10,o=4);let s=r-o,a=new Int32Array(r);for(let f=r-1;f>=0;--f)a[f]=e&15,e>>=4;try{new Kr(nt.AZTEC_PARAM).decode(a,s)}catch{throw new Y}let u=0;for(let f=0;f<o;f++)u=(u<<4)+a[f];return u}getBullsEyeCorners(e){let n=e,r=e,o=e,s=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(n,a,1,-1),I=this.getFirstDifferent(r,a,1,1),R=this.getFirstDifferent(o,a,-1,1),M=this.getFirstDifferent(s,a,-1,-1);if(this.nbCenterLayers>2){let P=this.distancePoint(M,C)*this.nbCenterLayers/(this.distancePoint(s,n)*(this.nbCenterLayers+2));if(P<.75||P>1.25||!this.isWhiteOrBlackRectangle(C,I,R,M))break}n=C,r=I,o=R,s=M,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let u=new we(n.getX()+.5,n.getY()-.5),f=new we(r.getX()+.5,r.getY()+.5),d=new we(o.getX()-.5,o.getY()+.5),w=new we(s.getX()-.5,s.getY()-.5);return this.expandSquare([u,f,d,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,o;try{let u=new er(this.image).detect();e=u[0],n=u[1],r=u[2],o=u[3]}catch{let f=this.image.getWidth()/2,d=this.image.getHeight()/2;e=this.getFirstDifferent(new an(f+7,d-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new an(f+7,d+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new an(f-7,d+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new an(f-7,d-7),!1,-1,-1).toResultPoint()}let s=Je.round((e.getX()+o.getX()+n.getX()+r.getX())/4),a=Je.round((e.getY()+o.getY()+n.getY()+r.getY())/4);try{let u=new er(this.image,15,s,a).detect();e=u[0],n=u[1],r=u[2],o=u[3]}catch{e=this.getFirstDifferent(new an(s+7,a-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new an(s+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new an(s-7,a+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new an(s-7,a-7),!1,-1,-1).toResultPoint()}return s=Je.round((e.getX()+o.getX()+n.getX()+r.getX())/4),a=Je.round((e.getY()+o.getY()+n.getY()+r.getY())/4),new an(s,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,o,s){let a=Hn.getInstance(),u=this.getDimension(),f=u/2-this.nbCenterLayers,d=u/2+this.nbCenterLayers;return a.sampleGrid(e,u,u,f,f,d,f,d,d,f,d,n.getX(),n.getY(),r.getX(),r.getY(),o.getX(),o.getY(),s.getX(),s.getY())}sampleLine(e,n,r){let o=0,s=this.distanceResultPoint(e,n),a=s/r,u=e.getX(),f=e.getY(),d=a*(n.getX()-e.getX())/s,w=a*(n.getY()-e.getY())/s;for(let C=0;C<r;C++)this.image.get(Je.round(u+C*d),Je.round(f+C*w))&&(o|=1<<r-C-1);return o}isWhiteOrBlackRectangle(e,n,r,o){let s=3;e=new an(e.getX()-s,e.getY()+s),n=new an(n.getX()-s,n.getY()-s),r=new an(r.getX()+s,r.getY()-s),o=new an(o.getX()+s,o.getY()+s);let a=this.getColor(o,e);if(a===0)return!1;let u=this.getColor(e,n);return u!==a||(u=this.getColor(n,r),u!==a)?!1:(u=this.getColor(r,o),u===a)}getColor(e,n){let r=this.distancePoint(e,n),o=(n.getX()-e.getX())/r,s=(n.getY()-e.getY())/r,a=0,u=e.getX(),f=e.getY(),d=this.image.get(e.getX(),e.getY()),w=Math.ceil(r);for(let I=0;I<w;I++)u+=o,f+=s,this.image.get(Je.round(u),Je.round(f))!==d&&a++;let C=a/r;return C>.1&&C<.9?0:C<=.1===d?1:-1}getFirstDifferent(e,n,r,o){let s=e.getX()+r,a=e.getY()+o;for(;this.isValid(s,a)&&this.image.get(s,a)===n;)s+=r,a+=o;for(s-=r,a-=o;this.isValid(s,a)&&this.image.get(s,a)===n;)s+=r;for(s-=r;this.isValid(s,a)&&this.image.get(s,a)===n;)a+=o;return a-=o,new an(s,a)}expandSquare(e,n,r){let o=r/(2*n),s=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,d=new we(u+o*s,f+o*a),w=new we(u-o*s,f-o*a);s=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;let C=new we(u+o*s,f+o*a),I=new we(u-o*s,f-o*a);return[d,C,w,I]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=Je.round(e.getX()),r=Je.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return Je.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return Je.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(q.truncDivision(this.nbLayers-4,8)+1)+15}}class vr{decode(e,n=null){let r=null,o=new qr(e.getBlackMatrix()),s=null,a=null;try{let w=o.detectMirror(!1);s=w.getPoints(),this.reportFoundResultPoints(n,s),a=new wt().decode(w)}catch(w){r=w}if(a==null)try{let w=o.detectMirror(!0);s=w.getPoints(),this.reportFoundResultPoints(n,s),a=new wt().decode(w)}catch(w){throw r??w}let u=new be(a.getText(),a.getRawBytes(),a.getNumBits(),s,ue.AZTEC,se.currentTimeMillis()),f=a.getByteSegments();f!=null&&u.putMetadata(Le.BYTE_SEGMENTS,f);let d=a.getECLevel();return d!=null&&u.putMetadata(Le.ERROR_CORRECTION_LEVEL,d),u}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(Te.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((o,s,a)=>{r.foundPossibleResultPoint(o)})}}reset(){}}class Wa extends Ue{constructor(e=500){super(new vr,e)}}class Pt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(Te.TRY_HARDER)===!0&&e.isRotateSupported()){const s=e.rotateCounterClockwise(),a=this.doDecode(s,n),u=a.getResultMetadata();let f=270;u!==null&&u.get(Le.ORIENTATION)===!0&&(f=f+u.get(Le.ORIENTATION)%360),a.putMetadata(Le.ORIENTATION,f);const d=a.getResultPoints();if(d!==null){const w=s.getHeight();for(let C=0;C<d.length;C++)d[C]=new we(w-d[C].getY()-1,d[C].getX())}return a}else throw new Y}}reset(){}doDecode(e,n){const r=e.getWidth(),o=e.getHeight();let s=new le(r);const a=n&&n.get(Te.TRY_HARDER)===!0,u=Math.max(1,o>>(a?8:5));let f;a?f=o:f=15;const d=Math.trunc(o/2);for(let w=0;w<f;w++){const C=Math.trunc((w+1)/2),I=(w&1)===0,R=d+u*(I?C:-C);if(R<0||R>=o)break;try{s=e.getBlackRow(R,s)}catch{continue}for(let M=0;M<2;M++){if(M===1&&(s.reverse(),n&&n.get(Te.NEED_RESULT_POINT_CALLBACK)===!0)){const P=new Map;n.forEach((F,G)=>P.set(G,F)),P.delete(Te.NEED_RESULT_POINT_CALLBACK),n=P}try{const P=this.decodeRow(R,s,n);if(M===1){P.putMetadata(Le.ORIENTATION,180);const F=P.getResultPoints();F!==null&&(F[0]=new we(r-F[0].getX()-1,F[0].getY()),F[1]=new we(r-F[1].getX()-1,F[1].getY()))}return P}catch{}}}throw new Y}static recordPattern(e,n,r){const o=r.length;for(let d=0;d<o;d++)r[d]=0;const s=e.getSize();if(n>=s)throw new Y;let a=!e.get(n),u=0,f=n;for(;f<s;){if(e.get(f)!==a)r[u]++;else{if(++u===o)break;r[u]=1,a=!a}f++}if(!(u===o||u===o-1&&f===s))throw new Y}static recordPatternInReverse(e,n,r){let o=r.length,s=e.get(n);for(;n>0&&o>=0;)e.get(--n)!==s&&(o--,s=!s);if(o>=0)throw new Y;Pt.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const o=e.length;let s=0,a=0;for(let d=0;d<o;d++)s+=e[d],a+=n[d];if(s<a)return Number.POSITIVE_INFINITY;const u=s/a;r*=u;let f=0;for(let d=0;d<o;d++){const w=e[d],C=n[d]*u,I=w>C?w-C:C-w;if(I>r)return Number.POSITIVE_INFINITY;f+=I}return f/s}}class de extends Pt{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let o=0,s=Int32Array.from([0,0,0,0,0,0]),a=r,u=!1;const f=6;for(let d=r;d<n;d++)if(e.get(d)!==u)s[o]++;else{if(o===f-1){let w=de.MAX_AVG_VARIANCE,C=-1;for(let I=de.CODE_START_A;I<=de.CODE_START_C;I++){const R=Pt.patternMatchVariance(s,de.CODE_PATTERNS[I],de.MAX_INDIVIDUAL_VARIANCE);R<w&&(w=R,C=I)}if(C>=0&&e.isRange(Math.max(0,a-(d-a)/2),a,!1))return Int32Array.from([a,d,C]);a+=s[0]+s[1],s=s.slice(2,s.length-1),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,u=!u}throw new Y}static decodeCode(e,n,r){Pt.recordPattern(e,r,n);let o=de.MAX_AVG_VARIANCE,s=-1;for(let a=0;a<de.CODE_PATTERNS.length;a++){const u=de.CODE_PATTERNS[a],f=this.patternMatchVariance(n,u,de.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=a)}if(s>=0)return s;throw new Y}decodeRow(e,n,r){const o=r&&r.get(Te.ASSUME_GS1)===!0,s=de.findStartPattern(n),a=s[2];let u=0;const f=new Uint8Array(20);f[u++]=a;let d;switch(a){case de.CODE_START_A:d=de.CODE_CODE_A;break;case de.CODE_START_B:d=de.CODE_CODE_B;break;case de.CODE_START_C:d=de.CODE_CODE_C;break;default:throw new Z}let w=!1,C=!1,I="",R=s[0],M=s[1];const P=Int32Array.from([0,0,0,0,0,0]);let F=0,G=0,re=a,ie=0,ee=!0,Ke=!1,He=!1;for(;!w;){const pr=C;switch(C=!1,F=G,G=de.decodeCode(n,P,M),f[u++]=G,G!==de.CODE_STOP&&(ee=!0),G!==de.CODE_STOP&&(ie++,re+=ie*G),R=M,M+=P.reduce((li,es)=>li+es,0),G){case de.CODE_START_A:case de.CODE_START_B:case de.CODE_START_C:throw new Z}switch(d){case de.CODE_CODE_A:if(G<64)He===Ke?I+=String.fromCharCode(32+G):I+=String.fromCharCode(32+G+128),He=!1;else if(G<96)He===Ke?I+=String.fromCharCode(G-64):I+=String.fromCharCode(G+64),He=!1;else switch(G!==de.CODE_STOP&&(ee=!1),G){case de.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case de.CODE_FNC_2:case de.CODE_FNC_3:break;case de.CODE_FNC_4_A:!Ke&&He?(Ke=!0,He=!1):Ke&&He?(Ke=!1,He=!1):He=!0;break;case de.CODE_SHIFT:C=!0,d=de.CODE_CODE_B;break;case de.CODE_CODE_B:d=de.CODE_CODE_B;break;case de.CODE_CODE_C:d=de.CODE_CODE_C;break;case de.CODE_STOP:w=!0;break}break;case de.CODE_CODE_B:if(G<96)He===Ke?I+=String.fromCharCode(32+G):I+=String.fromCharCode(32+G+128),He=!1;else switch(G!==de.CODE_STOP&&(ee=!1),G){case de.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case de.CODE_FNC_2:case de.CODE_FNC_3:break;case de.CODE_FNC_4_B:!Ke&&He?(Ke=!0,He=!1):Ke&&He?(Ke=!1,He=!1):He=!0;break;case de.CODE_SHIFT:C=!0,d=de.CODE_CODE_A;break;case de.CODE_CODE_A:d=de.CODE_CODE_A;break;case de.CODE_CODE_C:d=de.CODE_CODE_C;break;case de.CODE_STOP:w=!0;break}break;case de.CODE_CODE_C:if(G<100)G<10&&(I+="0"),I+=G;else switch(G!==de.CODE_STOP&&(ee=!1),G){case de.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case de.CODE_CODE_A:d=de.CODE_CODE_A;break;case de.CODE_CODE_B:d=de.CODE_CODE_B;break;case de.CODE_STOP:w=!0;break}break}pr&&(d=d===de.CODE_CODE_A?de.CODE_CODE_B:de.CODE_CODE_A)}const An=M-R;if(M=n.getNextUnset(M),!n.isRange(M,Math.min(n.getSize(),M+(M-R)/2),!1))throw new Y;if(re-=ie*F,re%103!==F)throw new ge;const Kn=I.length;if(Kn===0)throw new Y;Kn>0&&ee&&(d===de.CODE_CODE_C?I=I.substring(0,Kn-2):I=I.substring(0,Kn-1));const Yt=(s[1]+s[0])/2,ht=R+An/2,Bt=f.length,xn=new Uint8Array(Bt);for(let pr=0;pr<Bt;pr++)xn[pr]=f[pr];const Lr=[new we(Yt,e),new we(ht,e)];return new be(I,xn,0,Lr,ue.CODE_128,new Date().getTime())}}de.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],de.MAX_AVG_VARIANCE=.25,de.MAX_INDIVIDUAL_VARIANCE=.7,de.CODE_SHIFT=98,de.CODE_CODE_C=99,de.CODE_CODE_B=100,de.CODE_CODE_A=101,de.CODE_FNC_1=102,de.CODE_FNC_2=97,de.CODE_FNC_3=96,de.CODE_FNC_4_A=101,de.CODE_FNC_4_B=100,de.CODE_START_A=103,de.CODE_START_B=104,de.CODE_START_C=105,de.CODE_STOP=106;class Gt extends Pt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let o=this.counters;o.fill(0),this.decodeRowResult="";let s=Gt.findAsteriskPattern(n,o),a=n.getNextSet(s[1]),u=n.getSize(),f,d;do{Gt.recordPattern(n,a,o);let P=Gt.toNarrowWidePattern(o);if(P<0)throw new Y;f=Gt.patternToChar(P),this.decodeRowResult+=f,d=a;for(let F of o)a+=F;a=n.getNextSet(a)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let P of o)w+=P;let C=a-d-w;if(a!==u&&C*2<w)throw new Y;if(this.usingCheckDigit){let P=this.decodeRowResult.length-1,F=0;for(let G=0;G<P;G++)F+=Gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(G));if(this.decodeRowResult.charAt(P)!==Gt.ALPHABET_STRING.charAt(F%43))throw new ge;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new Y;let I;this.extendedMode?I=Gt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let R=(s[1]+s[0])/2,M=d+w/2;return new be(I,null,0,[new we(R,e),new we(M,e)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),o=e.getNextSet(0),s=0,a=o,u=!1,f=n.length;for(let d=o;d<r;d++)if(e.get(d)!==u)n[s]++;else{if(s===f-1){if(this.toNarrowWidePattern(n)===Gt.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((d-a)/2)),a,!1))return[a,d];a+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,u=!u}throw new Y}static toNarrowWidePattern(e){let n=e.length,r=0,o;do{let s=2147483647;for(let f of e)f<s&&f>r&&(s=f);r=s,o=0;let a=0,u=0;for(let f=0;f<n;f++){let d=e[f];d>r&&(u|=1<<n-1-f,o++,a+=d)}if(o===3){for(let f=0;f<n&&o>0;f++){let d=e[f];if(d>r&&(o--,d*2>=a))return-1}return u}}while(o>3);return-1}static patternToChar(e){for(let n=0;n<Gt.CHARACTER_ENCODINGS.length;n++)if(Gt.CHARACTER_ENCODINGS[n]===e)return Gt.ALPHABET_STRING.charAt(n);if(e===Gt.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(e){let n=e.length,r="";for(let o=0;o<n;o++){let s=e.charAt(o);if(s==="+"||s==="$"||s==="%"||s==="/"){let a=e.charAt(o+1),u="\0";switch(s){case"+":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)+32);else throw new Z;break;case"$":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)-64);else throw new Z;break;case"%":if(a>="A"&&a<="E")u=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")u=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")u=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")u="\0";else if(a==="V")u="@";else if(a==="W")u="`";else if(a==="X"||a==="Y"||a==="Z")u="";else throw new Z;break;case"/":if(a>="A"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")u=":";else throw new Z;break}r+=u,o++}else r+=s}return r}}Gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Gt.ASTERISK_ENCODING=148;class dt extends Pt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let o=this.decodeStart(n),s=this.decodeEnd(n),a=new Fe;dt.decodeMiddle(n,o[1],s[0],a);let u=a.toString(),f=null;r!=null&&(f=r.get(Te.ALLOWED_LENGTHS)),f==null&&(f=dt.DEFAULT_ALLOWED_LENGTHS);let d=u.length,w=!1,C=0;for(let M of f){if(d===M){w=!0;break}M>C&&(C=M)}if(!w&&d>C&&(w=!0),!w)throw new Z;const I=[new we(o[1],e),new we(s[0],e)];return new be(u,null,0,I,ue.ITF,new Date().getTime())}static decodeMiddle(e,n,r,o){let s=new Int32Array(10),a=new Int32Array(5),u=new Int32Array(5);for(s.fill(0),a.fill(0),u.fill(0);n<r;){Pt.recordPattern(e,n,s);for(let d=0;d<5;d++){let w=2*d;a[d]=s[w],u[d]=s[w+1]}let f=dt.decodeDigit(a);o.append(f.toString()),f=this.decodeDigit(u),o.append(f.toString()),s.forEach(function(d){n+=d})}}decodeStart(e){let n=dt.skipWhiteSpace(e),r=dt.findGuardPattern(e,n,dt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let o=n-1;r>0&&o>=0&&!e.get(o);o--)r--;if(r!==0)throw new Y}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new Y;return r}decodeEnd(e){e.reverse();try{let n=dt.skipWhiteSpace(e),r;try{r=dt.findGuardPattern(e,n,dt.END_PATTERN_REVERSED[0])}catch(s){s instanceof Y&&(r=dt.findGuardPattern(e,n,dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let o=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-o,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let o=r.length,s=new Int32Array(o),a=e.getSize(),u=!1,f=0,d=n;s.fill(0);for(let w=n;w<a;w++)if(e.get(w)!==u)s[f]++;else{if(f===o-1){if(Pt.patternMatchVariance(s,r,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return[d,w];d+=s[0]+s[1],se.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,u=!u}throw new Y}static decodeDigit(e){let n=dt.MAX_AVG_VARIANCE,r=-1,o=dt.PATTERNS.length;for(let s=0;s<o;s++){let a=dt.PATTERNS[s],u=Pt.patternMatchVariance(e,a,dt.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,r=s):u===n&&(r=-1)}if(r>=0)return r%10;throw new Y}}dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],dt.MAX_AVG_VARIANCE=.38,dt.MAX_INDIVIDUAL_VARIANCE=.5,dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],dt.START_PATTERN=Int32Array.from([1,1,1,1]),dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class _t extends Pt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,o=0,s=Int32Array.from([0,0,0]);for(;!n;){s=Int32Array.from([0,0,0]),r=_t.findGuardPattern(e,o,!1,this.START_END_PATTERN,s);let a=r[0];o=r[1];let u=a-(o-a);u>=0&&(n=e.isRange(u,a,!1))}return r}static checkChecksum(e){return _t.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return _t.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let o=n-1;o>=0;o-=2){let s=e.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new Z;r+=s}r*=3;for(let o=n-2;o>=0;o-=2){let s=e.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new Z;r+=s}return(1e3-r)%10}static decodeEnd(e,n){return _t.findGuardPattern(e,n,!1,_t.START_END_PATTERN,new Int32Array(_t.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,o){return this.findGuardPattern(e,n,r,o,new Int32Array(o.length))}static findGuardPattern(e,n,r,o,s){let a=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let u=0,f=n,d=o.length,w=r;for(let C=n;C<a;C++)if(e.get(C)!==w)s[u]++;else{if(u===d-1){if(Pt.patternMatchVariance(s,o,_t.MAX_INDIVIDUAL_VARIANCE)<_t.MAX_AVG_VARIANCE)return Int32Array.from([f,C]);f+=s[0]+s[1];let I=s.slice(2,s.length-1);for(let R=0;R<u-1;R++)s[R]=I[R];s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,w=!w}throw new Y}static decodeDigit(e,n,r,o){this.recordPattern(e,r,n);let s=this.MAX_AVG_VARIANCE,a=-1,u=o.length;for(let f=0;f<u;f++){let d=o[f],w=Pt.patternMatchVariance(n,d,_t.MAX_INDIVIDUAL_VARIANCE);w<s&&(s=w,a=f)}if(a>=0)return a;throw new Y}}_t.MAX_AVG_VARIANCE=.48,_t.MAX_INDIVIDUAL_VARIANCE=.7,_t.START_END_PATTERN=Int32Array.from([1,1,1]),_t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),_t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Dr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let o=this.decodeRowStringBuffer,s=this.decodeMiddle(n,r,o),a=o.toString(),u=Dr.parseExtensionString(a),f=[new we((r[0]+r[1])/2,e),new we(s,e)],d=new be(a,null,0,f,ue.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(e,n,r){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=e.getSize(),a=n[1],u=0;for(let d=0;d<5&&a<s;d++){let w=_t.decodeDigit(e,o,a,_t.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let C of o)a+=C;w>=10&&(u|=1<<4-d),d!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==5)throw new Y;let f=this.determineCheckDigit(u);if(Dr.extensionChecksum(r.toString())!==f)throw new Y;return a}static extensionChecksum(e){let n=e.length,r=0;for(let o=n-2;o>=0;o-=2)r+=e.charAt(o).charCodeAt(0)-48;r*=3;for(let o=n-1;o>=0;o-=2)r+=e.charAt(o).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Y}static parseExtensionString(e){if(e.length!==5)return null;let n=Dr.parseExtension5String(e);return n==null?null:new Map([[Le.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),o=(r/100).toString(),s=r%100,a=s<10?"0"+s:s.toString();return n+o+"."+a}}class _i{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let o=this.decodeRowStringBuffer,s=this.decodeMiddle(n,r,o),a=o.toString(),u=_i.parseExtensionString(a),f=[new we((r[0]+r[1])/2,e),new we(s,e)],d=new be(a,null,0,f,ue.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(e,n,r){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=e.getSize(),a=n[1],u=0;for(let f=0;f<2&&a<s;f++){let d=_t.decodeDigit(e,o,a,_t.L_AND_G_PATTERNS);r+=String.fromCharCode(48+d%10);for(let w of o)a+=w;d>=10&&(u|=1<<1-f),f!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==2)throw new Y;if(parseInt(r.toString())%4!==u)throw new Y;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[Le.ISSUE_NUMBER,parseInt(e)]])}}class no{static decodeRow(e,n,r){let o=_t.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Dr().decodeRow(e,n,o)}catch{return new _i().decodeRow(e,n,o)}}}no.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Qe extends _t{constructor(){super(),this.decodeRowStringBuffer="",Qe.L_AND_G_PATTERNS=Qe.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=Qe.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let o=0;o<n.length;o++)r[o]=n[n.length-o-1];Qe.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let o=Qe.findStartGuardPattern(n),s=r==null?null:r.get(Te.NEED_RESULT_POINT_CALLBACK);if(s!=null){const ee=new we((o[0]+o[1])/2,e);s.foundPossibleResultPoint(ee)}let a=this.decodeMiddle(n,o,this.decodeRowStringBuffer),u=a.rowOffset,f=a.resultString;if(s!=null){const ee=new we(u,e);s.foundPossibleResultPoint(ee)}let d=this.decodeEnd(n,u);if(s!=null){const ee=new we((d[0]+d[1])/2,e);s.foundPossibleResultPoint(ee)}let w=d[1],C=w+(w-d[0]);if(C>=n.getSize()||!n.isRange(w,C,!1))throw new Y;let I=f.toString();if(I.length<8)throw new Z;if(!Qe.checkChecksum(I))throw new ge;let R=(o[1]+o[0])/2,M=(d[1]+d[0])/2,P=this.getBarcodeFormat(),F=[new we(R,e),new we(M,e)],G=new be(I,null,0,F,P,new Date().getTime()),re=0;try{let ee=no.decodeRow(e,n,d[1]);G.putMetadata(Le.UPC_EAN_EXTENSION,ee.getText()),G.putAllMetadata(ee.getResultMetadata()),G.addResultPoints(ee.getResultPoints()),re=ee.getText().length}catch{}let ie=r==null?null:r.get(Te.ALLOWED_EAN_EXTENSIONS);if(ie!=null){let ee=!1;for(let Ke in ie)if(re.toString()===Ke){ee=!0;break}if(!ee)throw new Y}return G}decodeEnd(e,n){return Qe.findGuardPattern(e,n,!1,Qe.START_END_PATTERN,new Int32Array(Qe.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Qe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return Qe.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let o=n-1;o>=0;o-=2){let s=e.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new Z;r+=s}r*=3;for(let o=n-2;o>=0;o-=2){let s=e.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new Z;r+=s}return(1e3-r)%10}}class Dn extends Qe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=e.getSize(),a=n[1],u=0;for(let d=0;d<6&&a<s;d++){let w=Qe.decodeDigit(e,o,a,Qe.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let C of o)a+=C;w>=10&&(u|=1<<5-d)}r=Dn.determineFirstDigit(r,u),a=Qe.findGuardPattern(e,a,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<6&&a<s;d++){let w=Qe.decodeDigit(e,o,a,Qe.L_PATTERNS);r+=String.fromCharCode(48+w);for(let C of o)a+=C}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new Y}}Dn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ko extends Qe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=e.getSize(),a=n[1];for(let f=0;f<4&&a<s;f++){let d=Qe.decodeDigit(e,o,a,Qe.L_PATTERNS);r+=String.fromCharCode(48+d);for(let w of o)a+=w}a=Qe.findGuardPattern(e,a,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<4&&a<s;f++){let d=Qe.decodeDigit(e,o,a,Qe.L_PATTERNS);r+=String.fromCharCode(48+d);for(let w of o)a+=w}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return ue.EAN_8}}class Po extends Qe{constructor(){super(...arguments),this.ean13Reader=new Dn}getBarcodeFormat(){return ue.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new be(n.substring(1),null,null,e.getResultPoints(),ue.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new Y}reset(){this.ean13Reader.reset()}}class Mn extends Qe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const o=this.decodeMiddleCounters.map(d=>d);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const s=e.getSize();let a=n[1],u=0;for(let d=0;d<6&&a<s;d++){const w=Mn.decodeDigit(e,o,a,Mn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let C of o)a+=C;w>=10&&(u|=1<<5-d)}let f=Mn.determineNumSysAndCheckDigit(r,u);return{rowOffset:a,resultString:f}}decodeEnd(e,n){return Mn.findGuardPatternWithoutCounters(e,n,!0,Mn.MIDDLE_END_PATTERN)}checkChecksum(e){return Qe.checkChecksum(Mn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][o]){let s=String.fromCharCode(48+r),a=String.fromCharCode(48+o);return s+e+a}throw Y.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(s=>s.charCodeAt(0)),r=new Fe;r.append(e.charAt(0));let o=n[5];switch(o){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(o),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(o);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Mn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ro extends Pt{constructor(e){super();let n=e==null?null:e.get(Te.POSSIBLE_FORMATS),r=[];A(n)?(r.push(new Dn),r.push(new Po),r.push(new ko),r.push(new Mn)):(n.indexOf(ue.EAN_13)>-1&&r.push(new Dn),n.indexOf(ue.UPC_A)>-1&&r.push(new Po),n.indexOf(ue.EAN_8)>-1&&r.push(new ko),n.indexOf(ue.UPC_E)>-1&&r.push(new Mn)),this.readers=r}decodeRow(e,n,r){for(let o of this.readers)try{const s=o.decodeRow(e,n,r),a=s.getBarcodeFormat()===ue.EAN_13&&s.getText().charAt(0)==="0",u=r==null?null:r.get(Te.POSSIBLE_FORMATS),f=u==null||u.includes(ue.UPC_A);if(a&&f){const d=s.getRawBytes(),w=new be(s.getText().substring(1),d,d?d.length:null,s.getResultPoints(),ue.UPC_A);return w.putAllMetadata(s.getResultMetadata()),w}return s}catch{}throw new Y}reset(){for(let e of this.readers)e.reset()}}class $t extends Pt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(Pt.patternMatchVariance(e,n[r],$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return r;throw new Y}static count(e){return Je.sum(new Int32Array(e))}static increment(e,n){let r=0,o=n[0];for(let s=1;s<e.length;s++)n[s]>o&&(o=n[s],r=s);e[r]++}static decrement(e,n){let r=0,o=n[0];for(let s=1;s<e.length;s++)n[s]<o&&(o=n[s],r=s);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],o=n/r;if(o>=$t.MIN_FINDER_PATTERN_RATIO&&o<=$t.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let u of e)u>a&&(a=u),u<s&&(s=u);return a<10*s}return!1}}$t.MAX_AVG_VARIANCE=.2,$t.MAX_INDIVIDUAL_VARIANCE=.45,$t.MIN_FINDER_PATTERN_RATIO=9.5/12,$t.MAX_FINDER_PATTERN_RATIO=12.5/14;class _r{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof _r))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ii{constructor(e,n,r,o,s){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new we(r,s)),this.resultPoints.push(new we(o,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ii))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class yn{constructor(){}static getRSSvalue(e,n,r){let o=0;for(let f of e)o+=f;let s=0,a=0,u=e.length;for(let f=0;f<u-1;f++){let d;for(d=1,a|=1<<f;d<e[f];d++,a&=~(1<<f)){let w=yn.combins(o-d-1,u-f-2);if(r&&a===0&&o-d-(u-f-1)>=u-f-1&&(w-=yn.combins(o-d-(u-f),u-f-2)),u-f-1>1){let C=0;for(let I=o-d-(u-f-2);I>n;I--)C+=yn.combins(o-d-I-1,u-f-3);w-=C*(u-1-f)}else o-d>n&&w--;s+=w}o-=d}return s}static combins(e,n){let r,o;e-n>n?(o=n,r=e-n):(o=e-n,r=n);let s=1,a=1;for(let u=e;u>r;u--)s*=u,a<=o&&(s/=a,a++);for(;a<=o;)s/=a,a++;return s}}class Bo{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,o=new le(r),s=0,u=e[0].getRightChar().getValue();for(let f=11;f>=0;--f)u&1<<f&&o.set(s),s++;for(let f=1;f<e.length;++f){let d=e[f],w=d.getLeftChar().getValue();for(let C=11;C>=0;--C)w&1<<C&&o.set(s),s++;if(d.getRightChar()!=null){let C=d.getRightChar().getValue();for(let I=11;I>=0;--I)C&1<<I&&o.set(s),s++}}return o}}class Wn{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Lo{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Kt extends Lo{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===Kt.FNC1}}Kt.FNC1="$";class tr extends Lo{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class hn extends Lo{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new Z;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===hn.FNC1}isAnyFNC1(){return this.firstDigit===hn.FNC1||this.secondDigit===hn.FNC1}}hn.FNC1=10;class pe{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new Y;let n=e.substring(0,2);for(let s of pe.TWO_DIGIT_DATA_LENGTH)if(s[0]===n)return s[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(2,s[2],e):pe.processFixedAI(2,s[1],e);if(e.length<3)throw new Y;let r=e.substring(0,3);for(let s of pe.THREE_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(3,s[2],e):pe.processFixedAI(3,s[1],e);for(let s of pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(4,s[2],e):pe.processFixedAI(4,s[1],e);if(e.length<4)throw new Y;let o=e.substring(0,4);for(let s of pe.FOUR_DIGIT_DATA_LENGTH)if(s[0]===o)return s[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(4,s[2],e):pe.processFixedAI(4,s[1],e);throw new Y}static processFixedAI(e,n,r){if(r.length<e)throw new Y;let o=r.substring(0,e);if(r.length<e+n)throw new Y;let s=r.substring(e,e+n),a=r.substring(e+n),u="("+o+")"+s,f=pe.parseFieldsInGeneralPurpose(a);return f==null?u:u+f}static processVariableAI(e,n,r){let o=r.substring(0,e),s;r.length<e+n?s=r.length:s=e+n;let a=r.substring(e,s),u=r.substring(s),f="("+o+")"+a,d=pe.parseFieldsInGeneralPurpose(u);return d==null?f:f+d}}pe.VARIABLE_LENGTH=[],pe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",pe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",pe.VARIABLE_LENGTH,20],["22",pe.VARIABLE_LENGTH,29],["30",pe.VARIABLE_LENGTH,8],["37",pe.VARIABLE_LENGTH,8],["90",pe.VARIABLE_LENGTH,30],["91",pe.VARIABLE_LENGTH,30],["92",pe.VARIABLE_LENGTH,30],["93",pe.VARIABLE_LENGTH,30],["94",pe.VARIABLE_LENGTH,30],["95",pe.VARIABLE_LENGTH,30],["96",pe.VARIABLE_LENGTH,30],["97",pe.VARIABLE_LENGTH,3],["98",pe.VARIABLE_LENGTH,30],["99",pe.VARIABLE_LENGTH,30]],pe.THREE_DIGIT_DATA_LENGTH=[["240",pe.VARIABLE_LENGTH,30],["241",pe.VARIABLE_LENGTH,30],["242",pe.VARIABLE_LENGTH,6],["250",pe.VARIABLE_LENGTH,30],["251",pe.VARIABLE_LENGTH,30],["253",pe.VARIABLE_LENGTH,17],["254",pe.VARIABLE_LENGTH,20],["400",pe.VARIABLE_LENGTH,30],["401",pe.VARIABLE_LENGTH,30],["402",17],["403",pe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",pe.VARIABLE_LENGTH,20],["421",pe.VARIABLE_LENGTH,15],["422",3],["423",pe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",pe.VARIABLE_LENGTH,15],["391",pe.VARIABLE_LENGTH,18],["392",pe.VARIABLE_LENGTH,15],["393",pe.VARIABLE_LENGTH,18],["703",pe.VARIABLE_LENGTH,30]],pe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",pe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",pe.VARIABLE_LENGTH,20],["8003",pe.VARIABLE_LENGTH,30],["8004",pe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",pe.VARIABLE_LENGTH,30],["8008",pe.VARIABLE_LENGTH,12],["8018",18],["8020",pe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",pe.VARIABLE_LENGTH,70],["8200",pe.VARIABLE_LENGTH,70]];class Jr{constructor(e){this.buffer=new Fe,this.information=e}decodeAllCodes(e,n){let r=n,o=null;do{let s=this.decodeGeneralPurposeField(r,o),a=pe.parseFieldsInGeneralPurpose(s.getNewString());if(a!=null&&e.append(a),s.isRemaining()?o=""+s.getRemainingValue():o=null,r===s.getNewPosition())break;r=s.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(e,4);return s===0?new hn(this.information.getSize(),hn.FNC1,hn.FNC1):new hn(this.information.getSize(),s-1,hn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,o=(n-8)%11;return new hn(e+7,r,o)}extractNumericValueFromBitArray(e,n){return Jr.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let o=0;for(let s=0;s<r;++s)e.get(n+s)&&(o|=1<<r-s-1);return o}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new tr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new tr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new tr(this.current.getPosition(),this.buffer.toString()):n=new tr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Wn(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new tr(this.current.getPosition(),this.buffer.toString());return new Wn(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Wn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new tr(this.current.getPosition(),this.buffer.toString());return new Wn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Wn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new tr(this.current.getPosition(),this.buffer.toString());return new Wn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Wn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Kt(e+5,Kt.FNC1);if(n>=5&&n<15)return new Kt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Kt(e+7,""+(r+1));if(r>=90&&r<116)return new Kt(e+7,""+(r+7));let o=this.extractNumericValueFromBitArray(e,8),s;switch(o){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new Z}return new Kt(e+8,s)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Kt(e+5,Kt.FNC1);if(n>=5&&n<15)return new Kt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Kt(e+6,""+(r+33));let o;switch(r){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new zn("Decoding invalid alphanumeric value: "+r)}return new Kt(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class Fo{constructor(e){this.information=e,this.generalDecoder=new Jr(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class En extends Fo{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let o=0;o<4;++o){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);s/100===0&&e.append("0"),s/10===0&&e.append("0"),e.append(s)}En.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let o=0;o<13;o++){let s=e.charAt(o+n).charCodeAt(0)-48;r+=o&1?s:3*s}r=10-r%10,r===10&&(r=0),e.append(r)}}En.GTIN_SIZE=40;class kn extends En{constructor(e){super(e)}parseInformation(){let e=new Fe;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(kn.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,kn.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,kn.HEADER_SIZE+44)}}kn.HEADER_SIZE=4;class Si extends Fo{constructor(e){super(e)}parseInformation(){let e=new Fe;return this.getGeneralDecoder().decodeAllCodes(e,Si.HEADER_SIZE)}}Si.HEADER_SIZE=5;class Ti extends En{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,o);let s=this.checkWeight(o),a=1e5;for(let u=0;u<5;++u)s/a===0&&e.append("0"),a/=10;e.append(s)}}class nr extends Ti{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=nr.HEADER_SIZE+Ti.GTIN_SIZE+nr.WEIGHT_SIZE)throw new Y;let e=new Fe;return this.encodeCompressedGtin(e,nr.HEADER_SIZE),this.encodeCompressedWeight(e,nr.HEADER_SIZE+Ti.GTIN_SIZE,nr.WEIGHT_SIZE),e.toString()}}nr.HEADER_SIZE=5,nr.WEIGHT_SIZE=15;class Ss extends nr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class Ts extends nr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Gn extends En{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Gn.HEADER_SIZE+En.GTIN_SIZE)throw new Y;let e=new Fe;this.encodeCompressedGtin(e,Gn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Gn.HEADER_SIZE+En.GTIN_SIZE,Gn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Gn.HEADER_SIZE+En.GTIN_SIZE+Gn.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Gn.HEADER_SIZE=8,Gn.LAST_DIGIT_SIZE=2;class ln extends En{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<ln.HEADER_SIZE+En.GTIN_SIZE)throw new Y;let e=new Fe;this.encodeCompressedGtin(e,ln.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(ln.HEADER_SIZE+En.GTIN_SIZE,ln.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(ln.HEADER_SIZE+En.GTIN_SIZE+ln.LAST_DIGIT_SIZE,ln.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let o=this.getGeneralDecoder().decodeGeneralPurposeField(ln.HEADER_SIZE+En.GTIN_SIZE+ln.LAST_DIGIT_SIZE+ln.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()}}ln.HEADER_SIZE=8,ln.LAST_DIGIT_SIZE=2,ln.FIRST_THREE_DIGITS_SIZE=10;class It extends Ti{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=It.HEADER_SIZE+It.GTIN_SIZE+It.WEIGHT_SIZE+It.DATE_SIZE)throw new Y;let e=new Fe;return this.encodeCompressedGtin(e,It.HEADER_SIZE),this.encodeCompressedWeight(e,It.HEADER_SIZE+It.GTIN_SIZE,It.WEIGHT_SIZE),this.encodeCompressedDate(e,It.HEADER_SIZE+It.GTIN_SIZE+It.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,It.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let o=r%32;r/=32;let s=r%12+1;r/=12;let a=r;a/10==0&&e.append("0"),e.append(a),s/10==0&&e.append("0"),e.append(s),o/10==0&&e.append("0"),e.append(o)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}It.HEADER_SIZE=8,It.WEIGHT_SIZE=20,It.DATE_SIZE=16;function Ns(E){try{if(E.get(1))return new kn(E);if(!E.get(2))return new Si(E);switch(Jr.extractNumericValueFromBitArray(E,1,4)){case 4:return new Ss(E);case 5:return new Ts(E)}switch(Jr.extractNumericValueFromBitArray(E,1,5)){case 12:return new Gn(E);case 13:return new ln(E)}switch(Jr.extractNumericValueFromBitArray(E,1,7)){case 56:return new It(E,"310","11");case 57:return new It(E,"320","11");case 58:return new It(E,"310","13");case 59:return new It(E,"320","13");case 60:return new It(E,"310","15");case 61:return new It(E,"320","15");case 62:return new It(E,"310","17");case 63:return new It(E,"320","17")}}catch(e){throw console.log(e),new zn("unknown decoder: "+E)}}class xt{constructor(e,n,r,o){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof xt?xt.equalsOrNull(e.leftchar,n.leftchar)&&xt.equalsOrNull(e.rightchar,n.rightchar)&&xt.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:xt.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Uo{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Uo?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((o,s)=>{n.forEach(a=>{o.getLeftChar().getValue()===a.getLeftChar().getValue()&&o.getRightChar().getValue()===a.getRightChar().getValue()&&o.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}}class Q extends $t{constructor(e){super(...arguments),this.pairs=new Array(Q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return Q.constructResult(this.decodeRow2pairs(e,n))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,Q.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(s){if(s instanceof Y){if(!this.pairs.length)throw new Y;r=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new Y}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let o=this.rows[r];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(o.getPairs()),!Q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(e);s.push(o);try{return this.checkRows(s,r+1)}catch(a){this.verbose&&console.log(a)}}throw new Y}static isValidSequence(e){for(let n of Q.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=n[o]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,o=!1,s=!1;for(;r<this.rows.length;){let a=this.rows[r];if(a.getRowNumber()>e){s=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),r++}s||o||Q.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Uo(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let o of r.getPairs())for(let s of e)if(xt.equals(o,s))break}}static isPartialRow(e,n){for(let r of n){let o=!0;for(let s of e){let a=!1;for(let u of r.getPairs())if(s.equals(u)){a=!0;break}if(!a){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Bo.buildBitArray(e),o=Ns(n).parseInformation(),s=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),u=[s[0],s[1],a[0],a[1]];return new be(o,null,null,u,ue.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let o=r.getChecksumPortion(),s=2;for(let u=1;u<this.pairs.size();++u){let f=this.pairs.get(u);o+=f.getLeftChar().getChecksumPortion(),s++;let d=f.getRightChar();d!=null&&(o+=d.getChecksumPortion(),s++)}return o%=211,211*(s-4)+o==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let o=n.length%2==0;this.startFromEven&&(o=!o);let s,a=!0,u=-1;do this.findNextPair(e,n,u),s=this.parseFoundFinderPattern(e,r,o),s==null?u=Q.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let f=this.decodeDataCharacter(e,s,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Y;let d;try{d=this.decodeDataCharacter(e,s,o,!1)}catch(w){d=null,this.verbose&&console.log(w)}return new xt(f,d,s,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=e.getSize(),a;r>=0?a=r:this.isEmptyPair(n)?a=0:a=n[n.length-1].getFinderPattern().getStartEnd()[1];let u=n.length%2!=0;this.startFromEven&&(u=!u);let f=!1;for(;a<s&&(f=!e.get(a),!!f);)a++;let d=0,w=a;for(let C=a;C<s;C++)if(e.get(C)!=f)o[d]++;else{if(d==3){if(u&&Q.reverseCounters(o),Q.isFinderPattern(o)){this.startEnd[0]=w,this.startEnd[1]=C;return}u&&Q.reverseCounters(o),w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,f=!f}throw new Y}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let o=e[r];e[r]=e[n-r-1],e[n-r-1]=o}}parseFoundFinderPattern(e,n,r){let o,s,a;if(r){let d=this.startEnd[0]-1;for(;d>=0&&!e.get(d);)d--;d++,o=this.startEnd[0]-d,s=d,a=this.startEnd[1]}else s=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),o=a-this.startEnd[1];let u=this.getDecodeFinderCounters();se.arraycopy(u,0,u,1,u.length-1),u[0]=o;let f;try{f=this.parseFinderValue(u,Q.FINDER_PATTERNS)}catch{return null}return new Ii(f,[s,a],s,a,n)}decodeDataCharacter(e,n,r,o){let s=this.getDataCharacterCounters();for(let ht=0;ht<s.length;ht++)s[ht]=0;if(o)Q.recordPatternInReverse(e,n.getStartEnd()[0],s);else{Q.recordPattern(e,n.getStartEnd()[1],s);for(let ht=0,Bt=s.length-1;ht<Bt;ht++,Bt--){let xn=s[ht];s[ht]=s[Bt],s[Bt]=xn}}let a=17,u=Je.sum(new Int32Array(s))/a,f=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-f)/f>.3)throw new Y;let d=this.getOddCounts(),w=this.getEvenCounts(),C=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let ht=0;ht<s.length;ht++){let Bt=1*s[ht]/u,xn=Bt+.5;if(xn<1){if(Bt<.3)throw new Y;xn=1}else if(xn>8){if(Bt>8.7)throw new Y;xn=8}let Lr=ht/2;ht&1?(w[Lr]=xn,I[Lr]=Bt-xn):(d[Lr]=xn,C[Lr]=Bt-xn)}this.adjustOddEvenCounts(a);let R=4*n.getValue()+(r?0:2)+(o?0:1)-1,M=0,P=0;for(let ht=d.length-1;ht>=0;ht--){if(Q.isNotA1left(n,r,o)){let Bt=Q.WEIGHTS[R][2*ht];P+=d[ht]*Bt}M+=d[ht]}let F=0;for(let ht=w.length-1;ht>=0;ht--)if(Q.isNotA1left(n,r,o)){let Bt=Q.WEIGHTS[R][2*ht+1];F+=w[ht]*Bt}let G=P+F;if(M&1||M>13||M<4)throw new Y;let re=(13-M)/2,ie=Q.SYMBOL_WIDEST[re],ee=9-ie,Ke=yn.getRSSvalue(d,ie,!0),He=yn.getRSSvalue(w,ee,!1),An=Q.EVEN_TOTAL_SUBSET[re],Kn=Q.GSUM[re],Yt=Ke*An+He+Kn;return new _r(Yt,G)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=Je.sum(new Int32Array(this.getOddCounts())),r=Je.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1;n>13?s=!0:n<4&&(o=!0);let a=!1,u=!1;r>13?u=!0:r<4&&(a=!0);let f=n+r-e,d=(n&1)==1,w=(r&1)==0;if(f==1)if(d){if(w)throw new Y;s=!0}else{if(!w)throw new Y;u=!0}else if(f==-1)if(d){if(w)throw new Y;o=!0}else{if(!w)throw new Y;a=!0}else if(f==0){if(d){if(!w)throw new Y;n<r?(o=!0,u=!0):(s=!0,a=!0)}else if(w)throw new Y}else throw new Y;if(o){if(s)throw new Y;Q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(u)throw new Y;Q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Q.SYMBOL_WIDEST=[7,5,4,3,1],Q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Q.GSUM=[0,348,1388,2948,3988],Q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Q.FINDER_PAT_A=0,Q.FINDER_PAT_B=1,Q.FINDER_PAT_C=2,Q.FINDER_PAT_D=3,Q.FINDER_PAT_E=4,Q.FINDER_PAT_F=5,Q.FINDER_PATTERN_SEQUENCES=[[Q.FINDER_PAT_A,Q.FINDER_PAT_A],[Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B],[Q.FINDER_PAT_A,Q.FINDER_PAT_C,Q.FINDER_PAT_B,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_C],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F]],Q.MAX_PAIRS=11;class Rs extends _r{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class At extends $t{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const o=this.decodePair(n,!1,e,r);At.addOrTally(this.possibleLeftPairs,o),n.reverse();let s=this.decodePair(n,!0,e,r);At.addOrTally(this.possibleRightPairs,s),n.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&At.checkChecksum(a,u))return At.constructResult(a,u)}throw new Y}static addOrTally(e,n){if(n==null)return;let r=!1;for(let o of e)if(o.getValue()===n.getValue()){o.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),o=new String(r).toString(),s=new Fe;for(let d=13-o.length;d>0;d--)s.append("0");s.append(o);let a=0;for(let d=0;d<13;d++){let w=s.charAt(d).charCodeAt(0)-48;a+=d&1?w:3*w}a=10-a%10,a===10&&(a=0),s.append(a.toString());let u=e.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new be(s.toString(),null,0,[u[0],u[1],f[0],f[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,r===o}decodePair(e,n,r,o){try{let s=this.findFinderPattern(e,n),a=this.parseFoundFinderPattern(e,r,n,s),u=o==null?null:o.get(Te.NEED_RESULT_POINT_CALLBACK);if(u!=null){let w=(s[0]+s[1])/2;n&&(w=e.getSize()-1-w),u.foundPossibleResultPoint(new we(w,r))}let f=this.decodeDataCharacter(e,a,!0),d=this.decodeDataCharacter(e,a,!1);return new Rs(1597*f.getValue()+d.getValue(),f.getChecksumPortion()+4*d.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,n,r){let o=this.getDataCharacterCounters();for(let F=0;F<o.length;F++)o[F]=0;if(r)Pt.recordPatternInReverse(e,n.getStartEnd()[0],o);else{Pt.recordPattern(e,n.getStartEnd()[1]+1,o);for(let F=0,G=o.length-1;F<G;F++,G--){let re=o[F];o[F]=o[G],o[G]=re}}let s=r?16:15,a=Je.sum(new Int32Array(o))/s,u=this.getOddCounts(),f=this.getEvenCounts(),d=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let F=0;F<o.length;F++){let G=o[F]/a,re=Math.floor(G+.5);re<1?re=1:re>8&&(re=8);let ie=Math.floor(F/2);F&1?(f[ie]=re,w[ie]=G-re):(u[ie]=re,d[ie]=G-re)}this.adjustOddEvenCounts(r,s);let C=0,I=0;for(let F=u.length-1;F>=0;F--)I*=9,I+=u[F],C+=u[F];let R=0,M=0;for(let F=f.length-1;F>=0;F--)R*=9,R+=f[F],M+=f[F];let P=I+3*R;if(r){if(C&1||C>12||C<4)throw new Y;let F=(12-C)/2,G=At.OUTSIDE_ODD_WIDEST[F],re=9-G,ie=yn.getRSSvalue(u,G,!1),ee=yn.getRSSvalue(f,re,!0),Ke=At.OUTSIDE_EVEN_TOTAL_SUBSET[F],He=At.OUTSIDE_GSUM[F];return new _r(ie*Ke+ee+He,P)}else{if(M&1||M>10||M<4)throw new Y;let F=(10-M)/2,G=At.INSIDE_ODD_WIDEST[F],re=9-G,ie=yn.getRSSvalue(u,G,!0),ee=yn.getRSSvalue(f,re,!1),Ke=At.INSIDE_ODD_TOTAL_SUBSET[F],He=At.INSIDE_GSUM[F];return new _r(ee*Ke+ie+He,P)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let o=e.getSize(),s=!1,a=0;for(;a<o&&(s=!e.get(a),n!==s);)a++;let u=0,f=a;for(let d=a;d<o;d++)if(e.get(d)!==s)r[u]++;else{if(u===3){if($t.isFinderPattern(r))return[f,d];f+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,s=!s}throw new Y}parseFoundFinderPattern(e,n,r,o){let s=e.get(o[0]),a=o[0]-1;for(;a>=0&&s!==e.get(a);)a--;a++;const u=o[0]-a,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);se.arraycopy(f,0,d,1,f.length-1),d[0]=u;const w=this.parseFinderValue(d,At.FINDER_PATTERNS);let C=a,I=o[1];return r&&(C=e.getSize()-1-C,I=e.getSize()-1-I),new Ii(w,[a,o[1]],C,I,n)}adjustOddEvenCounts(e,n){let r=Je.sum(new Int32Array(this.getOddCounts())),o=Je.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,u=!1,f=!1;e?(r>12?a=!0:r<4&&(s=!0),o>12?f=!0:o<4&&(u=!0)):(r>11?a=!0:r<5&&(s=!0),o>10?f=!0:o<4&&(u=!0));let d=r+o-n,w=(r&1)===(e?1:0),C=(o&1)===1;if(d===1)if(w){if(C)throw new Y;a=!0}else{if(!C)throw new Y;f=!0}else if(d===-1)if(w){if(C)throw new Y;s=!0}else{if(!C)throw new Y;u=!0}else if(d===0){if(w){if(!C)throw new Y;r<o?(s=!0,f=!0):(a=!0,u=!0)}else if(C)throw new Y}else throw new Y;if(s){if(a)throw new Y;$t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&$t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new Y;$t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&$t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}At.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],At.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],At.OUTSIDE_GSUM=[0,161,961,2015,2715],At.INSIDE_GSUM=[0,336,1036,1516],At.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],At.INSIDE_ODD_WIDEST=[2,4,6,8],At.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class $r extends Pt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(Te.POSSIBLE_FORMATS):null,o=e&&e.get(Te.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ue.EAN_13)||r.includes(ue.UPC_A)||r.includes(ue.EAN_8)||r.includes(ue.UPC_E))&&this.readers.push(new ro(e)),r.includes(ue.CODE_39)&&this.readers.push(new Gt(o)),r.includes(ue.CODE_128)&&this.readers.push(new de),r.includes(ue.ITF)&&this.readers.push(new dt),r.includes(ue.RSS_14)&&this.readers.push(new At),r.includes(ue.RSS_EXPANDED)&&this.readers.push(new Q(this.verbose))):(this.readers.push(new ro(e)),this.readers.push(new Gt),this.readers.push(new ro(e)),this.readers.push(new de),this.readers.push(new dt),this.readers.push(new At),this.readers.push(new Q(this.verbose)))}decodeRow(e,n,r){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,n,r)}catch{}throw new Y}reset(){this.readers.forEach(e=>e.reset())}}class Os extends Ue{constructor(e=500,n){super(new $r(n),e,n)}}class st{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Xe{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class $e{constructor(e,n,r,o,s,a){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=s,this.ecBlocks=a;let u=0;const f=a.getECCodewords(),d=a.getECBlocks();for(let w of d)u+=w.getCount()*(w.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new Z;for(let r of $e.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new Z}toString(){return""+this.versionNumber}static buildVersions(){return[new $e(1,10,10,8,8,new st(5,new Xe(1,3))),new $e(2,12,12,10,10,new st(7,new Xe(1,5))),new $e(3,14,14,12,12,new st(10,new Xe(1,8))),new $e(4,16,16,14,14,new st(12,new Xe(1,12))),new $e(5,18,18,16,16,new st(14,new Xe(1,18))),new $e(6,20,20,18,18,new st(18,new Xe(1,22))),new $e(7,22,22,20,20,new st(20,new Xe(1,30))),new $e(8,24,24,22,22,new st(24,new Xe(1,36))),new $e(9,26,26,24,24,new st(28,new Xe(1,44))),new $e(10,32,32,14,14,new st(36,new Xe(1,62))),new $e(11,36,36,16,16,new st(42,new Xe(1,86))),new $e(12,40,40,18,18,new st(48,new Xe(1,114))),new $e(13,44,44,20,20,new st(56,new Xe(1,144))),new $e(14,48,48,22,22,new st(68,new Xe(1,174))),new $e(15,52,52,24,24,new st(42,new Xe(2,102))),new $e(16,64,64,14,14,new st(56,new Xe(2,140))),new $e(17,72,72,16,16,new st(36,new Xe(4,92))),new $e(18,80,80,18,18,new st(48,new Xe(4,114))),new $e(19,88,88,20,20,new st(56,new Xe(4,144))),new $e(20,96,96,22,22,new st(68,new Xe(4,174))),new $e(21,104,104,24,24,new st(56,new Xe(6,136))),new $e(22,120,120,18,18,new st(68,new Xe(6,175))),new $e(23,132,132,20,20,new st(62,new Xe(8,163))),new $e(24,144,144,22,22,new st(62,new Xe(8,156),new Xe(2,155))),new $e(25,8,18,6,16,new st(7,new Xe(1,5))),new $e(26,8,32,6,14,new st(11,new Xe(1,10))),new $e(27,12,26,10,24,new st(14,new Xe(1,16))),new $e(28,12,36,10,16,new st(18,new Xe(1,22))),new $e(29,16,36,14,16,new st(24,new Xe(1,32))),new $e(30,16,48,14,22,new st(28,new Xe(1,49)))]}}$e.VERSIONS=$e.buildVersions();class Tn{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new Z;this.version=Tn.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ct(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return $e.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,o=0;const s=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let u=!1,f=!1,d=!1,w=!1;do if(r===s&&o===0&&!u)e[n++]=this.readCorner1(s,a)&255,r-=2,o+=2,u=!0;else if(r===s-2&&o===0&&a&3&&!f)e[n++]=this.readCorner2(s,a)&255,r-=2,o+=2,f=!0;else if(r===s+4&&o===2&&!(a&7)&&!d)e[n++]=this.readCorner3(s,a)&255,r-=2,o+=2,d=!0;else if(r===s-2&&o===0&&(a&7)===4&&!w)e[n++]=this.readCorner4(s,a)&255,r-=2,o+=2,w=!0;else{do r<s&&o>=0&&!this.readMappingMatrix.get(o,r)&&(e[n++]=this.readUtah(r,o,s,a)&255),r-=2,o+=2;while(r>=0&&o<a);r+=1,o+=3;do r>=0&&o<a&&!this.readMappingMatrix.get(o,r)&&(e[n++]=this.readUtah(r,o,s,a)&255),r+=2,o-=2;while(r<s&&o>=0);r+=3,o+=1}while(r<s||o<a);if(n!==this.version.getTotalCodewords())throw new Z;return e}readModule(e,n,r,o){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,o){let s=0;return this.readModule(e-2,n-2,r,o)&&(s|=1),s<<=1,this.readModule(e-2,n-1,r,o)&&(s|=1),s<<=1,this.readModule(e-1,n-2,r,o)&&(s|=1),s<<=1,this.readModule(e-1,n-1,r,o)&&(s|=1),s<<=1,this.readModule(e-1,n,r,o)&&(s|=1),s<<=1,this.readModule(e,n-2,r,o)&&(s|=1),s<<=1,this.readModule(e,n-1,r,o)&&(s|=1),s<<=1,this.readModule(e,n,r,o)&&(s|=1),s}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new L("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),a=n/o|0,u=r/s|0,f=a*o,d=u*s,w=new ct(d,f);for(let C=0;C<a;++C){const I=C*o;for(let R=0;R<u;++R){const M=R*s;for(let P=0;P<o;++P){const F=C*(o+2)+1+P,G=I+P;for(let re=0;re<s;++re){const ie=R*(s+2)+1+re;if(e.get(ie,F)){const ee=M+re;w.set(ee,G)}}}}}return w}}class Vo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let o=0;const s=r.getECBlocks();for(let P of s)o+=P.getCount();const a=new Array(o);let u=0;for(let P of s)for(let F=0;F<P.getCount();F++){const G=P.getDataCodewords(),re=r.getECCodewords()+G;a[u++]=new Vo(G,new Uint8Array(re))}const d=a[0].codewords.length-r.getECCodewords(),w=d-1;let C=0;for(let P=0;P<w;P++)for(let F=0;F<u;F++)a[F].codewords[P]=e[C++];const I=n.getVersionNumber()===24,R=I?8:u;for(let P=0;P<R;P++)a[P].codewords[d-1]=e[C++];const M=a[0].codewords.length;for(let P=d;P<M;P++)for(let F=0;F<u;F++){const G=I?(F+8)%u:F,re=I&&G>7?P-1:P;a[G].codewords[re]=e[C++]}if(C!==e.length)throw new L;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class zo{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new L(""+e);let n=0,r=this.bitOffset,o=this.byteOffset;const s=this.bytes;if(r>0){const a=8-r,u=e<a?e:a,f=a-u,d=255>>8-u<<f;n=(s[o]&d)>>f,e-=u,r+=u,r===8&&(r=0,o++)}if(e>0){for(;e>=8;)n=n<<8|s[o]&255,o++,e-=8;if(e>0){const a=8-e,u=255>>a<<a;n=n<<e|(s[o]&u)>>a,r+=e}}return this.bitOffset=r,this.byteOffset=o,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Xt;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(Xt||(Xt={}));class Xn{static decode(e){const n=new zo(e),r=new Fe,o=new Fe,s=new Array;let a=Xt.ASCII_ENCODE;do if(a===Xt.ASCII_ENCODE)a=this.decodeAsciiSegment(n,r,o);else{switch(a){case Xt.C40_ENCODE:this.decodeC40Segment(n,r);break;case Xt.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Xt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Xt.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Xt.BASE256_ENCODE:this.decodeBase256Segment(n,r,s);break;default:throw new Z}a=Xt.ASCII_ENCODE}while(a!==Xt.PAD_ENCODE&&n.available()>0);return o.length()>0&&r.append(o.toString()),new pt(e,r.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(e,n,r){let o=!1;do{let s=e.readBits(8);if(s===0)throw new Z;if(s<=128)return o&&(s+=128),n.append(String.fromCharCode(s-1)),Xt.ASCII_ENCODE;if(s===129)return Xt.PAD_ENCODE;if(s<=229){const a=s-130;a<10&&n.append("0"),n.append(""+a)}else switch(s){case 230:return Xt.C40_ENCODE;case 231:return Xt.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Xt.ANSIX12_ENCODE;case 239:return Xt.TEXT_ENCODE;case 240:return Xt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new Z;break}}while(e.available()>0);return Xt.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const o=[];let s=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(s){case 0:if(f<3)s=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const d=this.C40_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else throw new Z;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),s=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const d=this.C40_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new Z}s=0;break;case 3:r?(n.append(String.fromCharCode(f+224)),r=!1):n.append(String.fromCharCode(f+96)),s=0;break;default:throw new Z}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,o=[],s=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(s){case 0:if(f<3)s=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const d=this.TEXT_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else throw new Z;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),s=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const d=this.TEXT_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new Z}s=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const d=this.TEXT_SHIFT3_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d),s=0}else throw new Z;break;default:throw new Z}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),r);for(let s=0;s<3;s++){const a=r[s];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else if(a<40)n.append(String.fromCharCode(a+51));else throw new Z;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let o=(e<<8)+n-1,s=Math.floor(o/1600);r[0]=s,o-=s*1600,s=Math.floor(o/40),r[1]=s,r[2]=o-s*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let o=e.readBits(6);if(o===31){const s=8-e.getBitOffset();s!==8&&e.readBits(s);return}o&32||(o|=64),n.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let o=1+e.getByteOffset();const s=this.unrandomize255State(e.readBits(8),o++);let a;if(s===0?a=e.available()/8|0:s<250?a=s:a=250*(s-249)+this.unrandomize255State(e.readBits(8),o++),a<0)throw new Z;const u=new Uint8Array(a);for(let f=0;f<a;f++){if(e.available()<8)throw new Z;u[f]=this.unrandomize255State(e.readBits(8),o++)}r.push(u);try{n.append(ut.decode(u,ve.ISO88591))}catch(f){throw new zn("Platform does not support required encoding: "+f.message)}}static unrandomize255State(e,n){const r=149*n%255+1,o=e-r;return o>=0?o:o+256}}Xn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Xn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Xn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Xn.TEXT_SHIFT2_SET_CHARS=Xn.C40_SHIFT2_SET_CHARS,Xn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class io{constructor(){this.rsDecoder=new Kr(nt.DATA_MATRIX_FIELD_256)}decode(e){const n=new Tn(e),r=n.getVersion(),o=n.readCodewords(),s=Vo.getDataBlocks(o,r);let a=0;for(let d of s)a+=d.getNumDataCodewords();const u=new Uint8Array(a),f=s.length;for(let d=0;d<f;d++){const w=s[d],C=w.getCodewords(),I=w.getNumDataCodewords();this.correctErrors(C,I);for(let R=0;R<I;R++)u[R*f+d]=C[R]}return Xn.decode(u)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new ge}for(let o=0;o<n;o++)e[o]=r[o]}}class vt{constructor(e){this.image=e,this.rectangleDetector=new er(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Y;n=this.shiftToModuleCenter(n);const r=n[0],o=n[1],s=n[2],a=n[3];let u=this.transitionsBetween(r,a)+1,f=this.transitionsBetween(s,a)+1;(u&1)===1&&(u+=1),(f&1)===1&&(f+=1),4*u<7*f&&4*f<7*u&&(u=f=Math.max(u,f));let d=vt.sampleGrid(this.image,r,o,s,a,u,f);return new Qr(d,[r,o,s,a])}static shiftPoint(e,n,r){let o=(n.getX()-e.getX())/(r+1),s=(n.getY()-e.getY())/(r+1);return new we(e.getX()+o,e.getY()+s)}static moveAway(e,n,r){let o=e.getX(),s=e.getY();return o<n?o-=1:o+=1,s<r?s-=1:s+=1,new we(o,s)}detectSolid1(e){let n=e[0],r=e[1],o=e[3],s=e[2],a=this.transitionsBetween(n,r),u=this.transitionsBetween(r,o),f=this.transitionsBetween(o,s),d=this.transitionsBetween(s,n),w=a,C=[s,n,r,o];return w>u&&(w=u,C[0]=n,C[1]=r,C[2]=o,C[3]=s),w>f&&(w=f,C[0]=r,C[1]=o,C[2]=s,C[3]=n),w>d&&(C[0]=o,C[1]=s,C[2]=n,C[3]=r),C}detectSolid2(e){let n=e[0],r=e[1],o=e[2],s=e[3],a=this.transitionsBetween(n,s),u=vt.shiftPoint(r,o,(a+1)*4),f=vt.shiftPoint(o,r,(a+1)*4),d=this.transitionsBetween(u,n),w=this.transitionsBetween(f,s);return d<w?(e[0]=n,e[1]=r,e[2]=o,e[3]=s):(e[0]=r,e[1]=o,e[2]=s,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],o=e[2],s=e[3],a=this.transitionsBetween(n,s),u=this.transitionsBetween(r,s),f=vt.shiftPoint(n,r,(u+1)*4),d=vt.shiftPoint(o,r,(a+1)*4);a=this.transitionsBetween(f,s),u=this.transitionsBetween(d,s);let w=new we(s.getX()+(o.getX()-r.getX())/(a+1),s.getY()+(o.getY()-r.getY())/(a+1)),C=new we(s.getX()+(n.getX()-r.getX())/(u+1),s.getY()+(n.getY()-r.getY())/(u+1));if(!this.isValid(w))return this.isValid(C)?C:null;if(!this.isValid(C))return w;let I=this.transitionsBetween(f,w)+this.transitionsBetween(d,w),R=this.transitionsBetween(f,C)+this.transitionsBetween(d,C);return I>R?w:C}shiftToModuleCenter(e){let n=e[0],r=e[1],o=e[2],s=e[3],a=this.transitionsBetween(n,s)+1,u=this.transitionsBetween(o,s)+1,f=vt.shiftPoint(n,r,u*4),d=vt.shiftPoint(o,r,a*4);a=this.transitionsBetween(f,s)+1,u=this.transitionsBetween(d,s)+1,(a&1)===1&&(a+=1),(u&1)===1&&(u+=1);let w=(n.getX()+r.getX()+o.getX()+s.getX())/4,C=(n.getY()+r.getY()+o.getY()+s.getY())/4;n=vt.moveAway(n,w,C),r=vt.moveAway(r,w,C),o=vt.moveAway(o,w,C),s=vt.moveAway(s,w,C);let I,R;return f=vt.shiftPoint(n,r,u*4),f=vt.shiftPoint(f,s,a*4),I=vt.shiftPoint(r,n,u*4),I=vt.shiftPoint(I,o,a*4),d=vt.shiftPoint(o,s,u*4),d=vt.shiftPoint(d,r,a*4),R=vt.shiftPoint(s,o,u*4),R=vt.shiftPoint(R,n,a*4),[f,I,d,R]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,o,s,a,u){return Hn.getInstance().sampleGrid(e,a,u,.5,.5,a-.5,.5,a-.5,u-.5,.5,u-.5,n.getX(),n.getY(),s.getX(),s.getY(),o.getX(),o.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),o=Math.trunc(e.getY()),s=Math.trunc(n.getX()),a=Math.trunc(n.getY()),u=Math.abs(a-o)>Math.abs(s-r);if(u){let P=r;r=o,o=P,P=s,s=a,a=P}let f=Math.abs(s-r),d=Math.abs(a-o),w=-f/2,C=o<a?1:-1,I=r<s?1:-1,R=0,M=this.image.get(u?o:r,u?r:o);for(let P=r,F=o;P!==s;P+=I){let G=this.image.get(u?F:P,u?P:F);if(G!==M&&(R++,M=G),w+=d,w>0){if(F===a)break;F+=C,w-=f}}return R}}class jn{constructor(){this.decoder=new io}decode(e,n=null){let r,o;if(n!=null&&n.has(Te.PURE_BARCODE)){const d=jn.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(d),o=jn.NO_POINTS}else{const d=new vt(e.getBlackMatrix()).detect();r=this.decoder.decode(d.getBits()),o=d.getPoints()}const s=r.getRawBytes(),a=new be(r.getText(),s,8*s.length,o,ue.DATA_MATRIX,se.currentTimeMillis()),u=r.getByteSegments();u!=null&&a.putMetadata(Le.BYTE_SEGMENTS,u);const f=r.getECLevel();return f!=null&&a.putMetadata(Le.ERROR_CORRECTION_LEVEL,f),a}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new Y;const o=this.moduleSize(n,e);let s=n[1];const a=r[1];let u=n[0];const d=(r[0]-u+1)/o,w=(a-s+1)/o;if(d<=0||w<=0)throw new Y;const C=o/2;s+=C,u+=C;const I=new ct(d,w);for(let R=0;R<w;R++){const M=s+R*o;for(let P=0;P<d;P++)e.get(u+P*o,M)&&I.set(P,R)}return I}static moduleSize(e,n){const r=n.getWidth();let o=e[0];const s=e[1];for(;o<r&&n.get(o,s);)o++;if(o===r)throw new Y;const a=o-e[0];if(a===0)throw new Y;return a}}jn.NO_POINTS=[];class Ga extends Ue{constructor(e=500){super(new jn,e)}}var ei;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(ei||(ei={}));class mt{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,mt.FOR_BITS.set(r,this),mt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return mt.L;case"M":return mt.M;case"Q":return mt.Q;case"H":return mt.H;default:throw new V(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof mt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=mt.FOR_BITS.size)throw new L;return mt.FOR_BITS.get(e)}}mt.FOR_BITS=new Map,mt.FOR_VALUE=new Map,mt.L=new mt(ei.L,"L",1),mt.M=new mt(ei.M,"M",0),mt.Q=new mt(ei.Q,"Q",3),mt.H=new mt(ei.H,"H",2);class en{constructor(e){this.errorCorrectionLevel=mt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return q.bitCount(e^n)}static decodeFormatInformation(e,n){const r=en.doDecodeFormatInformation(e,n);return r!==null?r:en.doDecodeFormatInformation(e^en.FORMAT_INFO_MASK_QR,n^en.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,o=0;for(const s of en.FORMAT_INFO_DECODE_LOOKUP){const a=s[0];if(a===e||a===n)return new en(s[1]);let u=en.numBitsDiffering(e,a);u<r&&(o=s[1],r=u),e!==n&&(u=en.numBitsDiffering(n,a),u<r&&(o=s[1],r=u))}return r<=3?new en(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof en))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}en.FORMAT_INFO_MASK_QR=21522,en.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class z{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let o=0;const s=r[0].getECCodewordsPerBlock(),a=r[0].getECBlocks();for(const u of a)o+=u.getCount()*(u.getDataCodewords()+s);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new Z;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Z}}static getVersionForNumber(e){if(e<1||e>40)throw new L;return Re.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let o=0;o<Re.VERSION_DECODE_INFO.length;o++){const s=Re.VERSION_DECODE_INFO[o];if(s===e)return Re.getVersionForNumber(o+7);const a=en.numBitsDiffering(e,s);a<n&&(r=o+7,n=a)}return n<=3?Re.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new ct(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let o=0;o<r;o++){const s=this.alignmentPatternCenters[o]-2;for(let a=0;a<r;a++)o===0&&(a===0||a===r-1)||o===r-1&&a===0||n.setRegion(this.alignmentPatternCenters[a]-2,s,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Re.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Re.VERSIONS=[new Re(1,new Int32Array(0),new z(7,new T(1,19)),new z(10,new T(1,16)),new z(13,new T(1,13)),new z(17,new T(1,9))),new Re(2,Int32Array.from([6,18]),new z(10,new T(1,34)),new z(16,new T(1,28)),new z(22,new T(1,22)),new z(28,new T(1,16))),new Re(3,Int32Array.from([6,22]),new z(15,new T(1,55)),new z(26,new T(1,44)),new z(18,new T(2,17)),new z(22,new T(2,13))),new Re(4,Int32Array.from([6,26]),new z(20,new T(1,80)),new z(18,new T(2,32)),new z(26,new T(2,24)),new z(16,new T(4,9))),new Re(5,Int32Array.from([6,30]),new z(26,new T(1,108)),new z(24,new T(2,43)),new z(18,new T(2,15),new T(2,16)),new z(22,new T(2,11),new T(2,12))),new Re(6,Int32Array.from([6,34]),new z(18,new T(2,68)),new z(16,new T(4,27)),new z(24,new T(4,19)),new z(28,new T(4,15))),new Re(7,Int32Array.from([6,22,38]),new z(20,new T(2,78)),new z(18,new T(4,31)),new z(18,new T(2,14),new T(4,15)),new z(26,new T(4,13),new T(1,14))),new Re(8,Int32Array.from([6,24,42]),new z(24,new T(2,97)),new z(22,new T(2,38),new T(2,39)),new z(22,new T(4,18),new T(2,19)),new z(26,new T(4,14),new T(2,15))),new Re(9,Int32Array.from([6,26,46]),new z(30,new T(2,116)),new z(22,new T(3,36),new T(2,37)),new z(20,new T(4,16),new T(4,17)),new z(24,new T(4,12),new T(4,13))),new Re(10,Int32Array.from([6,28,50]),new z(18,new T(2,68),new T(2,69)),new z(26,new T(4,43),new T(1,44)),new z(24,new T(6,19),new T(2,20)),new z(28,new T(6,15),new T(2,16))),new Re(11,Int32Array.from([6,30,54]),new z(20,new T(4,81)),new z(30,new T(1,50),new T(4,51)),new z(28,new T(4,22),new T(4,23)),new z(24,new T(3,12),new T(8,13))),new Re(12,Int32Array.from([6,32,58]),new z(24,new T(2,92),new T(2,93)),new z(22,new T(6,36),new T(2,37)),new z(26,new T(4,20),new T(6,21)),new z(28,new T(7,14),new T(4,15))),new Re(13,Int32Array.from([6,34,62]),new z(26,new T(4,107)),new z(22,new T(8,37),new T(1,38)),new z(24,new T(8,20),new T(4,21)),new z(22,new T(12,11),new T(4,12))),new Re(14,Int32Array.from([6,26,46,66]),new z(30,new T(3,115),new T(1,116)),new z(24,new T(4,40),new T(5,41)),new z(20,new T(11,16),new T(5,17)),new z(24,new T(11,12),new T(5,13))),new Re(15,Int32Array.from([6,26,48,70]),new z(22,new T(5,87),new T(1,88)),new z(24,new T(5,41),new T(5,42)),new z(30,new T(5,24),new T(7,25)),new z(24,new T(11,12),new T(7,13))),new Re(16,Int32Array.from([6,26,50,74]),new z(24,new T(5,98),new T(1,99)),new z(28,new T(7,45),new T(3,46)),new z(24,new T(15,19),new T(2,20)),new z(30,new T(3,15),new T(13,16))),new Re(17,Int32Array.from([6,30,54,78]),new z(28,new T(1,107),new T(5,108)),new z(28,new T(10,46),new T(1,47)),new z(28,new T(1,22),new T(15,23)),new z(28,new T(2,14),new T(17,15))),new Re(18,Int32Array.from([6,30,56,82]),new z(30,new T(5,120),new T(1,121)),new z(26,new T(9,43),new T(4,44)),new z(28,new T(17,22),new T(1,23)),new z(28,new T(2,14),new T(19,15))),new Re(19,Int32Array.from([6,30,58,86]),new z(28,new T(3,113),new T(4,114)),new z(26,new T(3,44),new T(11,45)),new z(26,new T(17,21),new T(4,22)),new z(26,new T(9,13),new T(16,14))),new Re(20,Int32Array.from([6,34,62,90]),new z(28,new T(3,107),new T(5,108)),new z(26,new T(3,41),new T(13,42)),new z(30,new T(15,24),new T(5,25)),new z(28,new T(15,15),new T(10,16))),new Re(21,Int32Array.from([6,28,50,72,94]),new z(28,new T(4,116),new T(4,117)),new z(26,new T(17,42)),new z(28,new T(17,22),new T(6,23)),new z(30,new T(19,16),new T(6,17))),new Re(22,Int32Array.from([6,26,50,74,98]),new z(28,new T(2,111),new T(7,112)),new z(28,new T(17,46)),new z(30,new T(7,24),new T(16,25)),new z(24,new T(34,13))),new Re(23,Int32Array.from([6,30,54,78,102]),new z(30,new T(4,121),new T(5,122)),new z(28,new T(4,47),new T(14,48)),new z(30,new T(11,24),new T(14,25)),new z(30,new T(16,15),new T(14,16))),new Re(24,Int32Array.from([6,28,54,80,106]),new z(30,new T(6,117),new T(4,118)),new z(28,new T(6,45),new T(14,46)),new z(30,new T(11,24),new T(16,25)),new z(30,new T(30,16),new T(2,17))),new Re(25,Int32Array.from([6,32,58,84,110]),new z(26,new T(8,106),new T(4,107)),new z(28,new T(8,47),new T(13,48)),new z(30,new T(7,24),new T(22,25)),new z(30,new T(22,15),new T(13,16))),new Re(26,Int32Array.from([6,30,58,86,114]),new z(28,new T(10,114),new T(2,115)),new z(28,new T(19,46),new T(4,47)),new z(28,new T(28,22),new T(6,23)),new z(30,new T(33,16),new T(4,17))),new Re(27,Int32Array.from([6,34,62,90,118]),new z(30,new T(8,122),new T(4,123)),new z(28,new T(22,45),new T(3,46)),new z(30,new T(8,23),new T(26,24)),new z(30,new T(12,15),new T(28,16))),new Re(28,Int32Array.from([6,26,50,74,98,122]),new z(30,new T(3,117),new T(10,118)),new z(28,new T(3,45),new T(23,46)),new z(30,new T(4,24),new T(31,25)),new z(30,new T(11,15),new T(31,16))),new Re(29,Int32Array.from([6,30,54,78,102,126]),new z(30,new T(7,116),new T(7,117)),new z(28,new T(21,45),new T(7,46)),new z(30,new T(1,23),new T(37,24)),new z(30,new T(19,15),new T(26,16))),new Re(30,Int32Array.from([6,26,52,78,104,130]),new z(30,new T(5,115),new T(10,116)),new z(28,new T(19,47),new T(10,48)),new z(30,new T(15,24),new T(25,25)),new z(30,new T(23,15),new T(25,16))),new Re(31,Int32Array.from([6,30,56,82,108,134]),new z(30,new T(13,115),new T(3,116)),new z(28,new T(2,46),new T(29,47)),new z(30,new T(42,24),new T(1,25)),new z(30,new T(23,15),new T(28,16))),new Re(32,Int32Array.from([6,34,60,86,112,138]),new z(30,new T(17,115)),new z(28,new T(10,46),new T(23,47)),new z(30,new T(10,24),new T(35,25)),new z(30,new T(19,15),new T(35,16))),new Re(33,Int32Array.from([6,30,58,86,114,142]),new z(30,new T(17,115),new T(1,116)),new z(28,new T(14,46),new T(21,47)),new z(30,new T(29,24),new T(19,25)),new z(30,new T(11,15),new T(46,16))),new Re(34,Int32Array.from([6,34,62,90,118,146]),new z(30,new T(13,115),new T(6,116)),new z(28,new T(14,46),new T(23,47)),new z(30,new T(44,24),new T(7,25)),new z(30,new T(59,16),new T(1,17))),new Re(35,Int32Array.from([6,30,54,78,102,126,150]),new z(30,new T(12,121),new T(7,122)),new z(28,new T(12,47),new T(26,48)),new z(30,new T(39,24),new T(14,25)),new z(30,new T(22,15),new T(41,16))),new Re(36,Int32Array.from([6,24,50,76,102,128,154]),new z(30,new T(6,121),new T(14,122)),new z(28,new T(6,47),new T(34,48)),new z(30,new T(46,24),new T(10,25)),new z(30,new T(2,15),new T(64,16))),new Re(37,Int32Array.from([6,28,54,80,106,132,158]),new z(30,new T(17,122),new T(4,123)),new z(28,new T(29,46),new T(14,47)),new z(30,new T(49,24),new T(10,25)),new z(30,new T(24,15),new T(46,16))),new Re(38,Int32Array.from([6,32,58,84,110,136,162]),new z(30,new T(4,122),new T(18,123)),new z(28,new T(13,46),new T(32,47)),new z(30,new T(48,24),new T(14,25)),new z(30,new T(42,15),new T(32,16))),new Re(39,Int32Array.from([6,26,54,82,110,138,166]),new z(30,new T(20,117),new T(4,118)),new z(28,new T(40,47),new T(7,48)),new z(30,new T(43,24),new T(22,25)),new z(30,new T(10,15),new T(67,16))),new Re(40,Int32Array.from([6,30,58,86,114,142,170]),new z(30,new T(19,118),new T(6,119)),new z(28,new T(18,47),new T(31,48)),new z(30,new T(34,24),new T(34,25)),new z(30,new T(20,15),new T(61,16)))];var Ut;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(Ut||(Ut={}));class je{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let o=0;o<n;o++)this.isMasked(r,o)&&e.flip(o,r)}}je.values=new Map([[Ut.DATA_MASK_000,new je(Ut.DATA_MASK_000,(E,e)=>(E+e&1)===0)],[Ut.DATA_MASK_001,new je(Ut.DATA_MASK_001,(E,e)=>(E&1)===0)],[Ut.DATA_MASK_010,new je(Ut.DATA_MASK_010,(E,e)=>e%3===0)],[Ut.DATA_MASK_011,new je(Ut.DATA_MASK_011,(E,e)=>(E+e)%3===0)],[Ut.DATA_MASK_100,new je(Ut.DATA_MASK_100,(E,e)=>(Math.floor(E/2)+Math.floor(e/3)&1)===0)],[Ut.DATA_MASK_101,new je(Ut.DATA_MASK_101,(E,e)=>E*e%6===0)],[Ut.DATA_MASK_110,new je(Ut.DATA_MASK_110,(E,e)=>E*e%6<3)],[Ut.DATA_MASK_111,new je(Ut.DATA_MASK_111,(E,e)=>(E+e+E*e%3&1)===0)]]);class bs{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new Z;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let s=0;s<6;s++)e=this.copyBit(s,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let s=5;s>=0;s--)e=this.copyBit(8,s,e);const n=this.bitMatrix.getHeight();let r=0;const o=n-7;for(let s=n-1;s>=o;s--)r=this.copyBit(8,s,r);for(let s=n-8;s<n;s++)r=this.copyBit(s,8,r);if(this.parsedFormatInfo=en.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Re.getVersionForNumber(n);let r=0;const o=e-11;for(let a=5;a>=0;a--)for(let u=e-9;u>=o;u--)r=this.copyBit(u,a,r);let s=Re.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;r=0;for(let a=5;a>=0;a--)for(let u=e-9;u>=o;u--)r=this.copyBit(a,u,r);if(s=Re.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new Z}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=je.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o);const s=n.buildFunctionPattern();let a=!0;const u=new Uint8Array(n.getTotalCodewords());let f=0,d=0,w=0;for(let C=o-1;C>0;C-=2){C===6&&C--;for(let I=0;I<o;I++){const R=a?o-1-I:I;for(let M=0;M<2;M++)s.get(C-M,R)||(w++,d<<=1,this.bitMatrix.get(C-M,R)&&(d|=1),w===8&&(u[f++]=d,w=0,d=0))}a=!a}if(f!==n.getTotalCodewords())throw new Z;return u}remask(){if(this.parsedFormatInfo===null)return;const e=je.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let o=n+1,s=e.getHeight();o<s;o++)e.get(n,o)!==e.get(o,n)&&(e.flip(o,n),e.flip(n,o))}}class oo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new L;const o=n.getECBlocksForLevel(r);let s=0;const a=o.getECBlocks();for(const M of a)s+=M.getCount();const u=new Array(s);let f=0;for(const M of a)for(let P=0;P<M.getCount();P++){const F=M.getDataCodewords(),G=o.getECCodewordsPerBlock()+F;u[f++]=new oo(F,new Uint8Array(G))}const d=u[0].codewords.length;let w=u.length-1;for(;w>=0&&u[w].codewords.length!==d;)w--;w++;const C=d-o.getECCodewordsPerBlock();let I=0;for(let M=0;M<C;M++)for(let P=0;P<f;P++)u[P].codewords[M]=e[I++];for(let M=w;M<f;M++)u[M].codewords[C]=e[I++];const R=u[0].codewords.length;for(let M=C;M<R;M++)for(let P=0;P<f;P++){const F=P<w?M:M+1;u[P].codewords[F]=e[I++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Cn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(Cn||(Cn={}));class Oe{constructor(e,n,r,o){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=o,Oe.FOR_BITS.set(o,this),Oe.FOR_VALUE.set(e,this)}static forBits(e){const n=Oe.FOR_BITS.get(e);if(n===void 0)throw new L;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Oe))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Oe.FOR_BITS=new Map,Oe.FOR_VALUE=new Map,Oe.TERMINATOR=new Oe(Cn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Oe.NUMERIC=new Oe(Cn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Oe.ALPHANUMERIC=new Oe(Cn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Oe.STRUCTURED_APPEND=new Oe(Cn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Oe.BYTE=new Oe(Cn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Oe.ECI=new Oe(Cn.ECI,"ECI",Int32Array.from([0,0,0]),7),Oe.KANJI=new Oe(Cn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Oe.FNC1_FIRST_POSITION=new Oe(Cn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Oe.FNC1_SECOND_POSITION=new Oe(Cn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Oe.HANZI=new Oe(Cn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class St{static decode(e,n,r,o){const s=new zo(e);let a=new Fe;const u=new Array;let f=-1,d=-1;try{let w=null,C=!1,I;do{if(s.available()<4)I=Oe.TERMINATOR;else{const R=s.readBits(4);I=Oe.forBits(R)}switch(I){case Oe.TERMINATOR:break;case Oe.FNC1_FIRST_POSITION:case Oe.FNC1_SECOND_POSITION:C=!0;break;case Oe.STRUCTURED_APPEND:if(s.available()<16)throw new Z;f=s.readBits(8),d=s.readBits(8);break;case Oe.ECI:const R=St.parseECIValue(s);if(w=J.getCharacterSetECIByValue(R),w===null)throw new Z;break;case Oe.HANZI:const M=s.readBits(4),P=s.readBits(I.getCharacterCountBits(n));M===St.GB2312_SUBSET&&St.decodeHanziSegment(s,a,P);break;default:const F=s.readBits(I.getCharacterCountBits(n));switch(I){case Oe.NUMERIC:St.decodeNumericSegment(s,a,F);break;case Oe.ALPHANUMERIC:St.decodeAlphanumericSegment(s,a,F,C);break;case Oe.BYTE:St.decodeByteSegment(s,a,F,w,u,o);break;case Oe.KANJI:St.decodeKanjiSegment(s,a,F);break;default:throw new Z}break}}while(I!==Oe.TERMINATOR)}catch{throw new Z}return new pt(e,a.toString(),u.length===0?null:u,r===null?null:r.toString(),f,d)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new Z;const o=new Uint8Array(2*r);let s=0;for(;r>0;){const a=e.readBits(13);let u=a/96<<8&4294967295|a%96;u<959?u+=41377:u+=42657,o[s]=u>>8&255,o[s+1]=u&255,s+=2,r--}try{n.append(ut.decode(o,ve.GB2312))}catch(a){throw new Z(a)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new Z;const o=new Uint8Array(2*r);let s=0;for(;r>0;){const a=e.readBits(13);let u=a/192<<8&4294967295|a%192;u<7936?u+=33088:u+=49472,o[s]=u>>8,o[s+1]=u,s+=2,r--}try{n.append(ut.decode(o,ve.SHIFT_JIS))}catch(a){throw new Z(a)}}static decodeByteSegment(e,n,r,o,s,a){if(8*r>e.available())throw new Z;const u=new Uint8Array(r);for(let d=0;d<r;d++)u[d]=e.readBits(8);let f;o===null?f=ve.guessEncoding(u,a):f=o.getName();try{n.append(ut.decode(u,f))}catch(d){throw new Z(d)}s.push(u)}static toAlphaNumericChar(e){if(e>=St.ALPHANUMERIC_CHARS.length)throw new Z;return St.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,o){const s=n.length();for(;r>1;){if(e.available()<11)throw new Z;const a=e.readBits(11);n.append(St.toAlphaNumericChar(Math.floor(a/45))),n.append(St.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new Z;n.append(St.toAlphaNumericChar(e.readBits(6)))}if(o)for(let a=s;a<n.length();a++)n.charAt(a)==="%"&&(a<n.length()-1&&n.charAt(a+1)==="%"?n.deleteCharAt(a+1):n.setCharAt(a,""))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new Z;const o=e.readBits(10);if(o>=1e3)throw new Z;n.append(St.toAlphaNumericChar(Math.floor(o/100))),n.append(St.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(St.toAlphaNumericChar(o%10)),r-=3}if(r===2){if(e.available()<7)throw new Z;const o=e.readBits(7);if(o>=100)throw new Z;n.append(St.toAlphaNumericChar(Math.floor(o/10))),n.append(St.toAlphaNumericChar(o%10))}else if(r===1){if(e.available()<4)throw new Z;const o=e.readBits(4);if(o>=10)throw new Z;n.append(St.toAlphaNumericChar(o))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new Z}}St.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",St.GB2312_SUBSET=1;class Ho{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Wo{constructor(){this.rsDecoder=new Kr(nt.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(ct.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new bs(e);let o=null;try{return this.decodeBitMatrixParser(r,n)}catch(s){o=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const s=this.decodeBitMatrixParser(r,n);return s.setOther(new Ho(!0)),s}catch(s){throw o!==null?o:s}}decodeBitMatrixParser(e,n){const r=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),s=e.readCodewords(),a=oo.getDataBlocks(s,r,o);let u=0;for(const w of a)u+=w.getNumDataCodewords();const f=new Uint8Array(u);let d=0;for(const w of a){const C=w.getCodewords(),I=w.getNumDataCodewords();this.correctErrors(C,I);for(let R=0;R<I;R++)f[d++]=C[R]}return St.decode(f,r,o,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new ge}for(let o=0;o<n;o++)e[o]=r[o]}}class ti extends we{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const o=(this.getX()+n)/2,s=(this.getY()+e)/2,a=(this.estimatedModuleSize+r)/2;return new ti(o,s,a)}}class Yn{constructor(e,n,r,o,s,a,u){this.image=e,this.startX=n,this.startY=r,this.width=o,this.height=s,this.moduleSize=a,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,o=e+r,s=this.startY+n/2,a=new Int32Array(3),u=this.image;for(let f=0;f<n;f++){const d=s+(f&1?-Math.floor((f+1)/2):Math.floor((f+1)/2));a[0]=0,a[1]=0,a[2]=0;let w=e;for(;w<o&&!u.get(w,d);)w++;let C=0;for(;w<o;){if(u.get(w,d))if(C===1)a[1]++;else if(C===2){if(this.foundPatternCross(a)){const I=this.handlePossibleCenter(a,d,w);if(I!==null)return I}a[0]=a[2],a[1]=1,a[2]=0,C=1}else a[++C]++;else C===1&&C++,a[C]++;w++}if(this.foundPatternCross(a)){const I=this.handlePossibleCenter(a,d,o);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let o=0;o<3;o++)if(Math.abs(n-e[o])>=r)return!1;return!0}crossCheckVertical(e,n,r,o){const s=this.image,a=s.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let f=e;for(;f>=0&&s.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&!s.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<a&&s.get(n,f)&&u[1]<=r;)u[1]++,f++;if(f===a||u[1]>r)return NaN;for(;f<a&&!s.get(n,f)&&u[2]<=r;)u[2]++,f++;if(u[2]>r)return NaN;const d=u[0]+u[1]+u[2];return 5*Math.abs(d-o)>=2*o?NaN:this.foundPatternCross(u)?Yn.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r){const o=e[0]+e[1]+e[2],s=Yn.centerFromEnd(e,r),a=this.crossCheckVertical(n,s,2*e[1],o);if(!isNaN(a)){const u=(e[0]+e[1]+e[2])/3;for(const d of this.possibleCenters)if(d.aboutEquals(u,a,s))return d.combineEstimate(a,s,u);const f=new ti(s,a,u);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class rr extends we{constructor(e,n,r,o){super(e,n),this.estimatedModuleSize=r,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const o=this.count+1,s=(this.count*this.getX()+n)/o,a=(this.count*this.getY()+e)/o,u=(this.count*this.estimatedModuleSize+r)/o;return new rr(s,a,u,o)}}class Ir{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Mt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(Te.TRY_HARDER)!==void 0,r=e!=null&&e.get(Te.PURE_BARCODE)!==void 0,o=this.image,s=o.getHeight(),a=o.getWidth();let u=Math.floor(3*s/(4*Mt.MAX_MODULES));(u<Mt.MIN_SKIP||n)&&(u=Mt.MIN_SKIP);let f=!1;const d=new Int32Array(5);for(let C=u-1;C<s&&!f;C+=u){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;let I=0;for(let R=0;R<a;R++)if(o.get(R,C))(I&1)===1&&I++,d[I]++;else if(I&1)d[I]++;else if(I===4)if(Mt.foundPatternCross(d)){if(this.handlePossibleCenter(d,C,R,r)===!0)if(u=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const P=this.findRowSkip();P>d[2]&&(C+=P-d[2]-u,R=a-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,I=3;continue}I=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,I=3;else d[++I]++;Mt.foundPatternCross(d)&&this.handlePossibleCenter(d,C,a,r)===!0&&(u=d[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return we.orderBestPatterns(w),new Ir(w)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let s=0;s<5;s++){const a=e[s];if(a===0)return!1;n+=a}if(n<7)return!1;const r=n/7,o=r/2;return Math.abs(r-e[0])<o&&Math.abs(r-e[1])<o&&Math.abs(3*r-e[2])<3*o&&Math.abs(r-e[3])<o&&Math.abs(r-e[4])<o}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,o){const s=this.getCrossCheckStateCount();let a=0;const u=this.image;for(;e>=a&&n>=a&&u.get(n-a,e-a);)s[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!u.get(n-a,e-a)&&s[1]<=r;)s[1]++,a++;if(e<a||n<a||s[1]>r)return!1;for(;e>=a&&n>=a&&u.get(n-a,e-a)&&s[0]<=r;)s[0]++,a++;if(s[0]>r)return!1;const f=u.getHeight(),d=u.getWidth();for(a=1;e+a<f&&n+a<d&&u.get(n+a,e+a);)s[2]++,a++;if(e+a>=f||n+a>=d)return!1;for(;e+a<f&&n+a<d&&!u.get(n+a,e+a)&&s[3]<r;)s[3]++,a++;if(e+a>=f||n+a>=d||s[3]>=r)return!1;for(;e+a<f&&n+a<d&&u.get(n+a,e+a)&&s[4]<r;)s[4]++,a++;if(s[4]>=r)return!1;const w=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(w-o)<2*o&&Mt.foundPatternCross(s)}crossCheckVertical(e,n,r,o){const s=this.image,a=s.getHeight(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&s.get(n,f);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!s.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&s.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<a&&s.get(n,f);)u[2]++,f++;if(f===a)return NaN;for(;f<a&&!s.get(n,f)&&u[3]<r;)u[3]++,f++;if(f===a||u[3]>=r)return NaN;for(;f<a&&s.get(n,f)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-o)>=2*o?NaN:Mt.foundPatternCross(u)?Mt.centerFromEnd(u,f):NaN}crossCheckHorizontal(e,n,r,o){const s=this.image,a=s.getWidth(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&s.get(f,n);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!s.get(f,n)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&s.get(f,n)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<a&&s.get(f,n);)u[2]++,f++;if(f===a)return NaN;for(;f<a&&!s.get(f,n)&&u[3]<r;)u[3]++,f++;if(f===a||u[3]>=r)return NaN;for(;f<a&&s.get(f,n)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-o)>=o?NaN:Mt.foundPatternCross(u)?Mt.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r,o){const s=e[0]+e[1]+e[2]+e[3]+e[4];let a=Mt.centerFromEnd(e,r),u=this.crossCheckVertical(n,Math.floor(a),e[2],s);if(!isNaN(u)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(u),e[2],s),!isNaN(a)&&(!o||this.crossCheckDiagonal(Math.floor(u),Math.floor(a),e[2],s)))){const f=s/7;let d=!1;const w=this.possibleCenters;for(let C=0,I=w.length;C<I;C++){const R=w[C];if(R.aboutEquals(f,u,a)){w[C]=R.combineEstimate(u,a,f),d=!0;break}}if(!d){const C=new rr(a,u,f);w.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=Mt.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=Mt.CENTER_QUORUM&&(e++,n+=a.getEstimatedModuleSize());if(e<3)return!1;const o=n/r;let s=0;for(const a of this.possibleCenters)s+=Math.abs(a.getEstimatedModuleSize()-o);return s<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new Y;const n=this.possibleCenters;let r;if(e>3){let o=0,s=0;for(const f of this.possibleCenters){const d=f.getEstimatedModuleSize();o+=d,s+=d*d}r=o/e;let a=Math.sqrt(s/e-r*r);n.sort((f,d)=>{const w=Math.abs(d.getEstimatedModuleSize()-r),C=Math.abs(f.getEstimatedModuleSize()-r);return w<C?-1:w>C?1:0});const u=Math.max(.2*r,a);for(let f=0;f<n.length&&n.length>3;f++){const d=n[f];Math.abs(d.getEstimatedModuleSize()-r)>u&&(n.splice(f,1),f--)}}if(n.length>3){let o=0;for(const s of n)o+=s.getEstimatedModuleSize();r=o/n.length,n.sort((s,a)=>{if(a.getCount()===s.getCount()){const u=Math.abs(a.getEstimatedModuleSize()-r),f=Math.abs(s.getEstimatedModuleSize()-r);return u<f?1:u>f?-1:0}else return a.getCount()-s.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Mt.CENTER_QUORUM=2,Mt.MIN_SKIP=3,Mt.MAX_MODULES=57;class dr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Te.NEED_RESULT_POINT_CALLBACK);const r=new Mt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),o=e.getBottomLeft(),s=this.calculateModuleSize(n,r,o);if(s<1)throw new Y("No pattern found in proccess finder.");const a=dr.computeDimension(n,r,o,s),u=Re.getProvisionalVersionForDimension(a),f=u.getDimensionForVersion()-7;let d=null;if(u.getAlignmentPatternCenters().length>0){const R=r.getX()-n.getX()+o.getX(),M=r.getY()-n.getY()+o.getY(),P=1-3/f,F=Math.floor(n.getX()+P*(R-n.getX())),G=Math.floor(n.getY()+P*(M-n.getY()));for(let re=4;re<=16;re<<=1)try{d=this.findAlignmentInRegion(s,F,G,re);break}catch(ie){if(!(ie instanceof Y))throw ie}}const w=dr.createTransform(n,r,o,d,a),C=dr.sampleGrid(this.image,w,a);let I;return d===null?I=[o,n,r]:I=[o,n,r,d],new Qr(C,I)}static createTransform(e,n,r,o,s){const a=s-3.5;let u,f,d,w;return o!==null?(u=o.getX(),f=o.getY(),d=a-3,w=d):(u=n.getX()-e.getX()+r.getX(),f=n.getY()-e.getY()+r.getY(),d=a,w=a),bn.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,d,w,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),u,f,r.getX(),r.getY())}static sampleGrid(e,n,r){return Hn.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,o){const s=Je.round(we.distance(e,n)/o),a=Je.round(we.distance(e,r)/o);let u=Math.floor((s+a)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new Y("Dimensions could be not found.")}return u}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?o/7:isNaN(o)?r/7:(r+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,o){let s=this.sizeOfBlackWhiteBlackRun(e,n,r,o),a=1,u=e-(r-e);u<0?(a=e/(e-u),u=0):u>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let f=Math.floor(n-(o-n)*a);return a=1,f<0?(a=n/(n-f),f=0):f>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(f-n),f=this.image.getHeight()-1),u=Math.floor(e+(u-e)*a),s+=this.sizeOfBlackWhiteBlackRun(e,n,u,f),s-1}sizeOfBlackWhiteBlackRun(e,n,r,o){const s=Math.abs(o-n)>Math.abs(r-e);if(s){let R=e;e=n,n=R,R=r,r=o,o=R}const a=Math.abs(r-e),u=Math.abs(o-n);let f=-a/2;const d=e<r?1:-1,w=n<o?1:-1;let C=0;const I=r+d;for(let R=e,M=n;R!==I;R+=d){const P=s?M:R,F=s?R:M;if(C===1===this.image.get(P,F)){if(C===2)return Je.distance(R,M,e,n);C++}if(f+=u,f>0){if(M===o)break;M+=w,f-=a}}return C===2?Je.distance(r+d,o,e,n):NaN}findAlignmentInRegion(e,n,r,o){const s=Math.floor(o*e),a=Math.max(0,n-s),u=Math.min(this.image.getWidth()-1,n+s);if(u-a<e*3)throw new Y("Alignment top exceeds estimated module size.");const f=Math.max(0,r-s),d=Math.min(this.image.getHeight()-1,r+s);if(d-f<e*3)throw new Y("Alignment bottom exceeds estimated module size.");return new Yn(this.image,a,f,u-a,d-f,e,this.resultPointCallback).find()}}class gn{constructor(){this.decoder=new Wo}getDecoder(){return this.decoder}decode(e,n){let r,o;if(n!=null&&n.get(Te.PURE_BARCODE)!==void 0){const f=gn.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(f,n),o=gn.NO_POINTS}else{const f=new dr(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(f.getBits(),n),o=f.getPoints()}r.getOther()instanceof Ho&&r.getOther().applyMirroredCorrection(o);const s=new be(r.getText(),r.getRawBytes(),void 0,o,ue.QR_CODE,void 0),a=r.getByteSegments();a!==null&&s.putMetadata(Le.BYTE_SEGMENTS,a);const u=r.getECLevel();return u!==null&&s.putMetadata(Le.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(s.putMetadata(Le.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(Le.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new Y;const o=this.moduleSize(n,e);let s=n[1],a=r[1],u=n[0],f=r[0];if(u>=f||s>=a)throw new Y;if(a-s!==f-u&&(f=u+(a-s),f>=e.getWidth()))throw new Y;const d=Math.round((f-u+1)/o),w=Math.round((a-s+1)/o);if(d<=0||w<=0)throw new Y;if(w!==d)throw new Y;const C=Math.floor(o/2);s+=C,u+=C;const I=u+Math.floor((d-1)*o)-f;if(I>0){if(I>C)throw new Y;u-=I}const R=s+Math.floor((w-1)*o)-a;if(R>0){if(R>C)throw new Y;s-=R}const M=new ct(d,w);for(let P=0;P<w;P++){const F=s+Math.floor(P*o);for(let G=0;G<d;G++)e.get(u+Math.floor(G*o),F)&&M.set(G,P)}return M}static moduleSize(e,n){const r=n.getHeight(),o=n.getWidth();let s=e[0],a=e[1],u=!0,f=0;for(;s<o&&a<r;){if(u!==n.get(s,a)){if(++f===5)break;u=!u}s++,a++}if(s===o||a===r)throw new Y;return(s-e[0])/7}}gn.NO_POINTS=new Array;class Pe{PDF417Common(){}static getBitCountSum(e){return Je.sum(e)}static toIntArray(e){if(e==null||!e.length)return Pe.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const o of e)n[r++]=o;return n}static getCodeword(e){const n=ae.binarySearch(Pe.SYMBOL_TABLE,e&262143);return n<0?-1:(Pe.CODEWORD_TABLE[n]-1)%Pe.NUMBER_OF_CODEWORDS}}Pe.NUMBER_OF_CODEWORDS=929,Pe.MAX_CODEWORDS_IN_BARCODE=Pe.NUMBER_OF_CODEWORDS-1,Pe.MIN_ROWS_IN_BARCODE=3,Pe.MAX_ROWS_IN_BARCODE=90,Pe.MODULES_IN_CODEWORD=17,Pe.MODULES_IN_STOP_PATTERN=18,Pe.BARS_IN_MODULE=8,Pe.EMPTY_INT_ARRAY=new Int32Array([]),Pe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Pe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ds{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class ze{static detectMultiple(e,n,r){let o=e.getBlackMatrix(),s=ze.detect(r,o);return s.length||(o=o.clone(),o.rotate180(),s=ze.detect(r,o)),new Ds(o,s)}static detect(e,n){const r=new Array;let o=0,s=0,a=!1;for(;o<n.getHeight();){const u=ze.findVertices(n,o,s);if(u[0]==null&&u[3]==null){if(!a)break;a=!1,s=0;for(const f of r)f[1]!=null&&(o=Math.trunc(Math.max(o,f[1].getY()))),f[3]!=null&&(o=Math.max(o,Math.trunc(f[3].getY())));o+=ze.ROW_STEP;continue}if(a=!0,r.push(u),!e)break;u[2]!=null?(s=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return r}static findVertices(e,n,r){const o=e.getHeight(),s=e.getWidth(),a=new Array(8);return ze.copyToResult(a,ze.findRowsWithPattern(e,o,s,n,r,ze.START_PATTERN),ze.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),ze.copyToResult(a,ze.findRowsWithPattern(e,o,s,n,r,ze.STOP_PATTERN),ze.INDEXES_STOP_PATTERN),a}static copyToResult(e,n,r){for(let o=0;o<r.length;o++)e[r[o]]=n[o]}static findRowsWithPattern(e,n,r,o,s,a){const u=new Array(4);let f=!1;const d=new Int32Array(a.length);for(;o<n;o+=ze.ROW_STEP){let C=ze.findGuardPattern(e,s,o,r,!1,a,d);if(C!=null){for(;o>0;){const I=ze.findGuardPattern(e,s,--o,r,!1,a,d);if(I!=null)C=I;else{o++;break}}u[0]=new we(C[0],o),u[1]=new we(C[1],o),f=!0;break}}let w=o+1;if(f){let C=0,I=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;w<n;w++){const R=ze.findGuardPattern(e,I[0],w,r,!1,a,d);if(R!=null&&Math.abs(I[0]-R[0])<ze.MAX_PATTERN_DRIFT&&Math.abs(I[1]-R[1])<ze.MAX_PATTERN_DRIFT)I=R,C=0;else{if(C>ze.SKIPPED_ROW_COUNT_MAX)break;C++}}w-=C+1,u[2]=new we(I[0],w),u[3]=new we(I[1],w)}return w-o<ze.BARCODE_MIN_HEIGHT&&ae.fill(u,null),u}static findGuardPattern(e,n,r,o,s,a,u){ae.fillWithin(u,0,u.length,0);let f=n,d=0;for(;e.get(f,r)&&f>0&&d++<ze.MAX_PIXEL_DRIFT;)f--;let w=f,C=0,I=a.length;for(let R=s;w<o;w++)if(e.get(w,r)!==R)u[C]++;else{if(C===I-1){if(ze.patternMatchVariance(u,a,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return new Int32Array([f,w]);f+=u[0]+u[1],se.arraycopy(u,2,u,0,C-1),u[C-1]=0,u[C]=0,C--}else C++;u[C]=1,R=!R}return C===I-1&&ze.patternMatchVariance(u,a,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE?new Int32Array([f,w-1]):null}static patternMatchVariance(e,n,r){let o=e.length,s=0,a=0;for(let d=0;d<o;d++)s+=e[d],a+=n[d];if(s<a)return 1/0;let u=s/a;r*=u;let f=0;for(let d=0;d<o;d++){let w=e[d],C=n[d]*u,I=w>C?w-C:C-w;if(I>r)return 1/0;f+=I}return f/s}}ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ze.MAX_AVG_VARIANCE=.42,ze.MAX_INDIVIDUAL_VARIANCE=.8,ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ze.MAX_PIXEL_DRIFT=3,ze.MAX_PATTERN_DRIFT=5,ze.SKIPPED_ROW_COUNT_MAX=25,ze.ROW_STEP=5,ze.BARCODE_MIN_HEIGHT=10;class tn{constructor(e,n){if(n.length===0)throw new L;this.field=e;let r=n.length;if(r>1&&n[0]===0){let o=1;for(;o<r&&n[o]===0;)o++;o===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-o),se.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let o=0;for(let s of this.coefficients)o=this.field.add(o,s);return o}let n=this.coefficients[0],r=this.coefficients.length;for(let o=1;o<r;o++)n=this.field.add(this.field.multiply(e,n),this.coefficients[o]);return n}add(e){if(!this.field.equals(e.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let a=n;n=r,r=a}let o=new Int32Array(r.length),s=r.length-n.length;se.arraycopy(r,0,o,0,s);for(let a=s;a<r.length;a++)o[a]=this.field.add(n[a-s],r[a]);return new tn(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new L("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof tn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new tn(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,o=e.coefficients,s=o.length,a=new Int32Array(r+s-1);for(let u=0;u<r;u++){let f=n[u];for(let d=0;d<s;d++)a[u+d]=this.field.add(a[u+d],this.field.multiply(f,o[d]))}return new tn(this.field,a)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new tn(this.field,n)}multiplyScalar(e){if(e===0)return new tn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let o=0;o<n;o++)r[o]=this.field.multiply(this.coefficients[o],e);return new tn(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new L;if(n===0)return new tn(this.field,new Int32Array([0]));let r=this.coefficients.length,o=new Int32Array(r+e);for(let s=0;s<r;s++)o[s]=this.field.multiply(this.coefficients[s],n);return new tn(this.field,o)}toString(){let e=new Fe;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Ms{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new L;return this.logTable[e]}inverse(e){if(e===0)throw new vi;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class ni extends Ms{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let o=0;o<e;o++)this.expTable[o]=r,r=r*n%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new tn(this,new Int32Array([0])),this.one=new tn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new L;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new tn(this,r)}}ni.PDF417_GF=new ni(Pe.NUMBER_OF_CODEWORDS,3);class Go{constructor(){this.field=ni.PDF417_GF}decode(e,n,r){let o=new tn(this.field,e),s=new Int32Array(n),a=!1;for(let M=n;M>0;M--){let P=o.evaluateAt(this.field.exp(M));s[n-M]=P,P!==0&&(a=!0)}if(!a)return 0;let u=this.field.getOne();if(r!=null)for(const M of r){let P=this.field.exp(e.length-1-M),F=new tn(this.field,new Int32Array([this.field.subtract(0,P),1]));u=u.multiply(F)}let f=new tn(this.field,s),d=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),f,n),w=d[0],C=d[1],I=this.findErrorLocations(w),R=this.findErrorMagnitudes(C,w,I);for(let M=0;M<I.length;M++){let P=e.length-1-this.field.log(I[M]);if(P<0)throw ge.getChecksumInstance();e[P]=this.field.subtract(e[P],R[M])}return I.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let I=e;e=n,n=I}let o=e,s=n,a=this.field.getZero(),u=this.field.getOne();for(;s.getDegree()>=Math.round(r/2);){let I=o,R=a;if(o=s,a=u,o.isZero())throw ge.getChecksumInstance();s=I;let M=this.field.getZero(),P=o.getCoefficient(o.getDegree()),F=this.field.inverse(P);for(;s.getDegree()>=o.getDegree()&&!s.isZero();){let G=s.getDegree()-o.getDegree(),re=this.field.multiply(s.getCoefficient(s.getDegree()),F);M=M.add(this.field.buildMonomial(G,re)),s=s.subtract(o.multiplyByMonomial(G,re))}u=M.multiply(a).subtract(R).negative()}let f=u.getCoefficient(0);if(f===0)throw ge.getChecksumInstance();let d=this.field.inverse(f),w=u.multiply(d),C=s.multiply(d);return[w,C]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),o=0;for(let s=1;s<this.field.getSize()&&o<n;s++)e.evaluateAt(s)===0&&(r[o]=this.field.inverse(s),o++);if(o!==n)throw ge.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let o=n.getDegree(),s=new Int32Array(o);for(let d=1;d<=o;d++)s[o-d]=this.field.multiply(d,n.getCoefficient(d));let a=new tn(this.field,s),u=r.length,f=new Int32Array(u);for(let d=0;d<u;d++){let w=this.field.inverse(r[d]),C=this.field.subtract(0,e.evaluateAt(w)),I=this.field.inverse(a.evaluateAt(w));f[d]=this.field.multiply(C,I)}return f}}class Mr{constructor(e,n,r,o,s){e instanceof Mr?this.constructor_2(e):this.constructor_1(e,n,r,o,s)}constructor_1(e,n,r,o,s){const a=n==null||r==null,u=o==null||s==null;if(a&&u)throw new Y;a?(n=new we(0,o.getY()),r=new we(0,s.getY())):u&&(o=new we(e.getWidth()-1,n.getY()),s=new we(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=o,this.bottomRight=s,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(o.getX(),s.getX())),this.minY=Math.trunc(Math.min(n.getY(),o.getY())),this.maxY=Math.trunc(Math.max(r.getY(),s.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Mr(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let o=this.topLeft,s=this.bottomLeft,a=this.topRight,u=this.bottomRight;if(e>0){let f=r?this.topLeft:this.topRight,d=Math.trunc(f.getY()-e);d<0&&(d=0);let w=new we(f.getX(),d);r?o=w:a=w}if(n>0){let f=r?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+n);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);let w=new we(f.getX(),d);r?s=w:u=w}return new Mr(this.image,o,s,a,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ni{constructor(e,n,r,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class hr{constructor(){this.buffer=""}static form(e,n){let r=-1;function o(a,u,f,d,w,C){if(a==="%%")return"%";if(n[++r]===void 0)return;a=d?parseInt(d.substr(1)):void 0;let I=w?parseInt(w.substr(1)):void 0,R;switch(C){case"s":R=n[r];break;case"c":R=n[r][0];break;case"f":R=parseFloat(n[r]).toFixed(a);break;case"p":R=parseFloat(n[r]).toPrecision(a);break;case"e":R=parseFloat(n[r]).toExponential(a);break;case"x":R=parseInt(n[r]).toString(I||16);break;case"d":R=parseFloat(parseInt(n[r],I||10).toPrecision(a)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(I);let M=parseInt(f),P=f&&f[0]+""=="0"?"0":" ";for(;R.length<M;)R=u!==void 0?R+P:P+R;return R}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,o)}format(e,...n){this.buffer+=hr.form(e,n)}toString(){return this.buffer}}class ir{constructor(e){this.boundingBox=new Mr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<ir.MAX_NEARBY_DISTANCE;r++){let o=this.imageRowToCodewordIndex(e)-r;if(o>=0&&(n=this.codewords[o],n!=null)||(o=this.imageRowToCodewordIndex(e)+r,o<this.codewords.length&&(n=this.codewords[o],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new hr;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}ir.MAX_NEARBY_DISTANCE=5;class Sr{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,o]of this.values.entries()){const s={getKey:()=>r,getValue:()=>o};s.getValue()>e?(e=s.getValue(),n=[],n.push(s.getKey())):s.getValue()===e&&n.push(s.getKey())}return Pe.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class ks extends ir{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=-1,d=1,w=0;for(let C=a;C<u;C++){if(n[C]==null)continue;let I=n[C],R=I.getRowNumber()-f;if(R===0)w++;else if(R===1)d=Math.max(d,w),w=1,f=I.getRowNumber();else if(R<0||I.getRowNumber()>=e.getRowCount()||R>C)n[C]=null;else{let M;d>2?M=(d-2)*R:M=R;let P=M>=C;for(let F=1;F<=M&&!P;F++)P=n[C-F]!=null;P?n[C]=null:(f=I.getRowNumber(),w=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let o=r.getRowNumber();if(o>=n.length)continue;n[o]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.getCodewords(),f=-1;for(let d=s;d<a;d++){if(u[d]==null)continue;let w=u[d];w.setRowNumberAsRowIndicatorColumn();let C=w.getRowNumber()-f;C===0||(C===1?f=w.getRowNumber():w.getRowNumber()>=e.getRowCount()?u[d]=null:f=w.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Sr,r=new Sr,o=new Sr,s=new Sr;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let f=u.getValue()%30,d=u.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:r.setValue(f*3+1);break;case 1:s.setValue(f/3),o.setValue(f%3);break;case 2:n.setValue(f+1);break}}if(n.getValue().length===0||r.getValue().length===0||o.getValue().length===0||s.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+o.getValue()[0]<Pe.MIN_ROWS_IN_BARCODE||r.getValue()[0]+o.getValue()[0]>Pe.MAX_ROWS_IN_BARCODE)return null;let a=new Ni(n.getValue()[0],r.getValue()[0],o.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let o=e[r];if(e[r]==null)continue;let s=o.getValue()%30,a=o.getRowNumber();if(a>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:s+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ri{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Pe.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let o=0;o<r.length;o++)r[o]!=null&&(r[o].hasValidRowNumber()||this.adjustRowNumbers(n,o,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let s=this.detectionResultColumns[o].getCodewords()[r];s!=null&&(s.setRowNumber(e[r].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let o=n[r].getRowNumber(),s=0;for(let a=this.barcodeColumnCount+1;a>0&&s<this.ADJUST_ROW_NUMBER_SKIP;a--){let u=this.detectionResultColumns[a].getCodewords()[r];u!=null&&(s=Ri.adjustRowNumberIfValid(o,s,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let o=n[r].getRowNumber(),s=0;for(let a=1;a<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;a++){let u=this.detectionResultColumns[a].getCodewords()[r];u!=null&&(s=Ri.adjustRowNumberIfValid(o,s,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let o=r[n],s=this.detectionResultColumns[e-1].getCodewords(),a=s;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=s[n],u[3]=a[n],n>0&&(u[0]=r[n-1],u[4]=s[n-1],u[5]=a[n-1]),n>1&&(u[8]=r[n-2],u[10]=s[n-2],u[11]=a[n-2]),n<r.length-1&&(u[1]=r[n+1],u[6]=s[n+1],u[7]=a[n+1]),n<r.length-2&&(u[9]=r[n+2],u[12]=s[n+2],u[13]=a[n+2]);for(let f of u)if(Ri.adjustRowNumber(o,f))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new hr;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){n.format("    |   ");continue}let s=this.detectionResultColumns[o].getCodewords()[r];if(s==null){n.format("    |   ");continue}n.format(" %3d|%3d",s.getRowNumber(),s.getValue())}n.format("%n")}return n.toString()}}class kr{constructor(e,n,r,o){this.rowNumber=kr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==kr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}kr.BARCODE_ROW_UNKNOWN=-1;class nn{static initialize(){for(let e=0;e<Pe.SYMBOL_TABLE.length;e++){let n=Pe.SYMBOL_TABLE[e],r=n&1;for(let o=0;o<Pe.BARS_IN_MODULE;o++){let s=0;for(;(n&1)===r;)s+=1,n>>=1;r=n&1,nn.RATIOS_TABLE[e]||(nn.RATIOS_TABLE[e]=new Array(Pe.BARS_IN_MODULE)),nn.RATIOS_TABLE[e][Pe.BARS_IN_MODULE-o-1]=Math.fround(s/Pe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=nn.getDecodedCodewordValue(nn.sampleBitCounts(e));return n!==-1?n:nn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=Je.sum(e),r=new Int32Array(Pe.BARS_IN_MODULE),o=0,s=0;for(let a=0;a<Pe.MODULES_IN_CODEWORD;a++){let u=n/(2*Pe.MODULES_IN_CODEWORD)+a*n/Pe.MODULES_IN_CODEWORD;s+e[o]<=u&&(s+=e[o],o++),r[o]++}return r}static getDecodedCodewordValue(e){let n=nn.getBitValue(e);return Pe.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let o=0;o<e[r];o++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=Je.sum(e),r=new Array(Pe.BARS_IN_MODULE);if(n>1)for(let a=0;a<r.length;a++)r[a]=Math.fround(e[a]/n);let o=Ar.MAX_VALUE,s=-1;this.bSymbolTableReady||nn.initialize();for(let a=0;a<nn.RATIOS_TABLE.length;a++){let u=0,f=nn.RATIOS_TABLE[a];for(let d=0;d<Pe.BARS_IN_MODULE;d++){let w=Math.fround(f[d]-r[d]);if(u+=Math.fround(w*w),u>=o)break}u<o&&(o=u,s=Pe.SYMBOL_TABLE[a])}return s}}nn.bSymbolTableReady=!1,nn.RATIOS_TABLE=new Array(Pe.SYMBOL_TABLE.length).map(E=>new Array(Pe.BARS_IN_MODULE));class so{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Xo{static parseLong(e,n=void 0){return parseInt(e,n)}}class gr extends S{}gr.kind="NullPointerException";class jo{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new gr;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new ye;if(r===0)return;for(let o=0;o<r;o++)this.write(e[n+o])}flush(){}close(){}}class ao extends S{}class Ps extends jo{constructor(e=32){if(super(),this.count=0,e<0)throw new L("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new ao;r=q.MAX_VALUE}this.buf=ae.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new ye;this.ensureCapacity(this.count+r),se.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ae.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var at;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(at||(at={}));function Oi(){if(typeof window<"u")return window.BigInt||null;if(typeof Da<"u")return Da.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let bi;function Vt(E){if(typeof bi>"u"&&(bi=Oi()),bi===null)throw new Error("BigInt is not supported!");return bi(E)}function ri(){let E=[];E[0]=Vt(1);let e=Vt(900);E[1]=e;for(let n=2;n<16;n++)E[n]=E[n-1]*e;return E}class X{static decode(e,n){let r=new Fe(""),o=J.ISO8859_1;r.enableDecoding(o);let s=1,a=e[s++],u=new so;for(;s<e[0];){switch(a){case X.TEXT_COMPACTION_MODE_LATCH:s=X.textCompaction(e,s,r);break;case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:s=X.byteCompaction(a,e,o,s,r);break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[s++]);break;case X.NUMERIC_COMPACTION_MODE_LATCH:s=X.numericCompaction(e,s,r);break;case X.ECI_CHARSET:J.getCharacterSetECIByValue(e[s++]);break;case X.ECI_GENERAL_PURPOSE:s+=2;break;case X.ECI_USER_DEFINED:s++;break;case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=X.decodeMacroBlock(e,s,u);break;case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:throw new Z;default:s--,s=X.textCompaction(e,s,r);break}if(s<e.length)a=e[s++];else throw Z.getFormatInstance()}if(r.length()===0)throw Z.getFormatInstance();let f=new pt(null,r.toString(),null,n);return f.setOther(u),f}static decodeMacroBlock(e,n,r){if(n+X.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Z.getFormatInstance();let o=new Int32Array(X.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<X.NUMBER_OF_SEQUENCE_CODEWORDS;u++,n++)o[u]=e[n];r.setSegmentIndex(q.parseInt(X.decodeBase900toBase10(o,X.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Fe;n=X.textCompaction(e,n,s),r.setFileId(s.toString());let a=-1;for(e[n]===X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<e[0];)switch(e[n]){case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case X.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Fe;n=X.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new Fe;n=X.textCompaction(e,n+1,f),r.setSender(f.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let d=new Fe;n=X.textCompaction(e,n+1,d),r.setAddressee(d.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Fe;n=X.numericCompaction(e,n+1,w),r.setSegmentCount(q.parseInt(w.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new Fe;n=X.numericCompaction(e,n+1,C),r.setTimestamp(Xo.parseLong(C.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Fe;n=X.numericCompaction(e,n+1,I),r.setChecksum(q.parseInt(I.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let R=new Fe;n=X.numericCompaction(e,n+1,R),r.setFileSize(Xo.parseLong(R.toString()));break;default:throw Z.getFormatInstance()}break;case X.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw Z.getFormatInstance()}if(a!==-1){let u=n-a;r.isLastSegment()&&u--,r.setOptionalData(ae.copyOfRange(e,a,a+u))}return n}static textCompaction(e,n,r){let o=new Int32Array((e[0]-n)*2),s=new Int32Array((e[0]-n)*2),a=0,u=!1;for(;n<e[0]&&!u;){let f=e[n++];if(f<X.TEXT_COMPACTION_MODE_LATCH)o[a]=f/30,o[a+1]=f%30,a+=2;else switch(f){case X.TEXT_COMPACTION_MODE_LATCH:o[a++]=X.TEXT_COMPACTION_MODE_LATCH;break;case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[a]=X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[n++],s[a]=f,a++;break}}return X.decodeTextCompaction(o,s,a,r),n}static decodeTextCompaction(e,n,r,o){let s=at.ALPHA,a=at.ALPHA,u=0;for(;u<r;){let f=e[u],d="";switch(s){case at.ALPHA:if(f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case X.LL:s=at.LOWER;break;case X.ML:s=at.MIXED;break;case X.PS:a=s,s=at.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case X.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break;case at.LOWER:if(f<26)d=String.fromCharCode(97+f);else switch(f){case 26:d=" ";break;case X.AS:a=s,s=at.ALPHA_SHIFT;break;case X.ML:s=at.MIXED;break;case X.PS:a=s,s=at.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case X.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break;case at.MIXED:if(f<X.PL)d=X.MIXED_CHARS[f];else switch(f){case X.PL:s=at.PUNCT;break;case 26:d=" ";break;case X.LL:s=at.LOWER;break;case X.AL:s=at.ALPHA;break;case X.PS:a=s,s=at.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case X.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break;case at.PUNCT:if(f<X.PAL)d=X.PUNCT_CHARS[f];else switch(f){case X.PAL:s=at.ALPHA;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case X.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break;case at.ALPHA_SHIFT:if(s=a,f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case X.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break;case at.PUNCT_SHIFT:if(s=a,f<X.PAL)d=X.PUNCT_CHARS[f];else switch(f){case X.PAL:s=at.ALPHA;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case X.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break}d!==""&&o.append(d),u++}}static byteCompaction(e,n,r,o,s){let a=new Ps,u=0,f=0,d=!1;switch(e){case X.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),C=n[o++];for(;o<n[0]&&!d;)switch(w[u++]=C,f=900*f+C,C=n[o++],C){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:o--,d=!0;break;default:if(u%5===0&&u>0){for(let I=0;I<6;++I)a.write(Number(Vt(f)>>Vt(8*(5-I))));f=0,u=0}break}o===n[0]&&C<X.TEXT_COMPACTION_MODE_LATCH&&(w[u++]=C);for(let I=0;I<u;I++)a.write(w[I]);break;case X.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!d;){let I=n[o++];if(I<X.TEXT_COMPACTION_MODE_LATCH)u++,f=900*f+I;else switch(I){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:o--,d=!0;break}if(u%5===0&&u>0){for(let R=0;R<6;++R)a.write(Number(Vt(f)>>Vt(8*(5-R))));f=0,u=0}}break}return s.append(ut.decode(a.toByteArray(),r)),o}static numericCompaction(e,n,r){let o=0,s=!1,a=new Int32Array(X.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!s;){let u=e[n++];if(n===e[0]&&(s=!0),u<X.TEXT_COMPACTION_MODE_LATCH)a[o]=u,o++;else switch(u){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:n--,s=!0;break}(o%X.MAX_NUMERIC_CODEWORDS===0||u===X.NUMERIC_COMPACTION_MODE_LATCH||s)&&o>0&&(r.append(X.decodeBase900toBase10(a,o)),o=0)}return n}static decodeBase900toBase10(e,n){let r=Vt(0);for(let s=0;s<n;s++)r+=X.EXP900[n-s-1]*Vt(e[s]);let o=r.toString();if(o.charAt(0)!=="1")throw new Z;return o.substring(1)}}X.TEXT_COMPACTION_MODE_LATCH=900,X.BYTE_COMPACTION_MODE_LATCH=901,X.NUMERIC_COMPACTION_MODE_LATCH=902,X.BYTE_COMPACTION_MODE_LATCH_6=924,X.ECI_USER_DEFINED=925,X.ECI_GENERAL_PURPOSE=926,X.ECI_CHARSET=927,X.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,X.MACRO_PDF417_TERMINATOR=922,X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,X.MAX_NUMERIC_CODEWORDS=15,X.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,X.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,X.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,X.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,X.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,X.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,X.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,X.PL=25,X.LL=27,X.AS=27,X.ML=28,X.AL=28,X.PS=29,X.PAL=29,X.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,X.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",X.EXP900=Oi()?ri():[],X.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ge{constructor(){}static decode(e,n,r,o,s,a,u){let f=new Mr(e,n,r,o,s),d=null,w=null,C;for(let M=!0;;M=!1){if(n!=null&&(d=Ge.getRowIndicatorColumn(e,f,n,!0,a,u)),o!=null&&(w=Ge.getRowIndicatorColumn(e,f,o,!1,a,u)),C=Ge.merge(d,w),C==null)throw Y.getNotFoundInstance();let P=C.getBoundingBox();if(M&&P!=null&&(P.getMinY()<f.getMinY()||P.getMaxY()>f.getMaxY()))f=P;else break}C.setBoundingBox(f);let I=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,d),C.setDetectionResultColumn(I,w);let R=d!=null;for(let M=1;M<=I;M++){let P=R?M:I-M;if(C.getDetectionResultColumn(P)!==void 0)continue;let F;P===0||P===I?F=new ks(f,P===0):F=new ir(f),C.setDetectionResultColumn(P,F);let G=-1,re=G;for(let ie=f.getMinY();ie<=f.getMaxY();ie++){if(G=Ge.getStartColumn(C,P,ie,R),G<0||G>f.getMaxX()){if(re===-1)continue;G=re}let ee=Ge.detectCodeword(e,f.getMinX(),f.getMaxX(),R,G,ie,a,u);ee!=null&&(F.setCodeword(ie,ee),re=G,a=Math.min(a,ee.getWidth()),u=Math.max(u,ee.getWidth()))}}return Ge.createDecoderResult(C)}static merge(e,n){if(e==null&&n==null)return null;let r=Ge.getBarcodeMetadata(e,n);if(r==null)return null;let o=Mr.merge(Ge.adjustBoundingBox(e),Ge.adjustBoundingBox(n));return new Ri(r,o)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=Ge.getMax(n),o=0;for(let u of n)if(o+=r-u,u>0)break;let s=e.getCodewords();for(let u=0;o>0&&s[u]==null;u++)o--;let a=0;for(let u=n.length-1;u>=0&&(a+=r-n[u],!(n[u]>0));u--);for(let u=s.length-1;a>0&&s[u]==null;u--)a--;return e.getBoundingBox().addMissingRows(o,a,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let o;return n==null||(o=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==o.getColumnCount()&&r.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&r.getRowCount()!==o.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,o,s,a){let u=new ks(n,o);for(let f=0;f<2;f++){let d=f===0?1:-1,w=Math.trunc(Math.trunc(r.getX()));for(let C=Math.trunc(Math.trunc(r.getY()));C<=n.getMaxY()&&C>=n.getMinY();C+=d){let I=Ge.detectCodeword(e,0,e.getWidth(),o,w,C,s,a);I!=null&&(u.setCodeword(C,I),o?w=I.getStartX():w=I.getEndX())}}return u}static adjustCodewordCount(e,n){let r=n[0][1],o=r.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Ge.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(s<1||s>Pe.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();r.setValue(s)}else o[0]!==s&&r.setValue(s)}static createDecoderResult(e){let n=Ge.createBarcodeMatrix(e);Ge.adjustCodewordCount(e,n);let r=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],a=new Array;for(let f=0;f<e.getBarcodeRowCount();f++)for(let d=0;d<e.getBarcodeColumnCount();d++){let w=n[f][d+1].getValue(),C=f*e.getBarcodeColumnCount()+d;w.length===0?r.push(C):w.length===1?o[C]=w[0]:(a.push(C),s.push(w))}let u=new Array(s.length);for(let f=0;f<u.length;f++)u[f]=s[f];return Ge.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,Pe.toIntArray(r),Pe.toIntArray(a),u)}static createDecoderResultFromAmbiguousValues(e,n,r,o,s){let a=new Int32Array(o.length),u=100;for(;u-- >0;){for(let f=0;f<a.length;f++)n[o[f]]=s[f][a[f]];try{return Ge.decodeCodewords(n,e,r)}catch(f){if(!(f instanceof ge))throw f}if(a.length===0)throw ge.getChecksumInstance();for(let f=0;f<a.length;f++)if(a[f]<s[f].length-1){a[f]++;break}else if(a[f]=0,f===a.length-1)throw ge.getChecksumInstance()}throw ge.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<n.length;o++)for(let s=0;s<n[o].length;s++)n[o][s]=new Sr;let r=0;for(let o of e.getDetectionResultColumns()){if(o!=null){for(let s of o.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=0){if(a>=n.length)continue;n[a][r].setValue(s.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,o){let s=o?1:-1,a=null;if(Ge.isValidBarcodeColumn(e,n-s)&&(a=e.getDetectionResultColumn(n-s).getCodeword(r)),a!=null)return o?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(n).getCodewordNearby(r),a!=null)return o?a.getStartX():a.getEndX();if(Ge.isValidBarcodeColumn(e,n-s)&&(a=e.getDetectionResultColumn(n-s).getCodewordNearby(r)),a!=null)return o?a.getEndX():a.getStartX();let u=0;for(;Ge.isValidBarcodeColumn(e,n-s);){n-=s;for(let f of e.getDetectionResultColumn(n).getCodewords())if(f!=null)return(o?f.getEndX():f.getStartX())+s*u*(f.getEndX()-f.getStartX());u++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,o,s,a,u,f){s=Ge.adjustCodewordStartColumn(e,n,r,o,s,a);let d=Ge.getModuleBitCount(e,n,r,o,s,a);if(d==null)return null;let w,C=Je.sum(d);if(o)w=s+C;else{for(let M=0;M<d.length/2;M++){let P=d[M];d[M]=d[d.length-1-M],d[d.length-1-M]=P}w=s,s=w-C}if(!Ge.checkCodewordSkew(C,u,f))return null;let I=nn.getDecodedValue(d),R=Pe.getCodeword(I);return R===-1?null:new kr(s,w,Ge.getCodewordBucketNumber(I),R)}static getModuleBitCount(e,n,r,o,s,a){let u=s,f=new Int32Array(8),d=0,w=o?1:-1,C=o;for(;(o?u<r:u>=n)&&d<f.length;)e.get(u,a)===C?(f[d]++,u+=w):(d++,C=!C);return d===f.length||u===(o?r:n)&&d===f.length-1?f:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,o,s,a){let u=s,f=o?-1:1;for(let d=0;d<2;d++){for(;(o?u>=n:u<r)&&o===e.get(u,a);){if(Math.abs(s-u)>Ge.CODEWORD_SKEW_SIZE)return s;u+=f}f=-f,o=!o}return u}static checkCodewordSkew(e,n,r){return n-Ge.CODEWORD_SKEW_SIZE<=e&&e<=r+Ge.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw Z.getFormatInstance();let o=1<<n+1,s=Ge.correctErrors(e,r,o);Ge.verifyCodewordCount(e,o);let a=X.decode(e,""+n);return a.setErrorsCorrected(s),a.setErasures(r.length),a}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+Ge.MAX_ERRORS||r<0||r>Ge.MAX_EC_CODEWORDS)throw ge.getChecksumInstance();return Ge.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw Z.getFormatInstance();let r=e[0];if(r>e.length)throw Z.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw Z.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,o=n.length-1;for(;!((e&1)!==r&&(r=e&1,o--,o<0));)n[o]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Ge.getCodewordBucketNumber(Ge.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new hr;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let o=0;o<e[r].length;o++){let s=e[r][o];s.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}n.format("%n")}return n.toString()}}Ge.CODEWORD_SKEW_SIZE=2,Ge.MAX_ERRORS=3,Ge.MAX_EC_CODEWORDS=512,Ge.errorCorrection=new Go;class rn{decode(e,n=null){let r=rn.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw Y.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return rn.decode(e,n,!0)}catch(r){throw r instanceof Z||r instanceof ge?Y.getNotFoundInstance():r}}static decode(e,n,r){const o=new Array,s=ze.detectMultiple(e,n,r);for(const a of s.getPoints()){const u=Ge.decode(s.getBits(),a[4],a[5],a[6],a[7],rn.getMinCodewordWidth(a),rn.getMaxCodewordWidth(a)),f=new be(u.getText(),u.getRawBytes(),void 0,a,ue.PDF_417);f.putMetadata(Le.ERROR_CORRECTION_LEVEL,u.getECLevel());const d=u.getOther();d!=null&&f.putMetadata(Le.PDF417_EXTRA_METADATA,d),o.push(f)}return o.map(a=>a)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?q.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(rn.getMaxWidth(e[0],e[4]),rn.getMaxWidth(e[6],e[2])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN),Math.max(rn.getMaxWidth(e[1],e[5]),rn.getMaxWidth(e[7],e[3])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(rn.getMinWidth(e[0],e[4]),rn.getMinWidth(e[6],e[2])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN),Math.min(rn.getMinWidth(e[1],e[5]),rn.getMinWidth(e[7],e[3])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN)))}reset(){}}class ii extends S{}ii.kind="ReaderException";class lo{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!A(e)&&e.get(Te.TRY_HARDER)===!0,r=A(e)?null:e.get(Te.POSSIBLE_FORMATS),o=new Array;if(!A(r)){const s=r.some(a=>a===ue.UPC_A||a===ue.UPC_E||a===ue.EAN_13||a===ue.EAN_8||a===ue.CODABAR||a===ue.CODE_39||a===ue.CODE_93||a===ue.CODE_128||a===ue.ITF||a===ue.RSS_14||a===ue.RSS_EXPANDED);s&&!n&&o.push(new $r(e,this.verbose)),r.includes(ue.QR_CODE)&&o.push(new gn),r.includes(ue.DATA_MATRIX)&&o.push(new jn),r.includes(ue.AZTEC)&&o.push(new vr),r.includes(ue.PDF_417)&&o.push(new rn),s&&n&&o.push(new $r(e,this.verbose))}o.length===0&&(n||o.push(new $r(e,this.verbose)),o.push(new gn),o.push(new jn),o.push(new vr),o.push(new rn),n&&o.push(new $r(e,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ii("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof ii)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class Di extends Ue{constructor(e=null,n=500){const r=new lo;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class uo extends Ue{constructor(e=500){super(new rn,e)}}class Bs extends Ue{constructor(e=500){super(new gn,e)}}var Yo;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(Yo||(Yo={}));var jt=Yo;class Zo{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Jt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const o=this.field;for(let s=n.length;s<=e;s++){const a=r.multiply(new Jt(o,Int32Array.from([1,o.exp(s-1+o.getGeneratorBase())])));n.push(a),r=a}}return n[e]}encode(e,n){if(n===0)throw new L("No error correction bytes");const r=e.length-n;if(r<=0)throw new L("No data bytes provided");const o=this.buildGenerator(n),s=new Int32Array(r);se.arraycopy(e,0,s,0,r);let a=new Jt(this.field,s);a=a.multiplyByMonomial(n,1);const f=a.divide(o)[1].getCoefficients(),d=n-f.length;for(let w=0;w<d;w++)e[r+w]=0;se.arraycopy(f,0,e,r+d,f.length)}}class Tt{constructor(){}static applyMaskPenaltyRule1(e){return Tt.applyMaskPenaltyRule1Internal(e,!0)+Tt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),o=e.getWidth(),s=e.getHeight();for(let a=0;a<s-1;a++){const u=r[a];for(let f=0;f<o-1;f++){const d=u[f];d===u[f+1]&&d===r[a+1][f]&&d===r[a+1][f+1]&&n++}}return Tt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),o=e.getWidth(),s=e.getHeight();for(let a=0;a<s;a++)for(let u=0;u<o;u++){const f=r[a];u+6<o&&f[u]===1&&f[u+1]===0&&f[u+2]===1&&f[u+3]===1&&f[u+4]===1&&f[u+5]===0&&f[u+6]===1&&(Tt.isWhiteHorizontal(f,u-4,u)||Tt.isWhiteHorizontal(f,u+7,u+11))&&n++,a+6<s&&r[a][u]===1&&r[a+1][u]===0&&r[a+2][u]===1&&r[a+3][u]===1&&r[a+4][u]===1&&r[a+5][u]===0&&r[a+6][u]===1&&(Tt.isWhiteVertical(r,u,a-4,a)||Tt.isWhiteVertical(r,u,a+7,a+11))&&n++}return n*Tt.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let o=n;o<r;o++)if(e[o]===1)return!1;return!0}static isWhiteVertical(e,n,r,o){r=Math.max(r,0),o=Math.min(o,e.length);for(let s=r;s<o;s++)if(e[s][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),o=e.getWidth(),s=e.getHeight();for(let f=0;f<s;f++){const d=r[f];for(let w=0;w<o;w++)d[w]===1&&n++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-a)*10/a)*Tt.N4}static getDataMaskBit(e,n,r){let o,s;switch(e){case 0:o=r+n&1;break;case 1:o=r&1;break;case 2:o=n%3;break;case 3:o=(r+n)%3;break;case 4:o=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:s=r*n,o=(s&1)+s%3;break;case 6:s=r*n,o=(s&1)+s%3&1;break;case 7:s=r*n,o=s%3+(r+n&1)&1;break;default:throw new L("Invalid mask pattern: "+e)}return o===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const o=n?e.getHeight():e.getWidth(),s=n?e.getWidth():e.getHeight(),a=e.getArray();for(let u=0;u<o;u++){let f=0,d=-1;for(let w=0;w<s;w++){const C=n?a[u][w]:a[w][u];C===d?f++:(f>=5&&(r+=Tt.N1+(f-5)),f=1,d=C)}f>=5&&(r+=Tt.N1+(f-5))}return r}}Tt.N1=3,Tt.N2=3,Tt.N3=40,Tt.N4=10;class co{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let o=0;o!==n;o++)r[o]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)ae.fill(n,e)}equals(e){if(!(e instanceof co))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,o=this.height;r<o;++r){const s=this.bytes[r],a=n.bytes[r];for(let u=0,f=this.width;u<f;++u)if(s[u]!==a[u])return!1}return!0}toString(){const e=new Fe;for(let n=0,r=this.height;n<r;++n){const o=this.bytes[n];for(let s=0,a=this.width;s<a;++s)switch(o[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Pr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Fe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Pr.NUM_MASK_PATTERNS}}Pr.NUM_MASK_PATTERNS=8;class yt extends S{}yt.kind="WriterException";class De{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,o,s){De.clearMatrix(s),De.embedBasicPatterns(r,s),De.embedTypeInfo(n,o,s),De.maybeEmbedVersionInfo(r,s),De.embedDataBits(e,o,s)}static embedBasicPatterns(e,n){De.embedPositionDetectionPatternsAndSeparators(n),De.embedDarkDotAtLeftBottomCorner(n),De.maybeEmbedPositionAdjustmentPatterns(e,n),De.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const o=new le;De.makeTypeInfoBits(e,n,o);for(let s=0,a=o.getSize();s<a;++s){const u=o.get(o.getSize()-1-s),f=De.TYPE_INFO_COORDINATES[s],d=f[0],w=f[1];if(r.setBoolean(d,w,u),s<8){const C=r.getWidth()-s-1;r.setBoolean(C,8,u)}else{const I=r.getHeight()-7+(s-8);r.setBoolean(8,I,u)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new le;De.makeVersionInfoBits(e,r);let o=6*3-1;for(let s=0;s<6;++s)for(let a=0;a<3;++a){const u=r.get(o);o--,n.setBoolean(s,n.getHeight()-11+a,u),n.setBoolean(n.getHeight()-11+a,s,u)}}static embedDataBits(e,n,r){let o=0,s=-1,a=r.getWidth()-1,u=r.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);u>=0&&u<r.getHeight();){for(let f=0;f<2;++f){const d=a-f;if(!De.isEmpty(r.get(d,u)))continue;let w;o<e.getSize()?(w=e.get(o),++o):w=!1,n!==255&&Tt.getDataMaskBit(n,d,u)&&(w=!w),r.setBoolean(d,u,w)}u+=s}s=-s,u+=s,a-=2}if(o!==e.getSize())throw new yt("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-q.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new L("0 polynomial");const r=De.findMSBSet(n);for(e<<=r-1;De.findMSBSet(e)>=r;)e^=n<<De.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!Pr.isValidMaskPattern(n))throw new yt("Invalid mask pattern");const o=e.getBits()<<3|n;r.appendBits(o,5);const s=De.calculateBCHCode(o,De.TYPE_INFO_POLY);r.appendBits(s,10);const a=new le;if(a.appendBits(De.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new yt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=De.calculateBCHCode(e.getVersionNumber(),De.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new yt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;De.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),De.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new yt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let o=0;o<8;++o){if(!De.isEmpty(r.get(e+o,n)))throw new yt;r.setNumber(e+o,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let o=0;o<7;++o){if(!De.isEmpty(r.get(e,n+o)))throw new yt;r.setNumber(e,n+o,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let o=0;o<5;++o){const s=De.POSITION_ADJUSTMENT_PATTERN[o];for(let a=0;a<5;++a)r.setNumber(e+a,n+o,s[a])}}static embedPositionDetectionPattern(e,n,r){for(let o=0;o<7;++o){const s=De.POSITION_DETECTION_PATTERN[o];for(let a=0;a<7;++a)r.setNumber(e+a,n+o,s[a])}}static embedPositionDetectionPatternsAndSeparators(e){const n=De.POSITION_DETECTION_PATTERN[0].length;De.embedPositionDetectionPattern(0,0,e),De.embedPositionDetectionPattern(e.getWidth()-n,0,e),De.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;De.embedHorizontalSeparationPattern(0,r-1,e),De.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),De.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const o=7;De.embedVerticalSeparationPattern(o,0,e),De.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),De.embedVerticalSeparationPattern(o,e.getHeight()-o,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,o=De.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let s=0,a=o.length;s!==a;s++){const u=o[s];if(u>=0)for(let f=0;f!==a;f++){const d=o[f];d>=0&&De.isEmpty(n.get(d,u))&&De.embedPositionAdjustmentPattern(d-2,u-2,n)}}}}De.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),De.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),De.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),De.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),De.VERSION_INFO_POLY=7973,De.TYPE_INFO_POLY=1335,De.TYPE_INFO_MASK_PATTERN=21522;class Xa{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Et{constructor(){}static calculateMaskPenalty(e){return Tt.applyMaskPenaltyRule1(e)+Tt.applyMaskPenaltyRule2(e)+Tt.applyMaskPenaltyRule3(e)+Tt.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let o=Et.DEFAULT_BYTE_MODE_ENCODING;const s=r!==null&&r.get(jt.CHARACTER_SET)!==void 0;s&&(o=r.get(jt.CHARACTER_SET).toString());const a=this.chooseMode(e,o),u=new le;if(a===Oe.BYTE&&(s||Et.DEFAULT_BYTE_MODE_ENCODING!==o)){const ie=J.getCharacterSetECIByName(o);ie!==void 0&&this.appendECI(ie,u)}this.appendModeInfo(a,u);const f=new le;this.appendBytes(e,a,f,o);let d;if(r!==null&&r.get(jt.QR_VERSION)!==void 0){const ie=Number.parseInt(r.get(jt.QR_VERSION).toString(),10);d=Re.getVersionForNumber(ie);const ee=this.calculateBitsNeeded(a,u,f,d);if(!this.willFit(ee,d,n))throw new yt("Data too big for requested version")}else d=this.recommendVersion(n,a,u,f);const w=new le;w.appendBitArray(u);const C=a===Oe.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(C,d,a,w),w.appendBitArray(f);const I=d.getECBlocksForLevel(n),R=d.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(R,w);const M=this.interleaveWithECBytes(w,d.getTotalCodewords(),R,I.getNumBlocks()),P=new Pr;P.setECLevel(n),P.setMode(a),P.setVersion(d);const F=d.getDimensionForVersion(),G=new co(F,F),re=this.chooseMaskPattern(M,n,d,G);return P.setMaskPattern(re),De.buildMatrix(M,n,d,re,G),P.setMatrix(G),P}static recommendVersion(e,n,r,o){const s=this.calculateBitsNeeded(n,r,o,Re.getVersionForNumber(1)),a=this.chooseVersion(s,e),u=this.calculateBitsNeeded(n,r,o,a);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,n,r,o){return n.getSize()+e.getCharacterCountBits(o)+r.getSize()}static getAlphanumericCode(e){return e<Et.ALPHANUMERIC_TABLE.length?Et.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(J.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Oe.KANJI;let r=!1,o=!1;for(let s=0,a=e.length;s<a;++s){const u=e.charAt(s);if(Et.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)o=!0;else return Oe.BYTE}return o?Oe.ALPHANUMERIC:r?Oe.NUMERIC:Oe.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=ut.encode(e,J.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let o=0;o<r;o+=2){const s=n[o]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(e,n,r,o){let s=Number.MAX_SAFE_INTEGER,a=-1;for(let u=0;u<Pr.NUM_MASK_PATTERNS;u++){De.buildMatrix(e,n,r,u,o);let f=this.calculateMaskPenalty(o);f<s&&(s=f,a=u)}return a}static chooseVersion(e,n){for(let r=1;r<=40;r++){const o=Re.getVersionForNumber(r);if(Et.willFit(e,o,n))return o}throw new yt("Data too big")}static willFit(e,n,r){const o=n.getTotalCodewords(),a=n.getECBlocksForLevel(r).getTotalECCodewords(),u=o-a,f=(e+7)/8;return u>=f}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new yt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let a=0;a<4&&n.getSize()<r;++a)n.appendBit(!1);const o=n.getSize()&7;if(o>0)for(let a=o;a<8;a++)n.appendBit(!1);const s=e-n.getSizeInBytes();for(let a=0;a<s;++a)n.appendBits(a&1?17:236,8);if(n.getSize()!==r)throw new yt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,o,s,a){if(o>=r)throw new yt("Block ID too large");const u=e%r,f=r-u,d=Math.floor(e/r),w=d+1,C=Math.floor(n/r),I=C+1,R=d-C,M=w-I;if(R!==M)throw new yt("EC bytes mismatch");if(r!==f+u)throw new yt("RS blocks mismatch");if(e!==(C+R)*f+(I+M)*u)throw new yt("Total bytes mismatch");o<f?(s[0]=C,a[0]=R):(s[0]=I,a[0]=M)}static interleaveWithECBytes(e,n,r,o){if(e.getSizeInBytes()!==r)throw new yt("Number of bits and data bytes does not match");let s=0,a=0,u=0;const f=new Array;for(let w=0;w<o;++w){const C=new Int32Array(1),I=new Int32Array(1);Et.getNumDataBytesAndNumECBytesForBlockID(n,r,o,w,C,I);const R=C[0],M=new Uint8Array(R);e.toBytes(8*s,M,0,R);const P=Et.generateECBytes(M,I[0]);f.push(new Xa(M,P)),a=Math.max(a,R),u=Math.max(u,P.length),s+=C[0]}if(r!==s)throw new yt("Data bytes does not match offset");const d=new le;for(let w=0;w<a;++w)for(const C of f){const I=C.getDataBytes();w<I.length&&d.appendBits(I[w],8)}for(let w=0;w<u;++w)for(const C of f){const I=C.getErrorCorrectionBytes();w<I.length&&d.appendBits(I[w],8)}if(n!==d.getSizeInBytes())throw new yt("Interleaving error: "+n+" and "+d.getSizeInBytes()+" differ.");return d}static generateECBytes(e,n){const r=e.length,o=new Int32Array(r+n);for(let a=0;a<r;a++)o[a]=e[a]&255;new Zo(nt.QR_CODE_FIELD_256).encode(o,n);const s=new Uint8Array(n);for(let a=0;a<n;a++)s[a]=o[r+a];return s}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,o){const s=r.getCharacterCountBits(n);if(e>=1<<s)throw new yt(e+" is bigger than "+((1<<s)-1));o.appendBits(e,s)}static appendBytes(e,n,r,o){switch(n){case Oe.NUMERIC:Et.appendNumericBytes(e,r);break;case Oe.ALPHANUMERIC:Et.appendAlphanumericBytes(e,r);break;case Oe.BYTE:Et.append8BitBytes(e,r,o);break;case Oe.KANJI:Et.appendKanjiBytes(e,r);break;default:throw new yt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Et.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let o=0;for(;o<r;){const s=Et.getDigit(e.charAt(o));if(o+2<r){const a=Et.getDigit(e.charAt(o+1)),u=Et.getDigit(e.charAt(o+2));n.appendBits(s*100+a*10+u,10),o+=3}else if(o+1<r){const a=Et.getDigit(e.charAt(o+1));n.appendBits(s*10+a,7),o+=2}else n.appendBits(s,4),o++}}static appendAlphanumericBytes(e,n){const r=e.length;let o=0;for(;o<r;){const s=Et.getAlphanumericCode(e.charCodeAt(o));if(s===-1)throw new yt;if(o+1<r){const a=Et.getAlphanumericCode(e.charCodeAt(o+1));if(a===-1)throw new yt;n.appendBits(s*45+a,11),o+=2}else n.appendBits(s,6),o++}}static append8BitBytes(e,n,r){let o;try{o=ut.encode(e,r)}catch(s){throw new yt(s)}for(let s=0,a=o.length;s!==a;s++){const u=o[s];n.appendBits(u,8)}}static appendKanjiBytes(e,n){let r;try{r=ut.encode(e,J.SJIS)}catch(s){throw new yt(s)}const o=r.length;for(let s=0;s<o;s+=2){const a=r[s]&255,u=r[s+1]&255,f=a<<8&4294967295|u;let d=-1;if(f>=33088&&f<=40956?d=f-33088:f>=57408&&f<=60351&&(d=f-49472),d===-1)throw new yt("Invalid byte sequence");const w=(d>>8)*192+(d&255);n.appendBits(w,13)}}static appendECI(e,n){n.appendBits(Oe.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Et.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Et.DEFAULT_BYTE_MODE_ENCODING=J.UTF8.getName();class Br{write(e,n,r,o=null){if(e.length===0)throw new L("Found empty contents");if(n<0||r<0)throw new L("Requested dimensions are too small: "+n+"x"+r);let s=mt.L,a=Br.QUIET_ZONE_SIZE;o!==null&&(o.get(jt.ERROR_CORRECTION)!==void 0&&(s=mt.fromString(o.get(jt.ERROR_CORRECTION).toString())),o.get(jt.MARGIN)!==void 0&&(a=Number.parseInt(o.get(jt.MARGIN).toString(),10)));const u=Et.encode(e,s,o);return this.renderResult(u,n,r,a)}writeToDom(e,n,r,o,s=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(n,r,o,s);e&&e.appendChild(a)}renderResult(e,n,r,o){const s=e.getMatrix();if(s===null)throw new zn;const a=s.getWidth(),u=s.getHeight(),f=a+o*2,d=u+o*2,w=Math.max(n,f),C=Math.max(r,d),I=Math.min(Math.floor(w/f),Math.floor(C/d)),R=Math.floor((w-a*I)/2),M=Math.floor((C-u*I)/2),P=this.createSVGElement(w,C);for(let F=0,G=M;F<u;F++,G+=I)for(let re=0,ie=R;re<a;re++,ie+=I)if(s.get(re,F)===1){const ee=this.createSvgRectElement(ie,G,I,I);P.appendChild(ee)}return P}createSVGElement(e,n){const r=document.createElementNS(Br.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,o){const s=document.createElementNS(Br.SVG_NS,"rect");return s.setAttributeNS(null,"x",e.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"height",r.toString()),s.setAttributeNS(null,"width",o.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Br.QUIET_ZONE_SIZE=4,Br.SVG_NS="http://www.w3.org/2000/svg";class oi{encode(e,n,r,o,s){if(e.length===0)throw new L("Found empty contents");if(n!==ue.QR_CODE)throw new L("Can only encode QR_CODE, but got "+n);if(r<0||o<0)throw new L(`Requested dimensions are too small: ${r}x${o}`);let a=mt.L,u=oi.QUIET_ZONE_SIZE;s!==null&&(s.get(jt.ERROR_CORRECTION)!==void 0&&(a=mt.fromString(s.get(jt.ERROR_CORRECTION).toString())),s.get(jt.MARGIN)!==void 0&&(u=Number.parseInt(s.get(jt.MARGIN).toString(),10)));const f=Et.encode(e,a,s);return oi.renderResult(f,r,o,u)}static renderResult(e,n,r,o){const s=e.getMatrix();if(s===null)throw new zn;const a=s.getWidth(),u=s.getHeight(),f=a+o*2,d=u+o*2,w=Math.max(n,f),C=Math.max(r,d),I=Math.min(Math.floor(w/f),Math.floor(C/d)),R=Math.floor((w-a*I)/2),M=Math.floor((C-u*I)/2),P=new ct(w,C);for(let F=0,G=M;F<u;F++,G+=I)for(let re=0,ie=R;re<a;re++,ie+=I)s.get(re,F)===1&&P.setRegion(ie,G,I,I);return P}}oi.QUIET_ZONE_SIZE=4;class ja{encode(e,n,r,o,s){let a;switch(n){case ue.QR_CODE:a=new oi;break;default:throw new L("No encoder available for format "+n)}return a.encode(e,n,r,o,s)}}class or extends fe{constructor(e,n,r,o,s,a,u,f){if(super(a,u),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=o,this.top=s,o+a>n||s+u>r)throw new L("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(a,u)}getRow(e,n){if(e<0||e>=this.getHeight())throw new L("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const o=(e+this.top)*this.dataWidth+this.left;return se.arraycopy(this.yuvData,o,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,o=new Uint8ClampedArray(r);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return se.arraycopy(this.yuvData,s,o,0,r),o;for(let a=0;a<n;a++){const u=a*e;se.arraycopy(this.yuvData,s,o,u,e),s+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,n,r,o){return new or(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,o,!1)}renderThumbnail(){const e=this.getWidth()/or.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/or.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),o=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let a=0;a<n;a++){const u=a*e;for(let f=0;f<e;f++){const d=o[s+f*or.THUMBNAIL_SCALE_FACTOR]&255;r[u+f]=4278190080|d*65793}s+=this.dataWidth*or.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/or.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/or.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let o=0,s=this.top*this.dataWidth+this.left;o<n;o++,s+=this.dataWidth){const a=s+e/2;for(let u=s,f=s+e-1;u<a;u++,f--){const d=r[u];r[u]=r[f],r[f]=d}}}invert(){return new Ne(this)}}or.THUMBNAIL_SCALE_FACTOR=2;class Mi extends fe{constructor(e,n,r,o,s,a,u){if(super(n,r),this.dataWidth=o,this.dataHeight=s,this.left=a,this.top=u,e.BYTES_PER_ELEMENT===4){const f=n*r,d=new Uint8ClampedArray(f);for(let w=0;w<f;w++){const C=e[w],I=C>>16&255,R=C>>7&510,M=C&255;d[w]=(I+R+M)/4&255}this.luminances=d}else this.luminances=e;if(o===void 0&&(this.dataWidth=n),s===void 0&&(this.dataHeight=r),a===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new L("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new L("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const o=(e+this.top)*this.dataWidth+this.left;return se.arraycopy(this.luminances,o,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,o=new Uint8ClampedArray(r);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return se.arraycopy(this.luminances,s,o,0,r),o;for(let a=0;a<n;a++){const u=a*e;se.arraycopy(this.luminances,s,o,u,e),s+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,n,r,o){return new Mi(this.luminances,r,o,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Ne(this)}}class Ls extends J{static forName(e){return this.getCharacterSetECIByName(e)}}class Ko{}Ko.ISO_8859_1=J.ISO8859_1;class Fs{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Qo{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class Ya{constructor(e){this.previous=e}getPrevious(){return this.previous}}class si extends Ya{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new si(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new si(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+q.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class qo extends si{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new qo(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Za(E,e,n){return new qo(E,e,n)}function ki(E,e,n){return new si(E,e,n)}const Ka=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Tr=0,ai=1,un=2,Us=3,Zn=4,Vs=new si(null,0,0),fo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function zs(E){for(let e of E)ae.fill(e,-1);return E[Tr][Zn]=0,E[ai][Zn]=0,E[ai][Tr]=28,E[Us][Zn]=0,E[un][Zn]=0,E[un][Tr]=15,E}const Jo=zs(ae.createInt32Array(6,6));class pn{constructor(e,n,r,o){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,o=this.token;if(e!==this.mode){let a=fo[this.mode][e];o=ki(o,a&65535,a>>16),r+=a>>16}let s=e===un?4:5;return o=ki(o,n,s),new pn(o,e,0,r+s)}shiftAndAppend(e,n){let r=this.token,o=this.mode===un?4:5;return r=ki(r,Jo[this.mode][e],o),r=ki(r,n,5),new pn(r,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,o=this.bitCount;if(this.mode===Zn||this.mode===un){let u=fo[r][Tr];n=ki(n,u&65535,u>>16),o+=u>>16,r=Tr}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new pn(n,r,this.binaryShiftByteCount+1,o+s);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Za(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new pn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(fo[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=pn.calculateBinaryShiftCost(e)-pn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())n.unshift(o);let r=new le;for(const o of n)o.appendTo(r,e);return r}toString(){return ve.format("%s bits=%d bytes=%d",Ka[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}pn.INITIAL_STATE=new pn(Vs,Tr,0,0);function Qa(E){const e=ve.getCharCode(" "),n=ve.getCharCode("."),r=ve.getCharCode(",");E[Tr][e]=1;const o=ve.getCharCode("Z"),s=ve.getCharCode("A");for(let I=s;I<=o;I++)E[Tr][I]=I-s+2;E[ai][e]=1;const a=ve.getCharCode("z"),u=ve.getCharCode("a");for(let I=u;I<=a;I++)E[ai][I]=I-u+2;E[un][e]=1;const f=ve.getCharCode("9"),d=ve.getCharCode("0");for(let I=d;I<=f;I++)E[un][I]=I-d+2;E[un][r]=12,E[un][n]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<w.length;I++)E[Us][ve.getCharCode(w[I])]=I;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<C.length;I++)ve.getCharCode(C[I])>0&&(E[Zn][ve.getCharCode(C[I])]=I);return E}const $o=Qa(ae.createInt32Array(5,256));class Pi{constructor(e){this.text=e}encode(){const e=ve.getCharCode(" "),n=ve.getCharCode(`
`);let r=Qo.singletonList(pn.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let a,u=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case ve.getCharCode("\r"):a=u===n?2:0;break;case ve.getCharCode("."):a=u===e?3:0;break;case ve.getCharCode(","):a=u===e?4:0;break;case ve.getCharCode(":"):a=u===e?5:0;break;default:a=0}a>0?(r=Pi.updateStateListForPair(r,s,a),s++):r=this.updateStateListForChar(r,s)}return Qo.min(r,(s,a)=>s.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let o of e)this.updateStateForChar(o,n,r);return Pi.simplifyStates(r)}updateStateForChar(e,n,r){let o=this.text[n]&255,s=$o[e.getMode()][o]>0,a=null;for(let u=0;u<=Zn;u++){let f=$o[u][o];if(f>0){if(a==null&&(a=e.endBinaryShift(n)),!s||u===e.getMode()||u===un){const d=a.latchAndAppend(u,f);r.push(d)}if(!s&&Jo[e.getMode()][u]>=0){const d=a.shiftAndAppend(u,f);r.push(d)}}}if(e.getBinaryShiftByteCount()>0||$o[e.getMode()][o]===0){let u=e.addBinaryShiftChar(n);r.push(u)}}static updateStateListForPair(e,n,r){const o=[];for(let s of e)this.updateStateForPair(s,n,r,o);return this.simplifyStates(o)}static updateStateForPair(e,n,r,o){let s=e.endBinaryShift(n);if(o.push(s.latchAndAppend(Zn,r)),e.getMode()!==Zn&&o.push(s.shiftAndAppend(Zn,r)),r===3||r===4){let a=s.latchAndAppend(un,16-r).latchAndAppend(un,1);o.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);o.push(a)}}static simplifyStates(e){let n=[];for(const r of e){let o=!0;for(const s of n){if(s.isBetterThanOrEqualTo(r)){o=!1;break}r.isBetterThanOrEqualTo(s)&&(n=n.filter(a=>a!==s))}o&&n.push(r)}return n}}class rt{constructor(){}static encodeBytes(e){return rt.encode(e,rt.DEFAULT_EC_PERCENT,rt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let o=new Pi(e).encode(),s=q.truncDivision(o.getSize()*n,100)+11,a=o.getSize()+s,u,f,d,w,C;if(r!==rt.DEFAULT_AZTEC_LAYERS){if(u=r<0,f=Math.abs(r),f>(u?rt.MAX_NB_BITS_COMPACT:rt.MAX_NB_BITS))throw new L(ve.format("Illegal value %s for layers",r));d=rt.totalBitsInLayer(f,u),w=rt.WORD_SIZE[f];let ee=d-d%w;if(C=rt.stuffBits(o,w),C.getSize()+s>ee)throw new L("Data to large for user specified layer");if(u&&C.getSize()>w*64)throw new L("Data to large for user specified layer")}else{w=0,C=null;for(let ee=0;;ee++){if(ee>rt.MAX_NB_BITS)throw new L("Data too large for an Aztec code");if(u=ee<=3,f=u?ee+1:ee,d=rt.totalBitsInLayer(f,u),a>d)continue;(C==null||w!==rt.WORD_SIZE[f])&&(w=rt.WORD_SIZE[f],C=rt.stuffBits(o,w));let Ke=d-d%w;if(!(u&&C.getSize()>w*64)&&C.getSize()+s<=Ke)break}}let I=rt.generateCheckWords(C,d,w),R=C.getSize()/w,M=rt.generateModeMessage(u,f,R),P=(u?11:14)+f*4,F=new Int32Array(P),G;if(u){G=P;for(let ee=0;ee<F.length;ee++)F[ee]=ee}else{G=P+1+2*q.truncDivision(q.truncDivision(P,2)-1,15);let ee=q.truncDivision(P,2),Ke=q.truncDivision(G,2);for(let He=0;He<ee;He++){let An=He+q.truncDivision(He,15);F[ee-He-1]=Ke-An-1,F[ee+He]=Ke+An+1}}let re=new ct(G);for(let ee=0,Ke=0;ee<f;ee++){let He=(f-ee)*4+(u?9:12);for(let An=0;An<He;An++){let Kn=An*2;for(let Yt=0;Yt<2;Yt++)I.get(Ke+Kn+Yt)&&re.set(F[ee*2+Yt],F[ee*2+An]),I.get(Ke+He*2+Kn+Yt)&&re.set(F[ee*2+An],F[P-1-ee*2-Yt]),I.get(Ke+He*4+Kn+Yt)&&re.set(F[P-1-ee*2-Yt],F[P-1-ee*2-An]),I.get(Ke+He*6+Kn+Yt)&&re.set(F[P-1-ee*2-An],F[ee*2+Yt])}Ke+=He*8}if(rt.drawModeMessage(re,u,G,M),u)rt.drawBullsEye(re,q.truncDivision(G,2),5);else{rt.drawBullsEye(re,q.truncDivision(G,2),7);for(let ee=0,Ke=0;ee<q.truncDivision(P,2)-1;ee+=15,Ke+=16)for(let He=q.truncDivision(G,2)&1;He<G;He+=2)re.set(q.truncDivision(G,2)-Ke,He),re.set(q.truncDivision(G,2)+Ke,He),re.set(He,q.truncDivision(G,2)-Ke),re.set(He,q.truncDivision(G,2)+Ke)}let ie=new Fs;return ie.setCompact(u),ie.setSize(G),ie.setLayers(f),ie.setCodeWords(R),ie.setMatrix(re),ie}static drawBullsEye(e,n,r){for(let o=0;o<r;o+=2)for(let s=n-o;s<=n+o;s++)e.set(s,n-o),e.set(s,n+o),e.set(n-o,s),e.set(n+o,s);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let o=new le;return e?(o.appendBits(n-1,2),o.appendBits(r-1,6),o=rt.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(r-1,11),o=rt.generateCheckWords(o,40,4)),o}static drawModeMessage(e,n,r,o){let s=q.truncDivision(r,2);if(n)for(let a=0;a<7;a++){let u=s-3+a;o.get(a)&&e.set(u,s-5),o.get(a+7)&&e.set(s+5,u),o.get(20-a)&&e.set(u,s+5),o.get(27-a)&&e.set(s-5,u)}else for(let a=0;a<10;a++){let u=s-5+a+q.truncDivision(a,5);o.get(a)&&e.set(u,s-7),o.get(a+10)&&e.set(s+7,u),o.get(29-a)&&e.set(u,s+7),o.get(39-a)&&e.set(s-7,u)}}static generateCheckWords(e,n,r){let o=e.getSize()/r,s=new Zo(rt.getGF(r)),a=q.truncDivision(n,r),u=rt.bitsToWords(e,r,a);s.encode(u,a-o);let f=n%r,d=new le;d.appendBits(0,f);for(const w of Array.from(u))d.appendBits(w,r);return d}static bitsToWords(e,n,r){let o=new Int32Array(r),s,a;for(s=0,a=e.getSize()/n;s<a;s++){let u=0;for(let f=0;f<n;f++)u|=e.get(s*n+f)?1<<n-f-1:0;o[s]=u}return o}static getGF(e){switch(e){case 4:return nt.AZTEC_PARAM;case 6:return nt.AZTEC_DATA_6;case 8:return nt.AZTEC_DATA_8;case 10:return nt.AZTEC_DATA_10;case 12:return nt.AZTEC_DATA_12;default:throw new L("Unsupported word size "+e)}}static stuffBits(e,n){let r=new le,o=e.getSize(),s=(1<<n)-2;for(let a=0;a<o;a+=n){let u=0;for(let f=0;f<n;f++)(a+f>=o||e.get(a+f))&&(u|=1<<n-1-f);(u&s)===s?(r.appendBits(u&s,n),a--):u&s?r.appendBits(u,n):(r.appendBits(u|1,n),a--)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}rt.DEFAULT_EC_PERCENT=33,rt.DEFAULT_AZTEC_LAYERS=0,rt.MAX_NB_BITS=32,rt.MAX_NB_BITS_COMPACT=4,rt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Bi{encode(e,n,r,o){return this.encodeWithHints(e,n,r,o,null)}encodeWithHints(e,n,r,o,s){let a=Ko.ISO_8859_1,u=rt.DEFAULT_EC_PERCENT,f=rt.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(jt.CHARACTER_SET)&&(a=Ls.forName(s.get(jt.CHARACTER_SET).toString())),s.has(jt.ERROR_CORRECTION)&&(u=q.parseInt(s.get(jt.ERROR_CORRECTION).toString())),s.has(jt.AZTEC_LAYERS)&&(f=q.parseInt(s.get(jt.AZTEC_LAYERS).toString()))),Bi.encodeLayers(e,n,r,o,a,u,f)}static encodeLayers(e,n,r,o,s,a,u){if(n!==ue.AZTEC)throw new L("Can only encode AZTEC, but got "+n);let f=rt.encode(ve.getBytes(e,s),a,u);return Bi.renderResult(f,r,o)}static renderResult(e,n,r){let o=e.getMatrix();if(o==null)throw new zn;let s=o.getWidth(),a=o.getHeight(),u=Math.max(n,s),f=Math.max(r,a),d=Math.min(u/s,f/a),w=(u-s*d)/2,C=(f-a*d)/2,I=new ct(u,f);for(let R=0,M=C;R<a;R++,M+=d)for(let P=0,F=w;P<s;P++,F+=d)o.get(P,R)&&I.setRegion(F,M,d,d);return I}}g.AbstractExpandedDecoder=Fo,g.ArgumentException=V,g.ArithmeticException=vi,g.AztecCode=Fs,g.AztecCodeReader=vr,g.AztecCodeWriter=Bi,g.AztecDecoder=wt,g.AztecDetector=qr,g.AztecDetectorResult=Mo,g.AztecEncoder=rt,g.AztecHighLevelEncoder=Pi,g.AztecPoint=an,g.BarcodeFormat=ue,g.Binarizer=We,g.BinaryBitmap=ce,g.BitArray=le,g.BitMatrix=ct,g.BitSource=zo,g.BrowserAztecCodeReader=Wa,g.BrowserBarcodeReader=Os,g.BrowserCodeReader=Ue,g.BrowserDatamatrixCodeReader=Ga,g.BrowserMultiFormatReader=Di,g.BrowserPDF417Reader=uo,g.BrowserQRCodeReader=Bs,g.BrowserQRCodeSvgWriter=Br,g.CharacterSetECI=J,g.ChecksumException=ge,g.Code128Reader=de,g.Code39Reader=Gt,g.DataMatrixDecodedBitStreamParser=Xn,g.DataMatrixReader=jn,g.DecodeHintType=Te,g.DecoderResult=pt,g.DefaultGridSampler=to,g.DetectorResult=Qr,g.EAN13Reader=Dn,g.EncodeHintType=jt,g.Exception=S,g.FormatException=Z,g.GenericGF=nt,g.GenericGFPoly=Jt,g.GlobalHistogramBinarizer=et,g.GridSampler=eo,g.GridSamplerInstance=Hn,g.HTMLCanvasElementLuminanceSource=he,g.HybridBinarizer=Ee,g.ITFReader=dt,g.IllegalArgumentException=L,g.IllegalStateException=zn,g.InvertedLuminanceSource=Ne,g.LuminanceSource=fe,g.MathUtils=Je,g.MultiFormatOneDReader=$r,g.MultiFormatReader=lo,g.MultiFormatWriter=ja,g.NotFoundException=Y,g.OneDReader=Pt,g.PDF417DecodedBitStreamParser=X,g.PDF417DecoderErrorCorrection=Go,g.PDF417Reader=rn,g.PDF417ResultMetadata=so,g.PerspectiveTransform=bn,g.PlanarYUVLuminanceSource=or,g.QRCodeByteMatrix=co,g.QRCodeDataMask=je,g.QRCodeDecodedBitStreamParser=St,g.QRCodeDecoderErrorCorrectionLevel=mt,g.QRCodeDecoderFormatInformation=en,g.QRCodeEncoder=Et,g.QRCodeEncoderQRCode=Pr,g.QRCodeMaskUtil=Tt,g.QRCodeMatrixUtil=De,g.QRCodeMode=Oe,g.QRCodeReader=gn,g.QRCodeVersion=Re,g.QRCodeWriter=oi,g.RGBLuminanceSource=Mi,g.RSS14Reader=At,g.RSSExpandedReader=Q,g.ReaderException=ii,g.ReedSolomonDecoder=Kr,g.ReedSolomonEncoder=Zo,g.ReedSolomonException=Cr,g.Result=be,g.ResultMetadataType=Le,g.ResultPoint=we,g.StringUtils=ve,g.UnsupportedOperationException=Rt,g.VideoInputDevice=U,g.WhiteRectangleDetector=er,g.WriterException=yt,g.ZXingArrays=ae,g.ZXingCharset=Ls,g.ZXingInteger=q,g.ZXingStandardCharsets=Ko,g.ZXingStringBuilder=Fe,g.ZXingStringEncoding=ut,g.ZXingSystem=se,g.createAbstractExpandedDecoder=Ns,Object.defineProperty(g,"__esModule",{value:!0})})}(As,As.exports)),As.exports}var Dt=Cf();const Af=vu(Dt),vf=K0({__proto__:null,default:Af},[Dt]);var U1=function(){function p(m,g,A){if(this.formatMap=new Map([[Ce.QR_CODE,Dt.BarcodeFormat.QR_CODE],[Ce.AZTEC,Dt.BarcodeFormat.AZTEC],[Ce.CODABAR,Dt.BarcodeFormat.CODABAR],[Ce.CODE_39,Dt.BarcodeFormat.CODE_39],[Ce.CODE_93,Dt.BarcodeFormat.CODE_93],[Ce.CODE_128,Dt.BarcodeFormat.CODE_128],[Ce.DATA_MATRIX,Dt.BarcodeFormat.DATA_MATRIX],[Ce.MAXICODE,Dt.BarcodeFormat.MAXICODE],[Ce.ITF,Dt.BarcodeFormat.ITF],[Ce.EAN_13,Dt.BarcodeFormat.EAN_13],[Ce.EAN_8,Dt.BarcodeFormat.EAN_8],[Ce.PDF_417,Dt.BarcodeFormat.PDF_417],[Ce.RSS_14,Dt.BarcodeFormat.RSS_14],[Ce.RSS_EXPANDED,Dt.BarcodeFormat.RSS_EXPANDED],[Ce.UPC_A,Dt.BarcodeFormat.UPC_A],[Ce.UPC_E,Dt.BarcodeFormat.UPC_E],[Ce.UPC_EAN_EXTENSION,Dt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!vf)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=g,this.logger=A;var _=this.createZXingFormats(m),y=new Map;y.set(Dt.DecodeHintType.POSSIBLE_FORMATS,_),y.set(Dt.DecodeHintType.TRY_HARDER,!1),this.hints=y}return p.prototype.decodeAsync=function(m){var g=this;return new Promise(function(A,_){try{A(g.decode(m))}catch(y){_(y)}})},p.prototype.decode=function(m){var g=new Dt.MultiFormatReader(this.verbose,this.hints),A=new Dt.HTMLCanvasElementLuminanceSource(m),_=new Dt.BinaryBitmap(new Dt.HybridBinarizer(A)),y=g.decode(_);return{text:y.text,format:K1.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}},p.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(g,A,_){m.set(g,A)}),m},p.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},p.prototype.createZXingFormats=function(m){for(var g=[],A=0,_=m;A<_.length;A++){var y=_[A];this.formatMap.has(y)?g.push(this.formatMap.get(y)):this.logger.logError("".concat(y," is not supported by")+"ZXingHtml5QrcodeShim")}return g},p.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},p}(),_f=function(p,m,g,A){function _(y){return y instanceof g?y:new g(function(N){N(y)})}return new(g||(g=Promise))(function(y,N){function D(V){try{S(A.next(V))}catch(L){N(L)}}function b(V){try{S(A.throw(V))}catch(L){N(L)}}function S(V){V.done?y(V.value):_(V.value).then(D,b)}S((A=A.apply(p,m||[])).next())})},If=function(p,m){var g={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,_,y,N;return N={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function D(S){return function(V){return b([S,V])}}function b(S){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,S[0]&&(g=0)),g;)try{if(A=1,_&&(y=S[0]&2?_.return:S[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,S[1])).done)return y;switch(_=0,y&&(S=[S[0]&2,y.value]),S[0]){case 0:case 1:y=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,_=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(y=g.trys,!(y=y.length>0&&y[y.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!y||S[1]>y[0]&&S[1]<y[3])){g.label=S[1];break}if(S[0]===6&&g.label<y[1]){g.label=y[1],y=S;break}if(y&&g.label<y[2]){g.label=y[2],g.ops.push(S);break}y[2]&&g.ops.pop(),g.trys.pop();continue}S=m.call(p,g)}catch(V){S=[6,V],_=0}finally{A=y=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},V1=function(){function p(m,g,A){if(this.formatMap=new Map([[Ce.QR_CODE,"qr_code"],[Ce.AZTEC,"aztec"],[Ce.CODABAR,"codabar"],[Ce.CODE_39,"code_39"],[Ce.CODE_93,"code_93"],[Ce.CODE_128,"code_128"],[Ce.DATA_MATRIX,"data_matrix"],[Ce.ITF,"itf"],[Ce.EAN_13,"ean_13"],[Ce.EAN_8,"ean_8"],[Ce.PDF_417,"pdf417"],[Ce.UPC_A,"upc_a"],[Ce.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!p.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=g,this.logger=A;var _=this.createBarcodeDetectorFormats(m);if(this.detector=new BarcodeDetector(_),!this.detector)throw"BarcodeDetector detector not supported"}return p.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var m=new BarcodeDetector({formats:["qr_code"]});return typeof m<"u"},p.prototype.decodeAsync=function(m){return _f(this,void 0,void 0,function(){var g,A;return If(this,function(_){switch(_.label){case 0:return[4,this.detector.detect(m)];case 1:if(g=_.sent(),!g||g.length===0)throw"No barcode or QR code detected.";return A=this.selectLargestBarcode(g),[2,{text:A.rawValue,format:K1.create(this.toHtml5QrcodeSupportedFormats(A.format)),debugData:this.createDebugData()}]}})})},p.prototype.selectLargestBarcode=function(m){for(var g=null,A=0,_=0,y=m;_<y.length;_++){var N=y[_],D=N.boundingBox.width*N.boundingBox.height;D>A&&(A=D,g=N)}if(!g)throw"No largest barcode found";return g},p.prototype.createBarcodeDetectorFormats=function(m){for(var g=[],A=0,_=m;A<_.length;A++){var y=_[A];this.formatMap.has(y)?g.push(this.formatMap.get(y)):this.logger.warn("".concat(y," is not supported by")+"BarcodeDetectorDelegate")}return{formats:g}},p.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},p.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(g,A,_){m.set(g,A)}),m},p.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},p}(),z1=function(p,m,g,A){function _(y){return y instanceof g?y:new g(function(N){N(y)})}return new(g||(g=Promise))(function(y,N){function D(V){try{S(A.next(V))}catch(L){N(L)}}function b(V){try{S(A.throw(V))}catch(L){N(L)}}function S(V){V.done?y(V.value):_(V.value).then(D,b)}S((A=A.apply(p,m||[])).next())})},H1=function(p,m){var g={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,_,y,N;return N={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function D(S){return function(V){return b([S,V])}}function b(S){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,S[0]&&(g=0)),g;)try{if(A=1,_&&(y=S[0]&2?_.return:S[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,S[1])).done)return y;switch(_=0,y&&(S=[S[0]&2,y.value]),S[0]){case 0:case 1:y=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,_=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(y=g.trys,!(y=y.length>0&&y[y.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!y||S[1]>y[0]&&S[1]<y[3])){g.label=S[1];break}if(S[0]===6&&g.label<y[1]){g.label=y[1],y=S;break}if(y&&g.label<y[2]){g.label=y[2],g.ops.push(S);break}y[2]&&g.ops.pop(),g.trys.pop();continue}S=m.call(p,g)}catch(V){S=[6,V],_=0}finally{A=y=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Sf=function(){function p(m,g,A,_){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=A,g&&V1.isSupported()?(this.primaryDecoder=new V1(m,A,_),this.secondaryDecoder=new U1(m,A,_)):this.primaryDecoder=new U1(m,A,_)}return p.prototype.decodeAsync=function(m){return z1(this,void 0,void 0,function(){var g;return H1(this,function(A){switch(A.label){case 0:g=performance.now(),A.label=1;case 1:return A.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(m)];case 2:return[2,A.sent()];case 3:return this.possiblyLogPerformance(g),[7];case 4:return[2]}})})},p.prototype.decodeRobustlyAsync=function(m){return z1(this,void 0,void 0,function(){var g,A;return H1(this,function(_){switch(_.label){case 0:g=performance.now(),_.label=1;case 1:return _.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(m)];case 2:return[2,_.sent()];case 3:if(A=_.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(m)];throw A;case 4:return this.possiblyLogPerformance(g),[7];case 5:return[2]}})})},p.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},p.prototype.possiblyLogPerformance=function(m){if(this.verbose){var g=performance.now()-m;this.executionResults.push(g),this.executions++,this.possiblyFlushPerformanceReport()}},p.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var m=0,g=0,A=this.executionResults;g<A.length;g++){var _=A[g];m+=_}var y=m/this.executionResults.length;console.log("".concat(y," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},p}(),Ou=function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,_){A.__proto__=_}||function(A,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(A[y]=_[y])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function A(){this.constructor=m}m.prototype=g===null?Object.create(g):(A.prototype=g.prototype,new A)}}(),Fa=function(p,m,g,A){function _(y){return y instanceof g?y:new g(function(N){N(y)})}return new(g||(g=Promise))(function(y,N){function D(V){try{S(A.next(V))}catch(L){N(L)}}function b(V){try{S(A.throw(V))}catch(L){N(L)}}function S(V){V.done?y(V.value):_(V.value).then(D,b)}S((A=A.apply(p,m||[])).next())})},Ua=function(p,m){var g={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,_,y,N;return N={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function D(S){return function(V){return b([S,V])}}function b(S){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,S[0]&&(g=0)),g;)try{if(A=1,_&&(y=S[0]&2?_.return:S[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,S[1])).done)return y;switch(_=0,y&&(S=[S[0]&2,y.value]),S[0]){case 0:case 1:y=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,_=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(y=g.trys,!(y=y.length>0&&y[y.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!y||S[1]>y[0]&&S[1]<y[3])){g.label=S[1];break}if(S[0]===6&&g.label<y[1]){g.label=y[1],y=S;break}if(y&&g.label<y[2]){g.label=y[2],g.ops.push(S);break}y[2]&&g.ops.pop(),g.trys.pop();continue}S=m.call(p,g)}catch(V){S=[6,V],_=0}finally{A=y=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},q1=function(){function p(m,g){this.name=m,this.track=g}return p.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},p.prototype.apply=function(m){var g={};g[this.name]=m;var A={advanced:[g]};return this.track.applyConstraints(A)},p.prototype.value=function(){var m=this.track.getSettings();if(this.name in m){var g=m[this.name];return g}return null},p}(),Tf=function(p){Ou(m,p);function m(g,A){return p.call(this,g,A)||this}return m.prototype.min=function(){return this.getCapabilities().min},m.prototype.max=function(){return this.getCapabilities().max},m.prototype.step=function(){return this.getCapabilities().step},m.prototype.apply=function(g){var A={};A[this.name]=g;var _={advanced:[A]};return this.track.applyConstraints(_)},m.prototype.getCapabilities=function(){this.failIfNotSupported();var g=this.track.getCapabilities(),A=g[this.name];return{min:A.min,max:A.max,step:A.step}},m.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},m}(q1),Nf=function(p){Ou(m,p);function m(g){return p.call(this,"zoom",g)||this}return m}(Tf),Rf=function(p){Ou(m,p);function m(g){return p.call(this,"torch",g)||this}return m}(q1),Of=function(){function p(m){this.track=m}return p.prototype.zoomFeature=function(){return new Nf(this.track)},p.prototype.torchFeature=function(){return new Rf(this.track)},p}(),bf=function(){function p(m,g,A){this.isClosed=!1,this.parentElement=m,this.mediaStream=g,this.callbacks=A,this.surface=this.createVideoElement(this.parentElement.clientWidth),m.append(this.surface)}return p.prototype.createVideoElement=function(m){var g=document.createElement("video");return g.style.width="".concat(m,"px"),g.style.display="block",g.muted=!0,g.setAttribute("muted","true"),g.playsInline=!0,g},p.prototype.setupSurface=function(){var m=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var g=function(){var A=m.surface.clientWidth,_=m.surface.clientHeight;m.callbacks.onRenderSurfaceReady(A,_),m.surface.removeEventListener("playing",g)};this.surface.addEventListener("playing",g),this.surface.srcObject=this.mediaStream,this.surface.play()},p.create=function(m,g,A,_){return Fa(this,void 0,void 0,function(){var y,N;return Ua(this,function(D){switch(D.label){case 0:return y=new p(m,g,_),A.aspectRatio?(N={aspectRatio:A.aspectRatio},[4,y.getFirstTrackOrFail().applyConstraints(N)]):[3,2];case 1:D.sent(),D.label=2;case 2:return y.setupSurface(),[2,y]}})})},p.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},p.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},p.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},p.prototype.resume=function(m){this.failIfClosed();var g=this,A=function(){setTimeout(m,200),g.surface.removeEventListener("playing",A)};this.surface.addEventListener("playing",A),this.surface.play()},p.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},p.prototype.getSurface=function(){return this.failIfClosed(),this.surface},p.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},p.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},p.prototype.applyVideoConstraints=function(m){return Fa(this,void 0,void 0,function(){return Ua(this,function(g){if("aspectRatio"in m)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(m)]})})},p.prototype.close=function(){if(this.isClosed)return Promise.resolve();var m=this;return new Promise(function(g,A){var _=m.mediaStream.getVideoTracks(),y=_.length,N=0;m.mediaStream.getVideoTracks().forEach(function(D){m.mediaStream.removeTrack(D),D.stop(),++N,N>=y&&(m.isClosed=!0,m.parentElement.removeChild(m.surface),g())})})},p.prototype.getCapabilities=function(){return new Of(this.getFirstTrackOrFail())},p}(),Df=function(){function p(m){this.mediaStream=m}return p.prototype.render=function(m,g,A){return Fa(this,void 0,void 0,function(){return Ua(this,function(_){return[2,bf.create(m,this.mediaStream,g,A)]})})},p.create=function(m){return Fa(this,void 0,void 0,function(){var g,A;return Ua(this,function(_){switch(_.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return g={audio:!1,video:m},[4,navigator.mediaDevices.getUserMedia(g)];case 1:return A=_.sent(),[2,new p(A)]}})})},p}(),W1=function(p,m,g,A){function _(y){return y instanceof g?y:new g(function(N){N(y)})}return new(g||(g=Promise))(function(y,N){function D(V){try{S(A.next(V))}catch(L){N(L)}}function b(V){try{S(A.throw(V))}catch(L){N(L)}}function S(V){V.done?y(V.value):_(V.value).then(D,b)}S((A=A.apply(p,m||[])).next())})},G1=function(p,m){var g={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,_,y,N;return N={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function D(S){return function(V){return b([S,V])}}function b(S){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,S[0]&&(g=0)),g;)try{if(A=1,_&&(y=S[0]&2?_.return:S[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,S[1])).done)return y;switch(_=0,y&&(S=[S[0]&2,y.value]),S[0]){case 0:case 1:y=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,_=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(y=g.trys,!(y=y.length>0&&y[y.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!y||S[1]>y[0]&&S[1]<y[3])){g.label=S[1];break}if(S[0]===6&&g.label<y[1]){g.label=y[1],y=S;break}if(y&&g.label<y[2]){g.label=y[2],g.ops.push(S);break}y[2]&&g.ops.pop(),g.trys.pop();continue}S=m.call(p,g)}catch(V){S=[6,V],_=0}finally{A=y=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Mf=function(){function p(){}return p.failIfNotSupported=function(){return W1(this,void 0,void 0,function(){return G1(this,function(m){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new p]})})},p.prototype.create=function(m){return W1(this,void 0,void 0,function(){return G1(this,function(g){return[2,Df.create(m)]})})},p}(),kf=function(p,m,g,A){function _(y){return y instanceof g?y:new g(function(N){N(y)})}return new(g||(g=Promise))(function(y,N){function D(V){try{S(A.next(V))}catch(L){N(L)}}function b(V){try{S(A.throw(V))}catch(L){N(L)}}function S(V){V.done?y(V.value):_(V.value).then(D,b)}S((A=A.apply(p,m||[])).next())})},Pf=function(p,m){var g={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},A,_,y,N;return N={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function D(S){return function(V){return b([S,V])}}function b(S){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,S[0]&&(g=0)),g;)try{if(A=1,_&&(y=S[0]&2?_.return:S[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,S[1])).done)return y;switch(_=0,y&&(S=[S[0]&2,y.value]),S[0]){case 0:case 1:y=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,_=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(y=g.trys,!(y=y.length>0&&y[y.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!y||S[1]>y[0]&&S[1]<y[3])){g.label=S[1];break}if(S[0]===6&&g.label<y[1]){g.label=y[1],y=S;break}if(y&&g.label<y[2]){g.label=y[2],g.ops.push(S);break}y[2]&&g.ops.pop(),g.trys.pop();continue}S=m.call(p,g)}catch(V){S=[6,V],_=0}finally{A=y=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Bf=function(){function p(){}return p.retrieve=function(){if(navigator.mediaDevices)return p.getCamerasFromMediaDevices();var m=MediaStreamTrack;return MediaStreamTrack&&m.getSources?p.getCamerasFromMediaStreamTrack():p.rejectWithError()},p.rejectWithError=function(){var m=Do.unableToQuerySupportedDevices();return p.isHttpsOrLocalhost()||(m=Do.insecureContextCameraQueryError()),Promise.reject(m)},p.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var m=location.host.split(":")[0];return m==="127.0.0.1"||m==="localhost"},p.getCamerasFromMediaDevices=function(){return kf(this,void 0,void 0,function(){var m,g,A,_,y,N,D;return Pf(this,function(b){switch(b.label){case 0:return m=function(S){for(var V=S.getVideoTracks(),L=0,ce=V;L<ce.length;L++){var ge=ce[L];ge.enabled=!1,ge.stop(),S.removeTrack(ge)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return g=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(A=b.sent(),_=[],y=0,N=A;y<N.length;y++)D=N[y],D.kind==="videoinput"&&_.push({id:D.deviceId,label:D.label});return m(g),[2,_]}})})},p.getCamerasFromMediaStreamTrack=function(){return new Promise(function(m,g){var A=function(y){for(var N=[],D=0,b=y;D<b.length;D++){var S=b[D];S.kind==="video"&&N.push({id:S.id,label:S.label})}m(N)},_=MediaStreamTrack;_.getSources(A)})},p}(),Ht;(function(p){p[p.UNKNOWN=0]="UNKNOWN",p[p.NOT_STARTED=1]="NOT_STARTED",p[p.SCANNING=2]="SCANNING",p[p.PAUSED=3]="PAUSED"})(Ht||(Ht={}));var Lf=function(){function p(){this.state=Ht.NOT_STARTED,this.onGoingTransactionNewState=Ht.UNKNOWN}return p.prototype.directTransition=function(m){this.failIfTransitionOngoing(),this.validateTransition(m),this.state=m},p.prototype.startTransition=function(m){return this.failIfTransitionOngoing(),this.validateTransition(m),this.onGoingTransactionNewState=m,this},p.prototype.execute=function(){if(this.onGoingTransactionNewState===Ht.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var m=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ht.UNKNOWN,this.directTransition(m)},p.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ht.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ht.UNKNOWN},p.prototype.getState=function(){return this.state},p.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ht.UNKNOWN)throw"Cannot transition to a new state, already under transition"},p.prototype.validateTransition=function(m){switch(this.state){case Ht.UNKNOWN:throw"Transition from unknown is not allowed";case Ht.NOT_STARTED:this.failIfNewStateIs(m,[Ht.PAUSED]);break;case Ht.SCANNING:break;case Ht.PAUSED:break}},p.prototype.failIfNewStateIs=function(m,g){for(var A=0,_=g;A<_.length;A++){var y=_[A];if(m===y)throw"Cannot transition from ".concat(this.state," to ").concat(m)}},p}(),Ff=function(){function p(m){this.stateManager=m}return p.prototype.startTransition=function(m){return this.stateManager.startTransition(m)},p.prototype.directTransition=function(m){this.stateManager.directTransition(m)},p.prototype.getState=function(){return this.stateManager.getState()},p.prototype.canScanFile=function(){return this.stateManager.getState()===Ht.NOT_STARTED},p.prototype.isScanning=function(){return this.stateManager.getState()!==Ht.NOT_STARTED},p.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ht.SCANNING},p.prototype.isPaused=function(){return this.stateManager.getState()===Ht.PAUSED},p}(),Uf=function(){function p(){}return p.create=function(){return new Ff(new Lf)},p}(),Vf=function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,_){A.__proto__=_}||function(A,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(A[y]=_[y])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function A(){this.constructor=m}m.prototype=g===null?Object.create(g):(A.prototype=g.prototype,new A)}}(),$n=function(p){Vf(m,p);function m(){return p!==null&&p.apply(this,arguments)||this}return m.DEFAULT_WIDTH=300,m.DEFAULT_WIDTH_OFFSET=2,m.FILE_SCAN_MIN_HEIGHT=300,m.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,m.MIN_QR_BOX_SIZE=50,m.SHADED_LEFT=1,m.SHADED_RIGHT=2,m.SHADED_TOP=3,m.SHADED_BOTTOM=4,m.SHADED_REGION_ELEMENT_ID="qr-shaded-region",m.VERBOSE=!1,m.BORDER_SHADER_DEFAULT_COLOR="#ffffff",m.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",m}(mf),zf=function(){function p(m,g){this.logger=g,this.fps=$n.SCAN_DEFAULT_FPS,m?(m.fps&&(this.fps=m.fps),this.disableFlip=m.disableFlip===!0,this.qrbox=m.qrbox,this.aspectRatio=m.aspectRatio,this.videoConstraints=m.videoConstraints):this.disableFlip=$n.DEFAULT_DISABLE_FLIP}return p.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Q1.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},p.prototype.isShadedBoxEnabled=function(){return!jr(this.qrbox)},p.create=function(m,g){return new p(m,g)},p}(),Hf=function(){function p(m,g){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(m))throw"HTML Element with id=".concat(m," not found");this.elementId=m,this.verbose=!1;var A;typeof g=="boolean"?this.verbose=g===!0:g&&(A=g,this.verbose=A.verbose===!0,A.experimentalFeatures),this.logger=new yf(this.verbose),this.qrcode=new Sf(this.getSupportedFormats(g),this.getUseBarCodeDetectorIfSupported(A),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Uf.create()}return p.prototype.start=function(m,g,A,_){var y=this;if(!m)throw"cameraIdOrConfig is required";if(!A||typeof A!="function")throw"qrCodeSuccessCallback is required and should be a function.";var N;_?N=_:N=this.verbose?this.logger.log:function(){};var D=zf.create(g,this.logger);this.clearElement();var b=!1;D.videoConstraints&&(D.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var S=b,V=document.getElementById(this.elementId);V.clientWidth?V.clientWidth:$n.DEFAULT_WIDTH,V.style.position="relative",this.shouldScan=!0,this.element=V;var L=this,ce=this.stateManagerProxy.startTransition(Ht.SCANNING);return new Promise(function(ge,We){var se=S?D.videoConstraints:L.createVideoConstraints(m);if(!se){ce.cancel(),We("videoConstraints should be defined");return}var ye={};(!S||D.aspectRatio)&&(ye.aspectRatio=D.aspectRatio);var Be={onRenderSurfaceReady:function(ae,q){L.setupUi(ae,q,D),L.isScanning=!0,L.foreverScan(D,A,N)}};Mf.failIfNotSupported().then(function(ae){ae.create(se).then(function(q){return q.render(y.element,ye,Be).then(function(le){L.renderedCamera=le,ce.execute(),ge(null)}).catch(function(le){ce.cancel(),We(le)})}).catch(function(q){ce.cancel(),We(Do.errorGettingUserMedia(q))})}).catch(function(ae){ce.cancel(),We(Do.cameraStreamingNotSupported())})})},p.prototype.pause=function(m){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ht.PAUSED),this.showPausedState(),(jr(m)||m!==!0)&&(m=!1),m&&this.renderedCamera&&this.renderedCamera.pause()},p.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var m=this,g=function(){m.stateManagerProxy.directTransition(Ht.SCANNING),m.hidePausedState()};if(!this.renderedCamera.isPaused()){g();return}this.renderedCamera.resume(function(){g()})},p.prototype.getState=function(){return this.stateManagerProxy.getState()},p.prototype.stop=function(){var m=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var g=this.stateManagerProxy.startTransition(Ht.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var A=function(){if(m.element){var y=document.getElementById($n.SHADED_REGION_ELEMENT_ID);y&&m.element.removeChild(y)}},_=this;return this.renderedCamera.close().then(function(){return _.renderedCamera=null,_.element&&(_.element.removeChild(_.canvasElement),_.canvasElement=null),A(),_.qrRegion&&(_.qrRegion=null),_.context&&(_.context=null),g.execute(),_.hidePausedState(),_.isScanning=!1,Promise.resolve()})},p.prototype.scanFile=function(m,g){return this.scanFileV2(m,g).then(function(A){return A.decodedText})},p.prototype.scanFileV2=function(m,g){var A=this;if(!m||!(m instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(jr(g)&&(g=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(_,y){A.possiblyCloseLastScanImageFile(),A.clearElement(),A.lastScanImageFile=URL.createObjectURL(m);var N=new Image;N.onload=function(){var D=N.width,b=N.height,S=document.getElementById(A.elementId),V=S.clientWidth?S.clientWidth:$n.DEFAULT_WIDTH,L=Math.max(S.clientHeight?S.clientHeight:b,$n.FILE_SCAN_MIN_HEIGHT),ce=A.computeCanvasDrawConfig(D,b,V,L);if(g){var ge=A.createCanvasElement(V,L,"qr-canvas-visible");ge.style.display="inline-block",S.appendChild(ge);var We=ge.getContext("2d");if(!We)throw"Unable to get 2d context from canvas";We.canvas.width=V,We.canvas.height=L,We.drawImage(N,0,0,D,b,ce.x,ce.y,ce.width,ce.height)}var se=$n.FILE_SCAN_HIDDEN_CANVAS_PADDING,ye=Math.max(N.width,ce.width),Be=Math.max(N.height,ce.height),ae=ye+2*se,q=Be+2*se,le=A.createCanvasElement(ae,q);S.appendChild(le);var Ze=le.getContext("2d");if(!Ze)throw"Unable to get 2d context from canvas";Ze.canvas.width=ae,Ze.canvas.height=q,Ze.drawImage(N,0,0,D,b,se,se,ye,Be);try{A.qrcode.decodeRobustlyAsync(le).then(function(Te){_(L1.createFromQrcodeResult(Te))}).catch(y)}catch(Te){y("QR code parse error, error = ".concat(Te))}},N.onerror=y,N.onabort=y,N.onstalled=y,N.onsuspend=y,N.src=URL.createObjectURL(m)})},p.prototype.clear=function(){this.clearElement()},p.getCameras=function(){return Bf.retrieve()},p.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},p.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},p.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},p.prototype.applyVideoConstraints=function(m){if(m){if(!Q1.isMediaStreamConstraintsValid(m,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(m)},p.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},p.prototype.getSupportedFormats=function(m){var g=[Ce.QR_CODE,Ce.AZTEC,Ce.CODABAR,Ce.CODE_39,Ce.CODE_93,Ce.CODE_128,Ce.DATA_MATRIX,Ce.MAXICODE,Ce.ITF,Ce.EAN_13,Ce.EAN_8,Ce.PDF_417,Ce.RSS_14,Ce.RSS_EXPANDED,Ce.UPC_A,Ce.UPC_E,Ce.UPC_EAN_EXTENSION];if(!m||typeof m=="boolean"||!m.formatsToSupport)return g;if(!Array.isArray(m.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(m.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var A=[],_=0,y=m.formatsToSupport;_<y.length;_++){var N=y[_];xf(N)?A.push(N):this.logger.warn("Invalid format: ".concat(N," passed in config, ignoring."))}if(A.length===0)throw"None of formatsToSupport match supported values.";return A},p.prototype.getUseBarCodeDetectorIfSupported=function(m){if(jr(m))return!0;if(!jr(m.useBarCodeDetectorIfSupported))return m.useBarCodeDetectorIfSupported!==!1;if(jr(m.experimentalFeatures))return!0;var g=m.experimentalFeatures;return jr(g.useBarCodeDetectorIfSupported)?!0:g.useBarCodeDetectorIfSupported!==!1},p.prototype.validateQrboxSize=function(m,g,A){var _=this,y=A.qrbox;this.validateQrboxConfig(y);var N=this.toQrdimensions(m,g,y),D=function(S){if(S<$n.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($n.MIN_QR_BOX_SIZE,"px.")},b=function(S){return S>m&&(_.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),S=m),S};D(N.width),D(N.height),N.width=b(N.width)},p.prototype.validateQrboxConfig=function(m){if(typeof m!="number"&&typeof m!="function"&&(m.width===void 0||m.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},p.prototype.toQrdimensions=function(m,g,A){if(typeof A=="number")return{width:A,height:A};if(typeof A=="function")try{return A(m,g)}catch(_){throw new Error("qrbox config was passed as a function but it failed with unknown error"+_)}return A},p.prototype.setupUi=function(m,g,A){A.isShadedBoxEnabled()&&this.validateQrboxSize(m,g,A);var _=jr(A.qrbox)?{width:m,height:g}:A.qrbox;this.validateQrboxConfig(_);var y=this.toQrdimensions(m,g,_);y.height>g&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var N=A.isShadedBoxEnabled()&&y.height<=g,D={x:0,y:0,width:m,height:g},b=N?this.getShadedRegionBounds(m,g,y):D,S=this.createCanvasElement(b.width,b.height),V={willReadFrequently:!0},L=S.getContext("2d",V);L.canvas.width=b.width,L.canvas.height=b.height,this.element.append(S),N&&this.possiblyInsertShadingElement(this.element,m,g,y),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=L,this.canvasElement=S},p.prototype.createScannerPausedUiElement=function(m){var g=document.createElement("div");g.innerText=Do.scannerPaused(),g.style.display="none",g.style.position="absolute",g.style.top="0px",g.style.zIndex="1",g.style.background="rgba(9, 9, 9, 0.46)",g.style.color="#FFECEC",g.style.textAlign="center",g.style.width="100%",m.appendChild(g),this.scannerPausedUiElement=g},p.prototype.scanContext=function(m,g){var A=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(_){return m(_.text,L1.createFromQrcodeResult(_)),A.possiblyUpdateShaders(!0),!0}).catch(function(_){A.possiblyUpdateShaders(!1);var y=Do.codeParseError(_);return g(y,wf.createFrom(y)),!1})},p.prototype.foreverScan=function(m,g,A){var _=this;if(this.shouldScan&&this.renderedCamera){var y=this.renderedCamera.getSurface(),N=y.videoWidth/y.clientWidth,D=y.videoHeight/y.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*N,S=this.qrRegion.height*D,V=this.qrRegion.x*N,L=this.qrRegion.y*D;this.context.drawImage(y,V,L,b,S,0,0,this.qrRegion.width,this.qrRegion.height);var ce=function(){_.foreverScanTimeout=setTimeout(function(){_.foreverScan(m,g,A)},_.getTimeoutFps(m.fps))};this.scanContext(g,A).then(function(ge){!ge&&m.disableFlip!==!0?(_.context.translate(_.context.canvas.width,0),_.context.scale(-1,1),_.scanContext(g,A).finally(function(){ce()})):ce()}).catch(function(ge){_.logger.logError("Error happend while scanning context",ge),ce()})}},p.prototype.createVideoConstraints=function(m){if(typeof m=="string")return{deviceId:{exact:m}};if(typeof m=="object"){var g="facingMode",A="deviceId",_={user:!0,environment:!0},y="exact",N=function(We){if(We in _)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(We,"'")},D=Object.keys(m);if(D.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(D.length," keys");var b=Object.keys(m)[0];if(b!==g&&b!==A)throw"Only '".concat(g,"' and '").concat(A,"' ")+" are supported for 'cameraIdOrConfig'";if(b===g){var S=m.facingMode;if(typeof S=="string"){if(N(S))return{facingMode:S}}else if(typeof S=="object")if(y in S){if(N(S["".concat(y)]))return{facingMode:{exact:S["".concat(y)]}}}else throw"'facingMode' should be string or object with"+" ".concat(y," as key.");else{var V=typeof S;throw"Invalid type of 'facingMode' = ".concat(V)}}else{var L=m.deviceId;if(typeof L=="string")return{deviceId:L};if(typeof L=="object"){if(y in L)return{deviceId:{exact:L["".concat(y)]}};throw"'deviceId' should be string or object with"+" ".concat(y," as key.")}else{var ce=typeof L;throw"Invalid type of 'deviceId' = ".concat(ce)}}}var ge=typeof m;throw"Invalid type of 'cameraIdOrConfig' = ".concat(ge)},p.prototype.computeCanvasDrawConfig=function(m,g,A,_){if(m<=A&&g<=_){var y=(A-m)/2,N=(_-g)/2;return{x:y,y:N,width:m,height:g}}else{var D=m,b=g;return m>A&&(g=A/m*g,m=A),g>_&&(m=_/g*m,g=_),this.logger.log("Image downsampled from "+"".concat(D,"X").concat(b)+" to ".concat(m,"X").concat(g,".")),this.computeCanvasDrawConfig(m,g,A,_)}},p.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var m=document.getElementById(this.elementId);m&&(m.innerHTML="")},p.prototype.possiblyUpdateShaders=function(m){this.qrMatch!==m&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(g){g.style.backgroundColor=m?$n.BORDER_SHADER_MATCH_COLOR:$n.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=m)},p.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},p.prototype.createCanvasElement=function(m,g,A){var _=m,y=g,N=document.createElement("canvas");return N.style.width="".concat(_,"px"),N.style.height="".concat(y,"px"),N.style.display="none",N.id=jr(A)?"qr-canvas":A,N},p.prototype.getShadedRegionBounds=function(m,g,A){if(A.width>m||A.height>g)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(m-A.width)/2,y:(g-A.height)/2,width:A.width,height:A.height}},p.prototype.possiblyInsertShadingElement=function(m,g,A,_){if(!(g-_.width<1||A-_.height<1)){var y=document.createElement("div");y.style.position="absolute";var N=(g-_.width)/2,D=(A-_.height)/2;if(y.style.borderLeft="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderRight="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderTop="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderBottom="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),y.style.boxSizing="border-box",y.style.top="0px",y.style.bottom="0px",y.style.left="0px",y.style.right="0px",y.id="".concat($n.SHADED_REGION_ELEMENT_ID),g-_.width<11||A-_.height<11)this.hasBorderShaders=!1;else{var b=5,S=40;this.insertShaderBorders(y,S,b,-b,null,0,!0),this.insertShaderBorders(y,S,b,-b,null,0,!1),this.insertShaderBorders(y,S,b,null,-b,0,!0),this.insertShaderBorders(y,S,b,null,-b,0,!1),this.insertShaderBorders(y,b,S+b,-b,null,-b,!0),this.insertShaderBorders(y,b,S+b,null,-b,-b,!0),this.insertShaderBorders(y,b,S+b,-b,null,-b,!1),this.insertShaderBorders(y,b,S+b,null,-b,-b,!1),this.hasBorderShaders=!0}m.append(y)}},p.prototype.insertShaderBorders=function(m,g,A,_,y,N,D){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=$n.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(g,"px"),b.style.height="".concat(A,"px"),_!==null&&(b.style.top="".concat(_,"px")),y!==null&&(b.style.bottom="".concat(y,"px")),D?b.style.left="".concat(N,"px"):b.style.right="".concat(N,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),m.appendChild(b)},p.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},p.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},p.prototype.getTimeoutFps=function(m){return 1e3/m},p}(),X1;(function(p){p[p.STATUS_DEFAULT=0]="STATUS_DEFAULT",p[p.STATUS_SUCCESS=1]="STATUS_SUCCESS",p[p.STATUS_WARNING=2]="STATUS_WARNING",p[p.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(X1||(X1={}));function Wf({setCurrentPage:p,setCodeList:m}){const[g,A]=Ye.useState("");return Ye.useEffect(()=>{const _=new Hf("qr-reader");return navigator.mediaDevices.enumerateDevices().then(y=>{const N=y.filter(S=>S.kind==="videoinput"),D=N.find(S=>S.label.toLowerCase().includes("back")||S.label.includes("")),b=D?D.deviceId:N[0].deviceId;b&&_.start(b,{fps:10,qrbox:{width:250,height:250}},S=>{A(S);const V=JSON.parse(S);m(V),p("InsertPage"),_.stop()},()=>{}).catch(S=>{console.error(":",S)})}).catch(y=>{console.error(":",y)}),()=>{}},[]),it.jsxs("div",{children:[it.jsx("h1",{children:"QR"}),it.jsx("div",{id:"qr-reader",style:{width:"100dvw"}}),it.jsx("p",{children:g?`: ${g}`:"QR"})]})}const Gf=({isLoading:p})=>p?it.jsx("div",{className:"loading-overlay",children:it.jsx("div",{className:"loading",children:it.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"120",height:"120",children:it.jsxs("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"#2ee7ff",strokeWidth:"2",strokeDasharray:"63",strokeLinecap:"round",children:[it.jsx("animate",{attributeName:"stroke-dashoffset",values:"63;16;63",keyTimes:"0;.5;1",keySplines:".42 0 .58 1;.42 0 .58 1;",calcMode:"spline",dur:"1.4s",repeatCount:"indefinite"}),it.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0,12,12;135,12,12;450,12,12",keySplines:".42 0 .58 1;.42 0 .58 1;",calcMode:"spline",dur:"1.4s",repeatCount:"indefinite"}),it.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0,12,12",to:"270,12,12",calcMode:"linear",dur:"1.4s",repeatCount:"indefinite",additive:"sum"})]})})})}):null,Xf="https://script.google.com/macros/s/AKfycbwdZ3lhe2QH2BChceXrTsxzGAkUd9EgZ2AZ7pWXWlMJvwtOtOcjXDTOXUmdBRJgCs25/exec",jf="https://script.google.com/macros/s/AKfycbznkMazxV3wlmS66uEHcOSRkI_SBQkdfT_MfMzJnvueFkSwDxGFiLlmFtq-MfMM6ldL/exec",Yf=async()=>{try{const p=await fetch(Xf,{method:"POST",body:JSON.stringify({action:"allDataNum",sheetName:""})});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);return await p.json()}catch(p){return p}},Zf=async p=>{try{const m=await fetch(jf,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify({sub_action:"get",action:"updateCells",sheetName:"",updata:p})});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);return await m.json()}catch(m){return m}};function J1(p){var m,g,A="";if(typeof p=="string"||typeof p=="number")A+=p;else if(typeof p=="object")if(Array.isArray(p)){var _=p.length;for(m=0;m<_;m++)p[m]&&(g=J1(p[m]))&&(A&&(A+=" "),A+=g)}else for(g in p)p[g]&&(A&&(A+=" "),A+=g);return A}function Ji(){for(var p,m,g=0,A="",_=arguments.length;g<_;g++)(p=arguments[g])&&(m=J1(p))&&(A&&(A+=" "),A+=m);return A}function Kf(p){if(typeof document>"u")return;let m=document.head||document.getElementsByTagName("head")[0],g=document.createElement("style");g.type="text/css",m.firstChild?m.insertBefore(g,m.firstChild):m.appendChild(g),g.styleSheet?g.styleSheet.cssText=p:g.appendChild(document.createTextNode(p))}Kf(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var _s=p=>typeof p=="number"&&!isNaN(p),$i=p=>typeof p=="string",Yr=p=>typeof p=="function",Qf=p=>$i(p)||_s(p),yu=p=>$i(p)||Yr(p)?p:null,qf=(p,m)=>p===!1||_s(p)&&p>0?p:m,Eu=p=>Ye.isValidElement(p)||$i(p)||Yr(p)||_s(p);function Jf(p,m,g=300){let{scrollHeight:A,style:_}=p;requestAnimationFrame(()=>{_.minHeight="initial",_.height=A+"px",_.transition=`all ${g}ms`,requestAnimationFrame(()=>{_.height="0",_.padding="0",_.margin="0",setTimeout(m,g)})})}function $f({enter:p,exit:m,appendPosition:g=!1,collapse:A=!0,collapseDuration:_=300}){return function({children:y,position:N,preventExitTransition:D,done:b,nodeRef:S,isIn:V,playToast:L}){let ce=g?`${p}--${N}`:p,ge=g?`${m}--${N}`:m,We=Ye.useRef(0);return Ye.useLayoutEffect(()=>{let se=S.current,ye=ce.split(" "),Be=ae=>{ae.target===S.current&&(L(),se.removeEventListener("animationend",Be),se.removeEventListener("animationcancel",Be),We.current===0&&ae.type!=="animationcancel"&&se.classList.remove(...ye))};se.classList.add(...ye),se.addEventListener("animationend",Be),se.addEventListener("animationcancel",Be)},[]),Ye.useEffect(()=>{let se=S.current,ye=()=>{se.removeEventListener("animationend",ye),A?Jf(se,b,_):b()};V||(D?ye():(We.current=1,se.className+=` ${ge}`,se.addEventListener("animationend",ye)))},[V]),ot.createElement(ot.Fragment,null,y)}}function j1(p,m){return{content:$1(p.content,p.props),containerId:p.props.containerId,id:p.props.toastId,theme:p.props.theme,type:p.props.type,data:p.props.data||{},isLoading:p.props.isLoading,icon:p.props.icon,reason:p.removalReason,status:m}}function $1(p,m,g=!1){return Ye.isValidElement(p)&&!$i(p.type)?Ye.cloneElement(p,{closeToast:m.closeToast,toastProps:m,data:m.data,isPaused:g}):Yr(p)?p({closeToast:m.closeToast,toastProps:m,data:m.data,isPaused:g}):p}function ed({closeToast:p,theme:m,ariaLabel:g="close"}){return ot.createElement("button",{className:`Toastify__close-button Toastify__close-button--${m}`,type:"button",onClick:A=>{A.stopPropagation(),p(!0)},"aria-label":g},ot.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ot.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function td({delay:p,isRunning:m,closeToast:g,type:A="default",hide:_,className:y,controlledProgress:N,progress:D,rtl:b,isIn:S,theme:V}){let L=_||N&&D===0,ce={animationDuration:`${p}ms`,animationPlayState:m?"running":"paused"};N&&(ce.transform=`scaleX(${D})`);let ge=Ji("Toastify__progress-bar",N?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${V}`,`Toastify__progress-bar--${A}`,{"Toastify__progress-bar--rtl":b}),We=Yr(y)?y({rtl:b,type:A,defaultClassName:ge}):Ji(ge,y),se={[N&&D>=1?"onTransitionEnd":"onAnimationEnd"]:N&&D<1?null:()=>{S&&g()}};return ot.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":L},ot.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${V} Toastify__progress-bar--${A}`}),ot.createElement("div",{role:"progressbar","aria-hidden":L?"true":"false","aria-label":"notification timer",className:We,style:ce,...se}))}var nd=1,e0=()=>`${nd++}`;function rd(p,m,g){let A=1,_=0,y=[],N=[],D=m,b=new Map,S=new Set,V=ae=>(S.add(ae),()=>S.delete(ae)),L=()=>{N=Array.from(b.values()),S.forEach(ae=>ae())},ce=({containerId:ae,toastId:q,updateId:le})=>{let Ze=ae?ae!==p:p!==1,Te=b.has(q)&&le==null;return Ze||Te},ge=(ae,q)=>{b.forEach(le=>{var Ze;(q==null||q===le.props.toastId)&&((Ze=le.toggle)==null||Ze.call(le,ae))})},We=ae=>{var q,le;(le=(q=ae.props)==null?void 0:q.onClose)==null||le.call(q,ae.removalReason),ae.isActive=!1},se=ae=>{if(ae==null)b.forEach(We);else{let q=b.get(ae);q&&We(q)}L()},ye=()=>{_-=y.length,y=[]},Be=ae=>{var q,le;let{toastId:Ze,updateId:Te}=ae.props,Z=Te==null;ae.staleId&&b.delete(ae.staleId),ae.isActive=!0,b.set(Ze,ae),L(),g(j1(ae,Z?"added":"updated")),Z&&((le=(q=ae.props).onOpen)==null||le.call(q))};return{id:p,props:D,observe:V,toggle:ge,removeToast:se,toasts:b,clearQueue:ye,buildToast:(ae,q)=>{if(ce(q))return;let{toastId:le,updateId:Ze,data:Te,staleId:Z,delay:me}=q,J=Ze==null;J&&_++;let Rt={...D,style:D.toastStyle,key:A++,...Object.fromEntries(Object.entries(q).filter(([ve,Fe])=>Fe!=null)),toastId:le,updateId:Ze,data:Te,isIn:!1,className:yu(q.className||D.toastClassName),progressClassName:yu(q.progressClassName||D.progressClassName),autoClose:q.isLoading?!1:qf(q.autoClose,D.autoClose),closeToast(ve){b.get(le).removalReason=ve,se(le)},deleteToast(){let ve=b.get(le);if(ve!=null){if(g(j1(ve,"removed")),b.delete(le),_--,_<0&&(_=0),y.length>0){Be(y.shift());return}L()}}};Rt.closeButton=D.closeButton,q.closeButton===!1||Eu(q.closeButton)?Rt.closeButton=q.closeButton:q.closeButton===!0&&(Rt.closeButton=Eu(D.closeButton)?D.closeButton:!0);let ut={content:ae,props:Rt,staleId:Z};D.limit&&D.limit>0&&_>D.limit&&J?y.push(ut):_s(me)?setTimeout(()=>{Be(ut)},me):Be(ut)},setProps(ae){D=ae},setToggle:(ae,q)=>{let le=b.get(ae);le&&(le.toggle=q)},isToastActive:ae=>{var q;return(q=b.get(ae))==null?void 0:q.isActive},getSnapshot:()=>N}}var On=new Map,vs=[],Cu=new Set,id=p=>Cu.forEach(m=>m(p)),t0=()=>On.size>0;function od(){vs.forEach(p=>r0(p.content,p.options)),vs=[]}var sd=(p,{containerId:m})=>{var g;return(g=On.get(m||1))==null?void 0:g.toasts.get(p)};function n0(p,m){var g;if(m)return!!((g=On.get(m))!=null&&g.isToastActive(p));let A=!1;return On.forEach(_=>{_.isToastActive(p)&&(A=!0)}),A}function ad(p){if(!t0()){vs=vs.filter(m=>p!=null&&m.options.toastId!==p);return}if(p==null||Qf(p))On.forEach(m=>{m.removeToast(p)});else if(p&&("containerId"in p||"id"in p)){let m=On.get(p.containerId);m?m.removeToast(p.id):On.forEach(g=>{g.removeToast(p.id)})}}var ld=(p={})=>{On.forEach(m=>{m.props.limit&&(!p.containerId||m.id===p.containerId)&&m.clearQueue()})};function r0(p,m){Eu(p)&&(t0()||vs.push({content:p,options:m}),On.forEach(g=>{g.buildToast(p,m)}))}function ud(p){var m;(m=On.get(p.containerId||1))==null||m.setToggle(p.id,p.fn)}function i0(p,m){On.forEach(g=>{(m==null||!(m!=null&&m.containerId)||(m==null?void 0:m.containerId)===g.id)&&g.toggle(p,m==null?void 0:m.id)})}function cd(p){let m=p.containerId||1;return{subscribe(g){let A=rd(m,p,id);On.set(m,A);let _=A.observe(g);return od(),()=>{_(),On.delete(m)}},setProps(g){var A;(A=On.get(m))==null||A.setProps(g)},getSnapshot(){var g;return(g=On.get(m))==null?void 0:g.getSnapshot()}}}function fd(p){return Cu.add(p),()=>{Cu.delete(p)}}function dd(p){return p&&($i(p.toastId)||_s(p.toastId))?p.toastId:e0()}function Is(p,m){return r0(p,m),m.toastId}function Va(p,m){return{...m,type:m&&m.type||p,toastId:dd(m)}}function za(p){return(m,g)=>Is(m,Va(p,g))}function Ct(p,m){return Is(p,Va("default",m))}Ct.loading=(p,m)=>Is(p,Va("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...m}));function hd(p,{pending:m,error:g,success:A},_){let y;m&&(y=$i(m)?Ct.loading(m,_):Ct.loading(m.render,{..._,...m}));let N={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},D=(S,V,L)=>{if(V==null){Ct.dismiss(y);return}let ce={type:S,...N,..._,data:L},ge=$i(V)?{render:V}:V;return y?Ct.update(y,{...ce,...ge}):Ct(ge.render,{...ce,...ge}),L},b=Yr(p)?p():p;return b.then(S=>D("success",A,S)).catch(S=>D("error",g,S)),b}Ct.promise=hd;Ct.success=za("success");Ct.info=za("info");Ct.error=za("error");Ct.warning=za("warning");Ct.warn=Ct.warning;Ct.dark=(p,m)=>Is(p,Va("default",{theme:"dark",...m}));function gd(p){ad(p)}Ct.dismiss=gd;Ct.clearWaitingQueue=ld;Ct.isActive=n0;Ct.update=(p,m={})=>{let g=sd(p,m);if(g){let{props:A,content:_}=g,y={delay:100,...A,...m,toastId:m.toastId||p,updateId:e0()};y.toastId!==p&&(y.staleId=p);let N=y.render||_;delete y.render,Is(N,y)}};Ct.done=p=>{Ct.update(p,{progress:1})};Ct.onChange=fd;Ct.play=p=>i0(!0,p);Ct.pause=p=>i0(!1,p);function pd(p){var m;let{subscribe:g,getSnapshot:A,setProps:_}=Ye.useRef(cd(p)).current;_(p);let y=(m=Ye.useSyncExternalStore(g,A,A))==null?void 0:m.slice();function N(D){if(!y)return[];let b=new Map;return p.newestOnTop&&y.reverse(),y.forEach(S=>{let{position:V}=S.props;b.has(V)||b.set(V,[]),b.get(V).push(S)}),Array.from(b,S=>D(S[0],S[1]))}return{getToastToRender:N,isToastActive:n0,count:y==null?void 0:y.length}}function xd(p){let[m,g]=Ye.useState(!1),[A,_]=Ye.useState(!1),y=Ye.useRef(null),N=Ye.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:D,pauseOnHover:b,closeToast:S,onClick:V,closeOnClick:L}=p;ud({id:p.toastId,containerId:p.containerId,fn:g}),Ye.useEffect(()=>{if(p.pauseOnFocusLoss)return ce(),()=>{ge()}},[p.pauseOnFocusLoss]);function ce(){document.hasFocus()||Be(),window.addEventListener("focus",ye),window.addEventListener("blur",Be)}function ge(){window.removeEventListener("focus",ye),window.removeEventListener("blur",Be)}function We(Z){if(p.draggable===!0||p.draggable===Z.pointerType){ae();let me=y.current;N.canCloseOnClick=!0,N.canDrag=!0,me.style.transition="none",p.draggableDirection==="x"?(N.start=Z.clientX,N.removalDistance=me.offsetWidth*(p.draggablePercent/100)):(N.start=Z.clientY,N.removalDistance=me.offsetHeight*(p.draggablePercent===80?p.draggablePercent*1.5:p.draggablePercent)/100)}}function se(Z){let{top:me,bottom:J,left:Rt,right:ut}=y.current.getBoundingClientRect();Z.nativeEvent.type!=="touchend"&&p.pauseOnHover&&Z.clientX>=Rt&&Z.clientX<=ut&&Z.clientY>=me&&Z.clientY<=J?Be():ye()}function ye(){g(!0)}function Be(){g(!1)}function ae(){N.didMove=!1,document.addEventListener("pointermove",le),document.addEventListener("pointerup",Ze)}function q(){document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",Ze)}function le(Z){let me=y.current;if(N.canDrag&&me){N.didMove=!0,m&&Be(),p.draggableDirection==="x"?N.delta=Z.clientX-N.start:N.delta=Z.clientY-N.start,N.start!==Z.clientX&&(N.canCloseOnClick=!1);let J=p.draggableDirection==="x"?`${N.delta}px, var(--y)`:`0, calc(${N.delta}px + var(--y))`;me.style.transform=`translate3d(${J},0)`,me.style.opacity=`${1-Math.abs(N.delta/N.removalDistance)}`}}function Ze(){q();let Z=y.current;if(N.canDrag&&N.didMove&&Z){if(N.canDrag=!1,Math.abs(N.delta)>N.removalDistance){_(!0),p.closeToast(!0),p.collapseAll();return}Z.style.transition="transform 0.2s, opacity 0.2s",Z.style.removeProperty("transform"),Z.style.removeProperty("opacity")}}let Te={onPointerDown:We,onPointerUp:se};return D&&b&&(Te.onMouseEnter=Be,p.stacked||(Te.onMouseLeave=ye)),L&&(Te.onClick=Z=>{V&&V(Z),N.canCloseOnClick&&S(!0)}),{playToast:ye,pauseToast:Be,isRunning:m,preventExitTransition:A,toastRef:y,eventHandlers:Te}}var md=typeof window<"u"?Ye.useLayoutEffect:Ye.useEffect,Ha=({theme:p,type:m,isLoading:g,...A})=>ot.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:p==="colored"?"currentColor":`var(--toastify-icon-color-${m})`,...A});function wd(p){return ot.createElement(Ha,{...p},ot.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function yd(p){return ot.createElement(Ha,{...p},ot.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Ed(p){return ot.createElement(Ha,{...p},ot.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Cd(p){return ot.createElement(Ha,{...p},ot.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Ad(){return ot.createElement("div",{className:"Toastify__spinner"})}var Au={info:yd,warning:wd,success:Ed,error:Cd,spinner:Ad},vd=p=>p in Au;function _d({theme:p,type:m,isLoading:g,icon:A}){let _=null,y={theme:p,type:m};return A===!1||(Yr(A)?_=A({...y,isLoading:g}):Ye.isValidElement(A)?_=Ye.cloneElement(A,y):g?_=Au.spinner():vd(m)&&(_=Au[m](y))),_}var Id=p=>{let{isRunning:m,preventExitTransition:g,toastRef:A,eventHandlers:_,playToast:y}=xd(p),{closeButton:N,children:D,autoClose:b,onClick:S,type:V,hideProgressBar:L,closeToast:ce,transition:ge,position:We,className:se,style:ye,progressClassName:Be,updateId:ae,role:q,progress:le,rtl:Ze,toastId:Te,deleteToast:Z,isIn:me,isLoading:J,closeOnClick:Rt,theme:ut,ariaLabel:ve}=p,Fe=Ji("Toastify__toast",`Toastify__toast-theme--${ut}`,`Toastify__toast--${V}`,{"Toastify__toast--rtl":Ze},{"Toastify__toast--close-on-click":Rt}),ct=Yr(se)?se({rtl:Ze,position:We,type:V,defaultClassName:Fe}):Ji(Fe,se),Y=_d(p),et=!!le||!b,Ee={closeToast:ce,type:V,theme:ut},fe=null;return N===!1||(Yr(N)?fe=N(Ee):Ye.isValidElement(N)?fe=Ye.cloneElement(N,Ee):fe=ed(Ee)),ot.createElement(ge,{isIn:me,done:Z,position:We,preventExitTransition:g,nodeRef:A,playToast:y},ot.createElement("div",{id:Te,tabIndex:0,onClick:S,"data-in":me,className:ct,..._,style:ye,ref:A,...me&&{role:q,"aria-label":ve}},Y!=null&&ot.createElement("div",{className:Ji("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!J})},Y),$1(D,p,!m),fe,!p.customProgressBar&&ot.createElement(td,{...ae&&!et?{key:`p-${ae}`}:{},rtl:Ze,theme:ut,delay:b,isRunning:m,isIn:me,closeToast:ce,hide:L,type:V,className:Be,controlledProgress:et,progress:le||0})))},Sd=(p,m=!1)=>({enter:`Toastify--animate Toastify__${p}-enter`,exit:`Toastify--animate Toastify__${p}-exit`,appendPosition:m}),Td=$f(Sd("bounce",!0)),Nd={position:"top-right",transition:Td,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:p=>p.altKey&&p.code==="KeyT"};function Rd(p){let m={...Nd,...p},g=p.stacked,[A,_]=Ye.useState(!0),y=Ye.useRef(null),{getToastToRender:N,isToastActive:D,count:b}=pd(m),{className:S,style:V,rtl:L,containerId:ce,hotKeys:ge}=m;function We(ye){let Be=Ji("Toastify__toast-container",`Toastify__toast-container--${ye}`,{"Toastify__toast-container--rtl":L});return Yr(S)?S({position:ye,rtl:L,defaultClassName:Be}):Ji(Be,yu(S))}function se(){g&&(_(!0),Ct.play())}return md(()=>{var ye;if(g){let Be=y.current.querySelectorAll('[data-in="true"]'),ae=12,q=(ye=m.position)==null?void 0:ye.includes("top"),le=0,Ze=0;Array.from(Be).reverse().forEach((Te,Z)=>{let me=Te;me.classList.add("Toastify__toast--stacked"),Z>0&&(me.dataset.collapsed=`${A}`),me.dataset.pos||(me.dataset.pos=q?"top":"bot");let J=le*(A?.2:1)+(A?0:ae*Z);me.style.setProperty("--y",`${q?J:J*-1}px`),me.style.setProperty("--g",`${ae}`),me.style.setProperty("--s",`${1-(A?Ze:0)}`),le+=me.offsetHeight,Ze+=.025})}},[A,b,g]),Ye.useEffect(()=>{function ye(Be){var ae;let q=y.current;ge(Be)&&((ae=q.querySelector('[tabIndex="0"]'))==null||ae.focus(),_(!1),Ct.pause()),Be.key==="Escape"&&(document.activeElement===q||q!=null&&q.contains(document.activeElement))&&(_(!0),Ct.play())}return document.addEventListener("keydown",ye),()=>{document.removeEventListener("keydown",ye)}},[ge]),ot.createElement("section",{ref:y,className:"Toastify",id:ce,onMouseEnter:()=>{g&&(_(!1),Ct.pause())},onMouseLeave:se,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":m["aria-label"]},N((ye,Be)=>{let ae=Be.length?{...V}:{...V,pointerEvents:"none"};return ot.createElement("div",{tabIndex:-1,className:We(ye),"data-stacked":g,style:ae,key:`c-${ye}`},Be.map(({content:q,props:le})=>ot.createElement(Id,{...le,stacked:g,collapseAll:se,isIn:D(le.toastId,le.containerId),key:`t-${le.key}`},q)))}))}function Od({setCurrentPage:p,codeList:m,setisLoading:g}){const[A,_]=Ye.useState([]),[y,N]=Ye.useState({}),D=(S,V)=>{const L=V.target.value;N(ce=>({...ce,[S]:L}))},b=async()=>{g(!0);const S=await Zf(y);Ct.success(S),g(!1),p("QR_Scanner")};return Ye.useEffect(()=>{(async()=>{try{g(!0);const L=await Yf(),ce=m.map(ge=>L.find(We=>We[1]==ge));_(ce.filter(Boolean))}catch(L){console.error(":",L)}finally{g(!1)}})();const V={};for(let L=0;L<m.length;L++)V[m[L]]=0;N(V)},[]),it.jsxs("div",{className:"setwindow",children:[it.jsx("div",{className:"products-window",children:A.map((S,V)=>it.jsxs("div",{className:"products",children:[it.jsxs("div",{className:"QR-product-code",children:[": ",S[1]]}),it.jsxs("div",{className:"QR-product-name",children:[": ",S[2]]}),it.jsxs("div",{className:"QR-product-Num",children:[it.jsxs("div",{className:"QR-product-dataNum",children:[": ",S[9]]}),it.jsx("div",{children:it.jsx("input",{className:"QR-product-inputNum",type:"tel",pattern:"^[0-9\\-\\/]+$",placeholder:"",value:y[S[1]]||"",onChange:L=>D(S[1],L)})})]})]},V))}),it.jsx("a",{className:"buttonUnderlineSt",id:"main_back",type:"button",onClick:()=>p("QR_Scanner"),children:"QR"}),it.jsx("a",{className:"buttonUnderlineSt",id:"main_back",type:"button",onClick:()=>b(),children:""})]})}function bd(){const[p,m]=Ye.useState("QR_Scanner"),g=Ye.useRef(null),[A,_]=Ye.useState(!1),[y,N]=Ye.useState([]),D=b=>{switch(b){case"ListPage":return;case"QR_Scanner":return it.jsx(Wf,{setCurrentPage:m,setCodeList:N});case"InsertPage":return it.jsx(Od,{setCurrentPage:m,codeList:y,setisLoading:_});case"TEST":return it.jsx(k1,{});default:return it.jsx(k1,{})}};return it.jsx(Ru,{component:null,children:it.jsx(Tu,{timeout:{enter:500,exit:300},className:"fade",nodeRef:g,unmountOnExit:!0,children:it.jsxs("div",{children:[it.jsx(Rd,{}),it.jsx("div",{ref:g,className:"page",children:D(p)}),it.jsx("div",{className:"Loadingarea",children:it.jsx(Gf,{isLoading:A})})]})},p)})}rf.createRoot(document.getElementById("root")).render(it.jsx(Ye.StrictMode,{children:it.jsx(bd,{})}));
