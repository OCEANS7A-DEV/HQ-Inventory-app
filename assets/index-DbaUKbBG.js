function T0(w,m){for(var g=0;g<m.length;g++){const S=m[g];if(typeof S!="string"&&!Array.isArray(S)){for(const I in S)if(I!=="default"&&!(I in w)){const C=Object.getOwnPropertyDescriptor(S,I);C&&Object.defineProperty(w,I,C.get?C:{enumerable:!0,get:()=>S[I]})}}}return Object.freeze(Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}))}(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const I of document.querySelectorAll('link[rel="modulepreload"]'))S(I);new MutationObserver(I=>{for(const C of I)if(C.type==="childList")for(const O of C.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&S(O)}).observe(document,{childList:!0,subtree:!0});function g(I){const C={};return I.integrity&&(C.integrity=I.integrity),I.referrerPolicy&&(C.referrerPolicy=I.referrerPolicy),I.crossOrigin==="use-credentials"?C.credentials="include":I.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function S(I){if(I.ep)return;I.ep=!0;const C=g(I);fetch(I.href,C)}})();var Sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function au(w){return w&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w}var $a={exports:{}},xo={},eu={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac;function _0(){if(ac)return je;ac=1;var w=Symbol.for("react.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),X=Symbol.iterator;function pe(F){return F===null||typeof F!="object"?null:(F=X&&F[X]||F["@@iterator"],typeof F=="function"?F:null)}var _e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ht=Object.assign,we={};function Ge(F,Z,be){this.props=F,this.context=Z,this.refs=we,this.updater=be||_e}Ge.prototype.isReactComponent={},Ge.prototype.setState=function(F,Z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Z,"setState")},Ge.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function nn(){}nn.prototype=Ge.prototype;function Ye(F,Z,be){this.props=F,this.context=Z,this.refs=we,this.updater=be||_e}var Ee=Ye.prototype=new nn;Ee.constructor=Ye,ht(Ee,Ge.prototype),Ee.isPureReactComponent=!0;var De=Array.isArray,Ht=Object.prototype.hasOwnProperty,Fe={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function Ue(F,Z,be){var Ie,Qe={},se=null,lt=null;if(Z!=null)for(Ie in Z.ref!==void 0&&(lt=Z.ref),Z.key!==void 0&&(se=""+Z.key),Z)Ht.call(Z,Ie)&&!$.hasOwnProperty(Ie)&&(Qe[Ie]=Z[Ie]);var Me=arguments.length-2;if(Me===1)Qe.children=be;else if(1<Me){for(var at=Array(Me),jt=0;jt<Me;jt++)at[jt]=arguments[jt+2];Qe.children=at}if(F&&F.defaultProps)for(Ie in Me=F.defaultProps,Me)Qe[Ie]===void 0&&(Qe[Ie]=Me[Ie]);return{$$typeof:w,type:F,key:se,ref:lt,props:Qe,_owner:Fe.current}}function ne(F,Z){return{$$typeof:w,type:F.type,key:Z,ref:F.ref,props:F.props,_owner:F._owner}}function pn(F){return typeof F=="object"&&F!==null&&F.$$typeof===w}function Mt(F){var Z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(be){return Z[be]})}var ve=/\/+/g;function Ve(F,Z){return typeof F=="object"&&F!==null&&F.key!=null?Mt(""+F.key):Z.toString(36)}function ot(F,Z,be,Ie,Qe){var se=typeof F;(se==="undefined"||se==="boolean")&&(F=null);var lt=!1;if(F===null)lt=!0;else switch(se){case"string":case"number":lt=!0;break;case"object":switch(F.$$typeof){case w:case m:lt=!0}}if(lt)return lt=F,Qe=Qe(lt),F=Ie===""?"."+Ve(lt,0):Ie,De(Qe)?(be="",F!=null&&(be=F.replace(ve,"$&/")+"/"),ot(Qe,Z,be,"",function(jt){return jt})):Qe!=null&&(pn(Qe)&&(Qe=ne(Qe,be+(!Qe.key||lt&&lt.key===Qe.key?"":(""+Qe.key).replace(ve,"$&/")+"/")+F)),Z.push(Qe)),1;if(lt=0,Ie=Ie===""?".":Ie+":",De(F))for(var Me=0;Me<F.length;Me++){se=F[Me];var at=Ie+Ve(se,Me);lt+=ot(se,Z,be,at,Qe)}else if(at=pe(F),typeof at=="function")for(F=at.call(F),Me=0;!(se=F.next()).done;)se=se.value,at=Ie+Ve(se,Me++),lt+=ot(se,Z,be,at,Qe);else if(se==="object")throw Z=String(F),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return lt}function j(F,Z,be){if(F==null)return F;var Ie=[],Qe=0;return ot(F,Ie,"","",function(se){return Z.call(be,se,Qe++)}),Ie}function et(F){if(F._status===-1){var Z=F._result;Z=Z(),Z.then(function(be){(F._status===0||F._status===-1)&&(F._status=1,F._result=be)},function(be){(F._status===0||F._status===-1)&&(F._status=2,F._result=be)}),F._status===-1&&(F._status=0,F._result=Z)}if(F._status===1)return F._result.default;throw F._result}var xe={current:null},le={transition:null},ye={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:le,ReactCurrentOwner:Fe};function ae(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:j,forEach:function(F,Z,be){j(F,function(){Z.apply(this,arguments)},be)},count:function(F){var Z=0;return j(F,function(){Z++}),Z},toArray:function(F){return j(F,function(Z){return Z})||[]},only:function(F){if(!pn(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},je.Component=Ge,je.Fragment=g,je.Profiler=I,je.PureComponent=Ye,je.StrictMode=S,je.Suspense=B,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,je.act=ae,je.cloneElement=function(F,Z,be){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Ie=ht({},F.props),Qe=F.key,se=F.ref,lt=F._owner;if(Z!=null){if(Z.ref!==void 0&&(se=Z.ref,lt=Fe.current),Z.key!==void 0&&(Qe=""+Z.key),F.type&&F.type.defaultProps)var Me=F.type.defaultProps;for(at in Z)Ht.call(Z,at)&&!$.hasOwnProperty(at)&&(Ie[at]=Z[at]===void 0&&Me!==void 0?Me[at]:Z[at])}var at=arguments.length-2;if(at===1)Ie.children=be;else if(1<at){Me=Array(at);for(var jt=0;jt<at;jt++)Me[jt]=arguments[jt+2];Ie.children=Me}return{$$typeof:w,type:F.type,key:Qe,ref:se,props:Ie,_owner:lt}},je.createContext=function(F){return F={$$typeof:O,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:C,_context:F},F.Consumer=F},je.createElement=Ue,je.createFactory=function(F){var Z=Ue.bind(null,F);return Z.type=F,Z},je.createRef=function(){return{current:null}},je.forwardRef=function(F){return{$$typeof:P,render:F}},je.isValidElement=pn,je.lazy=function(F){return{$$typeof:Y,_payload:{_status:-1,_result:F},_init:et}},je.memo=function(F,Z){return{$$typeof:T,type:F,compare:Z===void 0?null:Z}},je.startTransition=function(F){var Z=le.transition;le.transition={};try{F()}finally{le.transition=Z}},je.unstable_act=ae,je.useCallback=function(F,Z){return xe.current.useCallback(F,Z)},je.useContext=function(F){return xe.current.useContext(F)},je.useDebugValue=function(){},je.useDeferredValue=function(F){return xe.current.useDeferredValue(F)},je.useEffect=function(F,Z){return xe.current.useEffect(F,Z)},je.useId=function(){return xe.current.useId()},je.useImperativeHandle=function(F,Z,be){return xe.current.useImperativeHandle(F,Z,be)},je.useInsertionEffect=function(F,Z){return xe.current.useInsertionEffect(F,Z)},je.useLayoutEffect=function(F,Z){return xe.current.useLayoutEffect(F,Z)},je.useMemo=function(F,Z){return xe.current.useMemo(F,Z)},je.useReducer=function(F,Z,be){return xe.current.useReducer(F,Z,be)},je.useRef=function(F){return xe.current.useRef(F)},je.useState=function(F){return xe.current.useState(F)},je.useSyncExternalStore=function(F,Z,be){return xe.current.useSyncExternalStore(F,Z,be)},je.useTransition=function(){return xe.current.useTransition()},je.version="18.3.1",je}var uc;function uu(){return uc||(uc=1,eu.exports=_0()),eu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cc;function N0(){if(cc)return xo;cc=1;var w=uu(),m=Symbol.for("react.element"),g=Symbol.for("react.fragment"),S=Object.prototype.hasOwnProperty,I=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C={key:!0,ref:!0,__self:!0,__source:!0};function O(P,B,T){var Y,X={},pe=null,_e=null;T!==void 0&&(pe=""+T),B.key!==void 0&&(pe=""+B.key),B.ref!==void 0&&(_e=B.ref);for(Y in B)S.call(B,Y)&&!C.hasOwnProperty(Y)&&(X[Y]=B[Y]);if(P&&P.defaultProps)for(Y in B=P.defaultProps,B)X[Y]===void 0&&(X[Y]=B[Y]);return{$$typeof:m,type:P,key:pe,ref:_e,props:X,_owner:I.current}}return xo.Fragment=g,xo.jsx=O,xo.jsxs=O,xo}var fc;function R0(){return fc||(fc=1,$a.exports=N0()),$a.exports}var xt=R0(),tn=uu();const wr=au(tn);var Il={},tu={exports:{}},Ln={},nu={exports:{}},ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc;function O0(){return dc||(dc=1,function(w){function m(le,ye){var ae=le.length;le.push(ye);e:for(;0<ae;){var F=ae-1>>>1,Z=le[F];if(0<I(Z,ye))le[F]=ye,le[ae]=Z,ae=F;else break e}}function g(le){return le.length===0?null:le[0]}function S(le){if(le.length===0)return null;var ye=le[0],ae=le.pop();if(ae!==ye){le[0]=ae;e:for(var F=0,Z=le.length,be=Z>>>1;F<be;){var Ie=2*(F+1)-1,Qe=le[Ie],se=Ie+1,lt=le[se];if(0>I(Qe,ae))se<Z&&0>I(lt,Qe)?(le[F]=lt,le[se]=ae,F=se):(le[F]=Qe,le[Ie]=ae,F=Ie);else if(se<Z&&0>I(lt,ae))le[F]=lt,le[se]=ae,F=se;else break e}}return ye}function I(le,ye){var ae=le.sortIndex-ye.sortIndex;return ae!==0?ae:le.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var C=performance;w.unstable_now=function(){return C.now()}}else{var O=Date,P=O.now();w.unstable_now=function(){return O.now()-P}}var B=[],T=[],Y=1,X=null,pe=3,_e=!1,ht=!1,we=!1,Ge=typeof setTimeout=="function"?setTimeout:null,nn=typeof clearTimeout=="function"?clearTimeout:null,Ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ee(le){for(var ye=g(T);ye!==null;){if(ye.callback===null)S(T);else if(ye.startTime<=le)S(T),ye.sortIndex=ye.expirationTime,m(B,ye);else break;ye=g(T)}}function De(le){if(we=!1,Ee(le),!ht)if(g(B)!==null)ht=!0,et(Ht);else{var ye=g(T);ye!==null&&xe(De,ye.startTime-le)}}function Ht(le,ye){ht=!1,we&&(we=!1,nn(Ue),Ue=-1),_e=!0;var ae=pe;try{for(Ee(ye),X=g(B);X!==null&&(!(X.expirationTime>ye)||le&&!Mt());){var F=X.callback;if(typeof F=="function"){X.callback=null,pe=X.priorityLevel;var Z=F(X.expirationTime<=ye);ye=w.unstable_now(),typeof Z=="function"?X.callback=Z:X===g(B)&&S(B),Ee(ye)}else S(B);X=g(B)}if(X!==null)var be=!0;else{var Ie=g(T);Ie!==null&&xe(De,Ie.startTime-ye),be=!1}return be}finally{X=null,pe=ae,_e=!1}}var Fe=!1,$=null,Ue=-1,ne=5,pn=-1;function Mt(){return!(w.unstable_now()-pn<ne)}function ve(){if($!==null){var le=w.unstable_now();pn=le;var ye=!0;try{ye=$(!0,le)}finally{ye?Ve():(Fe=!1,$=null)}}else Fe=!1}var Ve;if(typeof Ye=="function")Ve=function(){Ye(ve)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,j=ot.port2;ot.port1.onmessage=ve,Ve=function(){j.postMessage(null)}}else Ve=function(){Ge(ve,0)};function et(le){$=le,Fe||(Fe=!0,Ve())}function xe(le,ye){Ue=Ge(function(){le(w.unstable_now())},ye)}w.unstable_IdlePriority=5,w.unstable_ImmediatePriority=1,w.unstable_LowPriority=4,w.unstable_NormalPriority=3,w.unstable_Profiling=null,w.unstable_UserBlockingPriority=2,w.unstable_cancelCallback=function(le){le.callback=null},w.unstable_continueExecution=function(){ht||_e||(ht=!0,et(Ht))},w.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<le?Math.floor(1e3/le):5},w.unstable_getCurrentPriorityLevel=function(){return pe},w.unstable_getFirstCallbackNode=function(){return g(B)},w.unstable_next=function(le){switch(pe){case 1:case 2:case 3:var ye=3;break;default:ye=pe}var ae=pe;pe=ye;try{return le()}finally{pe=ae}},w.unstable_pauseExecution=function(){},w.unstable_requestPaint=function(){},w.unstable_runWithPriority=function(le,ye){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ae=pe;pe=le;try{return ye()}finally{pe=ae}},w.unstable_scheduleCallback=function(le,ye,ae){var F=w.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,le){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ae+Z,le={id:Y++,callback:ye,priorityLevel:le,startTime:ae,expirationTime:Z,sortIndex:-1},ae>F?(le.sortIndex=ae,m(T,le),g(B)===null&&le===g(T)&&(we?(nn(Ue),Ue=-1):we=!0,xe(De,ae-F))):(le.sortIndex=Z,m(B,le),ht||_e||(ht=!0,et(Ht))),le},w.unstable_shouldYield=Mt,w.unstable_wrapCallback=function(le){var ye=pe;return function(){var ae=pe;pe=ye;try{return le.apply(this,arguments)}finally{pe=ae}}}}(ru)),ru}var hc;function D0(){return hc||(hc=1,nu.exports=O0()),nu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc;function M0(){if(gc)return Ln;gc=1;var w=uu(),m=D0();function g(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S=new Set,I={};function C(t,i){O(t,i),O(t+"Capture",i)}function O(t,i){for(I[t]=i,t=0;t<i.length;t++)S.add(i[t])}var P=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B=Object.prototype.hasOwnProperty,T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y={},X={};function pe(t){return B.call(X,t)?!0:B.call(Y,t)?!1:T.test(t)?X[t]=!0:(Y[t]=!0,!1)}function _e(t,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ht(t,i,a,c){if(i===null||typeof i>"u"||_e(t,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function we(t,i,a,c,h,x,A){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=t,this.type=i,this.sanitizeURL=x,this.removeEmptyString=A}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new we(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];Ge[i]=new we(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new we(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new we(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new we(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new we(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){Ge[t]=new we(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){Ge[t]=new we(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){Ge[t]=new we(t,5,!1,t.toLowerCase(),null,!1,!1)});var nn=/[\-:]([a-z])/g;function Ye(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(nn,Ye);Ge[i]=new we(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(nn,Ye);Ge[i]=new we(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(nn,Ye);Ge[i]=new we(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new we(t,1,!1,t.toLowerCase(),null,!1,!1)}),Ge.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){Ge[t]=new we(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ee(t,i,a,c){var h=Ge.hasOwnProperty(i)?Ge[i]:null;(h!==null?h.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(ht(i,a,h,c)&&(a=null),c||h===null?pe(i)&&(a===null?t.removeAttribute(i):t.setAttribute(i,""+a)):h.mustUseProperty?t[h.propertyName]=a===null?h.type===3?!1:"":a:(i=h.attributeName,c=h.attributeNamespace,a===null?t.removeAttribute(i):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?t.setAttributeNS(c,i,a):t.setAttribute(i,a))))}var De=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ht=Symbol.for("react.element"),Fe=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Ue=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),pn=Symbol.for("react.provider"),Mt=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),le=Symbol.iterator;function ye(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,F;function Z(t){if(F===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+t}var be=!1;function Ie(t,i){if(!t||be)return"";be=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(G){var c=G}Reflect.construct(t,[],i)}else{try{i.call()}catch(G){c=G}t.call(i.prototype)}else{try{throw Error()}catch(G){c=G}t()}}catch(G){if(G&&c&&typeof G.stack=="string"){for(var h=G.stack.split(`
`),x=c.stack.split(`
`),A=h.length-1,R=x.length-1;1<=A&&0<=R&&h[A]!==x[R];)R--;for(;1<=A&&0<=R;A--,R--)if(h[A]!==x[R]){if(A!==1||R!==1)do if(A--,R--,0>R||h[A]!==x[R]){var M=`
`+h[A].replace(" at new "," at ");return t.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",t.displayName)),M}while(1<=A&&0<=R);break}}}finally{be=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?Z(t):""}function Qe(t){switch(t.tag){case 5:return Z(t.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return t=Ie(t.type,!1),t;case 11:return t=Ie(t.type.render,!1),t;case 1:return t=Ie(t.type,!0),t;default:return""}}function se(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case Fe:return"Portal";case ne:return"Profiler";case Ue:return"StrictMode";case Ve:return"Suspense";case ot:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mt:return(t.displayName||"Context")+".Consumer";case pn:return(t._context.displayName||"Context")+".Provider";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return i=t.displayName||null,i!==null?i:se(t.type)||"Memo";case et:i=t._payload,t=t._init;try{return se(t(i))}catch{}}return null}function lt(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(i);case 8:return i===Ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function at(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jt(t){var i=at(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,x=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(A){c=""+A,x.call(this,A)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Yt(t){t._valueTracker||(t._valueTracker=jt(t))}function Ci(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return t&&(c=at(t)?t.checked?"true":"false":t.value),t=c,t!==a?(i.setValue(t),!0):!1}function qe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Er(t,i){var a=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Fn(t,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function jr(t,i){i=i.checked,i!=null&&Ee(t,"checked",i,!1)}function Lt(t,i){jr(t,i);var a=Me(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?Ze(t,i.type,a):i.hasOwnProperty("defaultValue")&&Ze(t,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function ft(t,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,a||i===t.value||(t.value=i),t.defaultValue=i}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Ze(t,i,a){(i!=="number"||qe(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Cr=Array.isArray;function fe(t,i,a,c){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Yr(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(g(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _s(t,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(g(92));if(Cr(a)){if(1<a.length)throw Error(g(93));a=a[0]}i=a}i==null&&(i=""),a=i}t._wrapperState={initialValue:Me(a)}}function qn(t,i){var a=Me(i.value),c=Me(i.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),i.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function Ki(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Nn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qi(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Nn(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Un,rn=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,h){MSApp.execUnsafeLocalFunction(function(){return t(i,a,c,h)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Un=Un||document.createElement("div"),Un.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Un.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function Zr(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ml=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(t){Ml.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),yr[i]=yr[t]})});function Nt(t,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||yr.hasOwnProperty(t)&&yr[t]?(""+i).trim():i+"px"}function oe(t,i){t=t.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=Nt(a,i[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,h):t[a]=h}}var Ft=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function it(t,i){if(i){if(Ft[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(g(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(g(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(g(61))}if(i.style!=null&&typeof i.style!="object")throw Error(g(62))}}function wt(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=null;function yi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,Xe=null,Rn=null;function Ns(t){if(t=$s(t)){if(typeof qi!="function")throw Error(g(280));var i=t.stateNode;i&&(i=Uo(i),qi(t.stateNode,t.type,i))}}function Rs(t){Xe?Rn?Rn.push(t):Rn=[t]:Xe=t}function On(){if(Xe){var t=Xe,i=Rn;if(Rn=Xe=null,Ns(t),i)for(t=0;t<i.length;t++)Ns(i[t])}}function Ji(t,i){return t(i)}function Zt(){}var Ar=!1;function Ai(t,i,a){if(Ar)return t(i,a);Ar=!0;try{return Ji(t,i,a)}finally{Ar=!1,(Xe!==null||Rn!==null)&&(Zt(),On())}}function mn(t,i){var a=t.stateNode;if(a===null)return null;var c=Uo(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(g(231,i,typeof a));return a}var Os=!1;if(P)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Os=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Os=!1}function Ds(t,i,a,c,h,x,A,R,M){var G=Array.prototype.slice.call(arguments,3);try{i.apply(a,G)}catch(J){this.onError(J)}}var Gt=!1,Jn=null,cn=!1,ue=null,Kr={onError:function(t){Gt=!0,Jn=t}};function Ms(t,i,a,c,h,x,A,R,M){Gt=!1,Jn=null,Ds.apply(Kr,arguments)}function wn(t,i,a,c,h,x,A,R,M){if(Ms.apply(this,arguments),Gt){if(Gt){var G=Jn;Gt=!1,Jn=null}else throw Error(g(198));cn||(cn=!0,ue=G)}}function Dn(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function vi(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Si(t){if(Dn(t)!==t)throw Error(g(188))}function $n(t){var i=t.alternate;if(!i){if(i=Dn(t),i===null)throw Error(g(188));return i!==t?null:t}for(var a=t,c=i;;){var h=a.return;if(h===null)break;var x=h.alternate;if(x===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===x.child){for(x=h.child;x;){if(x===a)return Si(h),t;if(x===c)return Si(h),i;x=x.sibling}throw Error(g(188))}if(a.return!==c.return)a=h,c=x;else{for(var A=!1,R=h.child;R;){if(R===a){A=!0,a=h,c=x;break}if(R===c){A=!0,c=h,a=x;break}R=R.sibling}if(!A){for(R=x.child;R;){if(R===a){A=!0,a=x,c=h;break}if(R===c){A=!0,c=x,a=h;break}R=R.sibling}if(!A)throw Error(g(189))}}if(a.alternate!==c)throw Error(g(190))}if(a.tag!==3)throw Error(g(188));return a.stateNode.current===a?t:i}function wo(t){return t=$n(t),t!==null?Eo(t):null}function Eo(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=Eo(t);if(i!==null)return i;t=t.sibling}return null}var zn=m.unstable_scheduleCallback,sn=m.unstable_cancelCallback,Et=m.unstable_shouldYield,Co=m.unstable_requestPaint,ut=m.unstable_now,bs=m.unstable_getCurrentPriorityLevel,K=m.unstable_ImmediatePriority,yo=m.unstable_UserBlockingPriority,pt=m.unstable_NormalPriority,Qr=m.unstable_LowPriority,Ao=m.unstable_IdlePriority,$e=null,ze=null;function Ke(t){if(ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot($e,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:Ut,ks=Math.log,Bs=Math.LN2;function Ut(t){return t>>>=0,t===0?32:31-(ks(t)/Bs|0)|0}var Wn=64,$i=4194304;function mt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hn(t,i){var a=t.pendingLanes;if(a===0)return 0;var c=0,h=t.suspendedLanes,x=t.pingedLanes,A=a&268435455;if(A!==0){var R=A&~h;R!==0?c=mt(R):(x&=A,x!==0&&(c=mt(x)))}else A=a&~h,A!==0?c=mt(A):x!==0&&(c=mt(x));if(c===0)return 0;if(i!==0&&i!==c&&!(i&h)&&(h=c&-c,x=i&-i,h>=x||h===16&&(x&4194240)!==0))return i;if(c&4&&(c|=a&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)a=31-In(i),h=1<<a,c|=t[a],i&=~h;return c}function bl(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(t,i){for(var a=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,x=t.pendingLanes;0<x;){var A=31-In(x),R=1<<A,M=h[A];M===-1?(!(R&a)||R&c)&&(h[A]=bl(R,i)):M<=i&&(t.expiredLanes|=R),x&=~R}}function ct(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kt(){var t=Wn;return Wn<<=1,!(Wn&4194240)&&(Wn=64),t}function U(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function _(t,i,a){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-In(i),t[i]=a}function Ae(t,i){var a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var h=31-In(a),x=1<<h;i[h]=0,c[h]=-1,t[h]=-1,a&=~x}}function bt(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var c=31-In(a),h=1<<c;h&i|t[c]&i&&(t[c]|=i),a&=~h}}var We=0;function vo(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var es,En,Se,Ct,Ps,Ls=!1,Jr=[],Gn=null,er=null,vr=null,Tt=new Map,ur=new Map,fn=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function So(t,i){switch(t){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Tt.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(i.pointerId)}}function Be(t,i,a,c,h,x){return t===null||t.nativeEvent!==x?(t={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:x,targetContainers:[h]},i!==null&&(i=$s(i),i!==null&&En(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Qt(t,i,a,c,h){switch(i){case"focusin":return Gn=Be(Gn,t,i,a,c,h),!0;case"dragenter":return er=Be(er,t,i,a,c,h),!0;case"mouseover":return vr=Be(vr,t,i,a,c,h),!0;case"pointerover":var x=h.pointerId;return Tt.set(x,Be(Tt.get(x)||null,t,i,a,c,h)),!0;case"gotpointercapture":return x=h.pointerId,ur.set(x,Be(ur.get(x)||null,t,i,a,c,h)),!0}return!1}function Io(t){var i=ki(t.target);if(i!==null){var a=Dn(i);if(a!==null){if(i=a.tag,i===13){if(i=vi(a),i!==null){t.blockedOn=i,Ps(t.priority,function(){Se(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $r(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=ts(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Or=c,a.target.dispatchEvent(c),Or=null}else return i=$s(a),i!==null&&En(i),t.blockedOn=a,!1;i.shift()}return!0}function Fs(t,i,a){$r(t)&&a.delete(i)}function Dr(){Ls=!1,Gn!==null&&$r(Gn)&&(Gn=null),er!==null&&$r(er)&&(er=null),vr!==null&&$r(vr)&&(vr=null),Tt.forEach(Fs),ur.forEach(Fs)}function Ii(t,i){t.blockedOn===i&&(t.blockedOn=null,Ls||(Ls=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,Dr)))}function cr(t){function i(h){return Ii(h,t)}if(0<Jr.length){Ii(Jr[0],t);for(var a=1;a<Jr.length;a++){var c=Jr[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Gn!==null&&Ii(Gn,t),er!==null&&Ii(er,t),vr!==null&&Ii(vr,t),Tt.forEach(i),ur.forEach(i),a=0;a<fn.length;a++)c=fn[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<fn.length&&(a=fn[0],a.blockedOn===null);)Io(a),a.blockedOn===null&&fn.shift()}var tr=De.ReactCurrentBatchConfig,Sr=!0;function To(t,i,a,c){var h=We,x=tr.transition;tr.transition=null;try{We=1,Mr(t,i,a,c)}finally{We=h,tr.transition=x}}function Ti(t,i,a,c){var h=We,x=tr.transition;tr.transition=null;try{We=4,Mr(t,i,a,c)}finally{We=h,tr.transition=x}}function Mr(t,i,a,c){if(Sr){var h=ts(t,i,a,c);if(h===null)Hl(t,i,c,qt,a),So(t,c);else if(Qt(h,t,i,a,c))c.stopPropagation();else if(So(t,c),i&4&&-1<Oe.indexOf(t)){for(;h!==null;){var x=$s(h);if(x!==null&&es(x),x=ts(t,i,a,c),x===null&&Hl(t,i,c,qt,a),x===h)break;h=x}h!==null&&c.stopPropagation()}else Hl(t,i,c,null,a)}}var qt=null;function ts(t,i,a,c){if(qt=null,t=yi(c),t=ki(t),t!==null)if(i=Dn(t),i===null)t=null;else if(a=i.tag,a===13){if(t=vi(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return qt=t,null}function Us(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bs()){case K:return 1;case yo:return 4;case pt:case Qr:return 16;case Ao:return 536870912;default:return 16}default:return 16}}var fr=null,Vs=null,ns=null;function _o(){if(ns)return ns;var t,i=Vs,a=i.length,c,h="value"in fr?fr.value:fr.textContent,x=h.length;for(t=0;t<a&&i[t]===h[t];t++);var A=a-t;for(c=1;c<=A&&i[a-c]===h[x-c];c++);return ns=h.slice(t,1<c?1-c:void 0)}function tt(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function _i(){return!0}function Ni(){return!1}function kt(t){function i(a,c,h,x,A){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=x,this.target=A,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(a=t[R],this[R]=a?a(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?_i:Ni,this.isPropagationStopped=Ni,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),i}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H=kt(ei),Le=ae({},ei,{view:0,detail:0}),Jt=kt(Le),ti,rs,Ri,is=ae({},Le,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(ti=t.screenX-Ri.screenX,rs=t.screenY-Ri.screenY):rs=ti=0,Ri=t),ti)},movementY:function(t){return"movementY"in t?t.movementY:rs}}),No=kt(is),zs=ae({},is,{dataTransfer:0}),Vt=kt(zs),Ws=ae({},Le,{relatedTarget:0}),yt=kt(Ws),ss=ae({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),br=kt(ss),dt=ae({},ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Te=kt(dt),kl=ae({},ei,{data:0}),gt=kt(kl),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ni={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nr(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bl[t])?!!i[t]:!1}function Oi(){return nr}var Ro=ae({},Le,{key:function(t){if(t.key){var i=kr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=tt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ni[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oi,charCode:function(t){return t.type==="keypress"?tt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hs=kt(Ro),Oo=ae({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=kt(Oo),Pl=ae({},Le,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oi}),ri=kt(Pl),Xs=ae({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ll=kt(Xs),Di=ae({},is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fl=kt(Di),Ir=[9,13,27,32],ii=P&&"CompositionEvent"in window,on=null;P&&"documentMode"in document&&(on=document.documentMode);var Do=P&&"TextEvent"in window&&!on,Xn=P&&(!ii||on&&8<on&&11>=on),Mo=" ",os=!1;function bo(t,i){switch(t){case"keyup":return Ir.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function js(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dn=!1;function Ul(t,i){switch(t){case"compositionend":return js(i);case"keypress":return i.which!==32?null:(os=!0,Mo);case"textInput":return t=i.data,t===Mo&&os?null:t;default:return null}}function Ys(t,i){if(dn)return t==="compositionend"||!ii&&bo(t,i)?(t=_o(),ns=Vs=fr=null,dn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xn&&i.locale!=="ko"?null:i.data;default:return null}}var Mi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Je(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mi[t.type]:i==="textarea"}function bi(t,i,a,c){Rs(c),i=Po(i,"onChange"),0<i.length&&(a=new H("onChange","change",null,a,c),t.push({event:a,listeners:i}))}var E=null,e=null;function n(t){Su(t,0)}function r(t){var i=us(t);if(Ci(i))return t}function s(t,i){if(t==="change")return i}var o=!1;if(P){var l;if(P){var u="oninput"in document;if(!u){var f=document.createElement("div");f.setAttribute("oninput","return;"),u=typeof f.oninput=="function"}l=u}else l=!1;o=l&&(!document.documentMode||9<document.documentMode)}function d(){E&&(E.detachEvent("onpropertychange",p),e=E=null)}function p(t){if(t.propertyName==="value"&&r(e)){var i=[];bi(i,e,t,yi(t)),Ai(n,i)}}function y(t,i,a){t==="focusin"?(d(),E=i,e=a,E.attachEvent("onpropertychange",p)):t==="focusout"&&d()}function v(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r(e)}function N(t,i){if(t==="click")return r(i)}function D(t,i){if(t==="input"||t==="change")return r(i)}function b(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var L=typeof Object.is=="function"?Object.is:b;function W(t,i){if(L(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!B.call(i,h)||!L(t[h],i[h]))return!1}return!0}function te(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function re(t,i){var a=te(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=i&&c>=i)return{node:a,offset:i-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=te(a)}}function q(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?q(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function He(){for(var t=window,i=qe();i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=qe(t.document)}return i}function Pe(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Cn(t){var i=He(),a=t.focusedElem,c=t.selectionRange;if(i!==a&&a&&a.ownerDocument&&q(a.ownerDocument.documentElement,a)){if(c!==null&&Pe(a)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(t,a.value.length);else if(t=(i=a.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var h=a.textContent.length,x=Math.min(c.start,h);c=c.end===void 0?x:Math.min(c.end,h),!t.extend&&x>c&&(h=c,c=x,x=h),h=re(a,x);var A=re(a,c);h&&A&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),t.removeAllRanges(),x>c?(t.addRange(i),t.extend(A.node,A.offset)):(i.setEnd(A.node,A.offset),t.addRange(i)))}}for(i=[],t=a;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)t=i[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jn=P&&"documentMode"in document&&11>=document.documentMode,zt=null,st=null,Rt=null,hn=!1;function Br(t,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hn||zt==null||zt!==qe(c)||(c=zt,"selectionStart"in c&&Pe(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Rt&&W(Rt,c)||(Rt=c,c=Po(st,"onSelect"),0<c.length&&(i=new H("onSelect","select",null,i,a),t.push({event:i,listeners:c}),i.target=zt)))}function dr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var si={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionend:dr("Transition","TransitionEnd")},Zs={},pu={};P&&(pu=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function ko(t){if(Zs[t])return Zs[t];if(!si[t])return t;var i=si[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in pu)return Zs[t]=i[a];return t}var mu=ko("animationend"),wu=ko("animationiteration"),Eu=ko("animationstart"),Cu=ko("transitionend"),yu=new Map,Au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(t,i){yu.set(t,i),C(i,[t])}for(var Vl=0;Vl<Au.length;Vl++){var zl=Au[Vl],Pc=zl.toLowerCase(),Lc=zl[0].toUpperCase()+zl.slice(1);oi(Pc,"on"+Lc)}oi(mu,"onAnimationEnd"),oi(wu,"onAnimationIteration"),oi(Eu,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(Cu,"onTransitionEnd"),O("onMouseEnter",["mouseout","mouseover"]),O("onMouseLeave",["mouseout","mouseover"]),O("onPointerEnter",["pointerout","pointerover"]),O("onPointerLeave",["pointerout","pointerover"]),C("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),C("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),C("onBeforeInput",["compositionend","keypress","textInput","paste"]),C("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fc=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function vu(t,i,a){var c=t.type||"unknown-event";t.currentTarget=a,wn(c,i,void 0,t),t.currentTarget=null}function Su(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],h=c.event;c=c.listeners;e:{var x=void 0;if(i)for(var A=c.length-1;0<=A;A--){var R=c[A],M=R.instance,G=R.currentTarget;if(R=R.listener,M!==x&&h.isPropagationStopped())break e;vu(h,R,G),x=M}else for(A=0;A<c.length;A++){if(R=c[A],M=R.instance,G=R.currentTarget,R=R.listener,M!==x&&h.isPropagationStopped())break e;vu(h,R,G),x=M}}}if(cn)throw t=ue,cn=!1,ue=null,t}function vt(t,i){var a=i[Kl];a===void 0&&(a=i[Kl]=new Set);var c=t+"__bubble";a.has(c)||(Iu(i,t,2,!1),a.add(c))}function Wl(t,i,a){var c=0;i&&(c|=4),Iu(a,t,c,i)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Qs(t){if(!t[Bo]){t[Bo]=!0,S.forEach(function(a){a!=="selectionchange"&&(Fc.has(a)||Wl(a,!1,t),Wl(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Bo]||(i[Bo]=!0,Wl("selectionchange",!1,i))}}function Iu(t,i,a,c){switch(Us(i)){case 1:var h=To;break;case 4:h=Ti;break;default:h=Mr}a=h.bind(null,i,a,t),h=void 0,!Os||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Hl(t,i,a,c,h){var x=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var R=c.stateNode.containerInfo;if(R===h||R.nodeType===8&&R.parentNode===h)break;if(A===4)for(A=c.return;A!==null;){var M=A.tag;if((M===3||M===4)&&(M=A.stateNode.containerInfo,M===h||M.nodeType===8&&M.parentNode===h))return;A=A.return}for(;R!==null;){if(A=ki(R),A===null)return;if(M=A.tag,M===5||M===6){c=x=A;continue e}R=R.parentNode}}c=c.return}Ai(function(){var G=x,J=yi(a),ee=[];e:{var Q=yu.get(t);if(Q!==void 0){var ce=H,ge=t;switch(t){case"keypress":if(tt(a)===0)break e;case"keydown":case"keyup":ce=Hs;break;case"focusin":ge="focus",ce=yt;break;case"focusout":ge="blur",ce=yt;break;case"beforeblur":case"afterblur":ce=yt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Vt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=ri;break;case mu:case wu:case Eu:ce=br;break;case Cu:ce=Ll;break;case"scroll":ce=Jt;break;case"wheel":ce=Fl;break;case"copy":case"cut":case"paste":ce=Te;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Gs}var me=(i&4)!==0,Wt=!me&&t==="scroll",V=me?Q!==null?Q+"Capture":null:Q;me=[];for(var k=G,z;k!==null;){z=k;var ie=z.stateNode;if(z.tag===5&&ie!==null&&(z=ie,V!==null&&(ie=mn(k,V),ie!=null&&me.push(qs(k,ie,z)))),Wt)break;k=k.return}0<me.length&&(Q=new ce(Q,ge,null,a,J),ee.push({event:Q,listeners:me}))}}if(!(i&7)){e:{if(Q=t==="mouseover"||t==="pointerover",ce=t==="mouseout"||t==="pointerout",Q&&a!==Or&&(ge=a.relatedTarget||a.fromElement)&&(ki(ge)||ge[Pr]))break e;if((ce||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,ce?(ge=a.relatedTarget||a.toElement,ce=G,ge=ge?ki(ge):null,ge!==null&&(Wt=Dn(ge),ge!==Wt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(ce=null,ge=G),ce!==ge)){if(me=No,ie="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(me=Gs,ie="onPointerLeave",V="onPointerEnter",k="pointer"),Wt=ce==null?Q:us(ce),z=ge==null?Q:us(ge),Q=new me(ie,k+"leave",ce,a,J),Q.target=Wt,Q.relatedTarget=z,ie=null,ki(J)===G&&(me=new me(V,k+"enter",ge,a,J),me.target=z,me.relatedTarget=Wt,ie=me),Wt=ie,ce&&ge)t:{for(me=ce,V=ge,k=0,z=me;z;z=ls(z))k++;for(z=0,ie=V;ie;ie=ls(ie))z++;for(;0<k-z;)me=ls(me),k--;for(;0<z-k;)V=ls(V),z--;for(;k--;){if(me===V||V!==null&&me===V.alternate)break t;me=ls(me),V=ls(V)}me=null}else me=null;ce!==null&&Tu(ee,Q,ce,me,!1),ge!==null&&Wt!==null&&Tu(ee,Wt,ge,me,!0)}}e:{if(Q=G?us(G):window,ce=Q.nodeName&&Q.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Q.type==="file")var Ce=s;else if(Je(Q))if(o)Ce=D;else{Ce=v;var Ne=y}else(ce=Q.nodeName)&&ce.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(Ce=N);if(Ce&&(Ce=Ce(t,G))){bi(ee,Ce,a,J);break e}Ne&&Ne(t,Q,G),t==="focusout"&&(Ne=Q._wrapperState)&&Ne.controlled&&Q.type==="number"&&Ze(Q,"number",Q.value)}switch(Ne=G?us(G):window,t){case"focusin":(Je(Ne)||Ne.contentEditable==="true")&&(zt=Ne,st=G,Rt=null);break;case"focusout":Rt=st=zt=null;break;case"mousedown":hn=!0;break;case"contextmenu":case"mouseup":case"dragend":hn=!1,Br(ee,a,J);break;case"selectionchange":if(jn)break;case"keydown":case"keyup":Br(ee,a,J)}var Re;if(ii)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else dn?bo(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Xn&&a.locale!=="ko"&&(dn||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&dn&&(Re=_o()):(fr=J,Vs="value"in fr?fr.value:fr.textContent,dn=!0)),Ne=Po(G,ke),0<Ne.length&&(ke=new gt(ke,t,null,a,J),ee.push({event:ke,listeners:Ne}),Re?ke.data=Re:(Re=js(a),Re!==null&&(ke.data=Re)))),(Re=Do?Ul(t,a):Ys(t,a))&&(G=Po(G,"onBeforeInput"),0<G.length&&(J=new gt("onBeforeInput","beforeinput",null,a,J),ee.push({event:J,listeners:G}),J.data=Re))}Su(ee,i)})}function qs(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Po(t,i){for(var a=i+"Capture",c=[];t!==null;){var h=t,x=h.stateNode;h.tag===5&&x!==null&&(h=x,x=mn(t,a),x!=null&&c.unshift(qs(t,x,h)),x=mn(t,i),x!=null&&c.push(qs(t,x,h))),t=t.return}return c}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tu(t,i,a,c,h){for(var x=i._reactName,A=[];a!==null&&a!==c;){var R=a,M=R.alternate,G=R.stateNode;if(M!==null&&M===c)break;R.tag===5&&G!==null&&(R=G,h?(M=mn(a,x),M!=null&&A.unshift(qs(a,M,R))):h||(M=mn(a,x),M!=null&&A.push(qs(a,M,R)))),a=a.return}A.length!==0&&t.push({event:i,listeners:A})}var Uc=/\r\n?/g,Vc=/\u0000|\uFFFD/g;function _u(t){return(typeof t=="string"?t:""+t).replace(Uc,`
`).replace(Vc,"")}function Lo(t,i,a){if(i=_u(i),_u(t)!==i&&a)throw Error(g(425))}function Fo(){}var Gl=null,Xl=null;function jl(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yl=typeof setTimeout=="function"?setTimeout:void 0,zc=typeof clearTimeout=="function"?clearTimeout:void 0,Nu=typeof Promise=="function"?Promise:void 0,Wc=typeof queueMicrotask=="function"?queueMicrotask:typeof Nu<"u"?function(t){return Nu.resolve(null).then(t).catch(Hc)}:Yl;function Hc(t){setTimeout(function(){throw t})}function Zl(t,i){var a=i,c=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){t.removeChild(h),cr(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);cr(i)}function li(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Ru(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}var as=Math.random().toString(36).slice(2),Tr="__reactFiber$"+as,Js="__reactProps$"+as,Pr="__reactContainer$"+as,Kl="__reactEvents$"+as,Gc="__reactListeners$"+as,Xc="__reactHandles$"+as;function ki(t){var i=t[Tr];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Pr]||a[Tr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Ru(t);t!==null;){if(a=t[Tr])return a;t=Ru(t)}return i}t=a,a=t.parentNode}return null}function $s(t){return t=t[Tr]||t[Pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(g(33))}function Uo(t){return t[Js]||null}var Ql=[],cs=-1;function ai(t){return{current:t}}function St(t){0>cs||(t.current=Ql[cs],Ql[cs]=null,cs--)}function At(t,i){cs++,Ql[cs]=t.current,t.current=i}var ui={},yn=ai(ui),Mn=ai(!1),Bi=ui;function fs(t,i){var a=t.type.contextTypes;if(!a)return ui;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var h={},x;for(x in a)h[x]=i[x];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=h),h}function bn(t){return t=t.childContextTypes,t!=null}function Vo(){St(Mn),St(yn)}function Ou(t,i,a){if(yn.current!==ui)throw Error(g(168));At(yn,i),At(Mn,a)}function Du(t,i,a){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in i))throw Error(g(108,lt(t)||"Unknown",h));return ae({},a,c)}function zo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,Bi=yn.current,At(yn,t),At(Mn,Mn.current),!0}function Mu(t,i,a){var c=t.stateNode;if(!c)throw Error(g(169));a?(t=Du(t,i,Bi),c.__reactInternalMemoizedMergedChildContext=t,St(Mn),St(yn),At(yn,t)):St(Mn),At(Mn,a)}var Lr=null,Wo=!1,ql=!1;function bu(t){Lr===null?Lr=[t]:Lr.push(t)}function jc(t){Wo=!0,bu(t)}function ci(){if(!ql&&Lr!==null){ql=!0;var t=0,i=We;try{var a=Lr;for(We=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}Lr=null,Wo=!1}catch(h){throw Lr!==null&&(Lr=Lr.slice(t+1)),zn(K,ci),h}finally{We=i,ql=!1}}return null}var ds=[],hs=0,Ho=null,Go=0,rr=[],ir=0,Pi=null,Fr=1,Ur="";function Li(t,i){ds[hs++]=Go,ds[hs++]=Ho,Ho=t,Go=i}function ku(t,i,a){rr[ir++]=Fr,rr[ir++]=Ur,rr[ir++]=Pi,Pi=t;var c=Fr;t=Ur;var h=32-In(c)-1;c&=~(1<<h),a+=1;var x=32-In(i)+h;if(30<x){var A=h-h%5;x=(c&(1<<A)-1).toString(32),c>>=A,h-=A,Fr=1<<32-In(i)+h|a<<h|c,Ur=x+t}else Fr=1<<x|a<<h|c,Ur=t}function Jl(t){t.return!==null&&(Li(t,1),ku(t,1,0))}function $l(t){for(;t===Ho;)Ho=ds[--hs],ds[hs]=null,Go=ds[--hs],ds[hs]=null;for(;t===Pi;)Pi=rr[--ir],rr[ir]=null,Ur=rr[--ir],rr[ir]=null,Fr=rr[--ir],rr[ir]=null}var Yn=null,Zn=null,_t=!1,hr=null;function Bu(t,i){var a=ar(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=t,i=t.deletions,i===null?(t.deletions=[a],t.flags|=16):i.push(a)}function Pu(t,i){switch(t.tag){case 5:var a=t.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Yn=t,Zn=li(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Yn=t,Zn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Pi!==null?{id:Fr,overflow:Ur}:null,t.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=ar(18,null,null,0),a.stateNode=i,a.return=t,t.child=a,Yn=t,Zn=null,!0):!1;default:return!1}}function ea(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ta(t){if(_t){var i=Zn;if(i){var a=i;if(!Pu(t,i)){if(ea(t))throw Error(g(418));i=li(a.nextSibling);var c=Yn;i&&Pu(t,i)?Bu(c,a):(t.flags=t.flags&-4097|2,_t=!1,Yn=t)}}else{if(ea(t))throw Error(g(418));t.flags=t.flags&-4097|2,_t=!1,Yn=t}}}function Lu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yn=t}function Xo(t){if(t!==Yn)return!1;if(!_t)return Lu(t),_t=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!jl(t.type,t.memoizedProps)),i&&(i=Zn)){if(ea(t))throw Fu(),Error(g(418));for(;i;)Bu(t,i),i=li(i.nextSibling)}if(Lu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(g(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(i===0){Zn=li(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}t=t.nextSibling}Zn=null}}else Zn=Yn?li(t.stateNode.nextSibling):null;return!0}function Fu(){for(var t=Zn;t;)t=li(t.nextSibling)}function gs(){Zn=Yn=null,_t=!1}function na(t){hr===null?hr=[t]:hr.push(t)}var Yc=De.ReactCurrentBatchConfig;function eo(t,i,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(g(309));var c=a.stateNode}if(!c)throw Error(g(147,t));var h=c,x=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(A){var R=h.refs;A===null?delete R[x]:R[x]=A},i._stringRef=x,i)}if(typeof t!="string")throw Error(g(284));if(!a._owner)throw Error(g(290,t))}return t}function jo(t,i){throw t=Object.prototype.toString.call(i),Error(g(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Uu(t){var i=t._init;return i(t._payload)}function Vu(t){function i(V,k){if(t){var z=V.deletions;z===null?(V.deletions=[k],V.flags|=16):z.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)i(V,k),k=k.sibling;return null}function c(V,k){for(V=new Map;k!==null;)k.key!==null?V.set(k.key,k):V.set(k.index,k),k=k.sibling;return V}function h(V,k){return V=wi(V,k),V.index=0,V.sibling=null,V}function x(V,k,z){return V.index=z,t?(z=V.alternate,z!==null?(z=z.index,z<k?(V.flags|=2,k):z):(V.flags|=2,k)):(V.flags|=1048576,k)}function A(V){return t&&V.alternate===null&&(V.flags|=2),V}function R(V,k,z,ie){return k===null||k.tag!==6?(k=Ya(z,V.mode,ie),k.return=V,k):(k=h(k,z),k.return=V,k)}function M(V,k,z,ie){var Ce=z.type;return Ce===$?J(V,k,z.props.children,ie,z.key):k!==null&&(k.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===et&&Uu(Ce)===k.type)?(ie=h(k,z.props),ie.ref=eo(V,k,z),ie.return=V,ie):(ie=pl(z.type,z.key,z.props,null,V.mode,ie),ie.ref=eo(V,k,z),ie.return=V,ie)}function G(V,k,z,ie){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Za(z,V.mode,ie),k.return=V,k):(k=h(k,z.children||[]),k.return=V,k)}function J(V,k,z,ie,Ce){return k===null||k.tag!==7?(k=Xi(z,V.mode,ie,Ce),k.return=V,k):(k=h(k,z),k.return=V,k)}function ee(V,k,z){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Ya(""+k,V.mode,z),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ht:return z=pl(k.type,k.key,k.props,null,V.mode,z),z.ref=eo(V,null,k),z.return=V,z;case Fe:return k=Za(k,V.mode,z),k.return=V,k;case et:var ie=k._init;return ee(V,ie(k._payload),z)}if(Cr(k)||ye(k))return k=Xi(k,V.mode,z,null),k.return=V,k;jo(V,k)}return null}function Q(V,k,z,ie){var Ce=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return Ce!==null?null:R(V,k,""+z,ie);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Ht:return z.key===Ce?M(V,k,z,ie):null;case Fe:return z.key===Ce?G(V,k,z,ie):null;case et:return Ce=z._init,Q(V,k,Ce(z._payload),ie)}if(Cr(z)||ye(z))return Ce!==null?null:J(V,k,z,ie,null);jo(V,z)}return null}function ce(V,k,z,ie,Ce){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return V=V.get(z)||null,R(k,V,""+ie,Ce);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case Ht:return V=V.get(ie.key===null?z:ie.key)||null,M(k,V,ie,Ce);case Fe:return V=V.get(ie.key===null?z:ie.key)||null,G(k,V,ie,Ce);case et:var Ne=ie._init;return ce(V,k,z,Ne(ie._payload),Ce)}if(Cr(ie)||ye(ie))return V=V.get(z)||null,J(k,V,ie,Ce,null);jo(k,ie)}return null}function ge(V,k,z,ie){for(var Ce=null,Ne=null,Re=k,ke=k=0,un=null;Re!==null&&ke<z.length;ke++){Re.index>ke?(un=Re,Re=null):un=Re.sibling;var rt=Q(V,Re,z[ke],ie);if(rt===null){Re===null&&(Re=un);break}t&&Re&&rt.alternate===null&&i(V,Re),k=x(rt,k,ke),Ne===null?Ce=rt:Ne.sibling=rt,Ne=rt,Re=un}if(ke===z.length)return a(V,Re),_t&&Li(V,ke),Ce;if(Re===null){for(;ke<z.length;ke++)Re=ee(V,z[ke],ie),Re!==null&&(k=x(Re,k,ke),Ne===null?Ce=Re:Ne.sibling=Re,Ne=Re);return _t&&Li(V,ke),Ce}for(Re=c(V,Re);ke<z.length;ke++)un=ce(Re,V,ke,z[ke],ie),un!==null&&(t&&un.alternate!==null&&Re.delete(un.key===null?ke:un.key),k=x(un,k,ke),Ne===null?Ce=un:Ne.sibling=un,Ne=un);return t&&Re.forEach(function(Ei){return i(V,Ei)}),_t&&Li(V,ke),Ce}function me(V,k,z,ie){var Ce=ye(z);if(typeof Ce!="function")throw Error(g(150));if(z=Ce.call(z),z==null)throw Error(g(151));for(var Ne=Ce=null,Re=k,ke=k=0,un=null,rt=z.next();Re!==null&&!rt.done;ke++,rt=z.next()){Re.index>ke?(un=Re,Re=null):un=Re.sibling;var Ei=Q(V,Re,rt.value,ie);if(Ei===null){Re===null&&(Re=un);break}t&&Re&&Ei.alternate===null&&i(V,Re),k=x(Ei,k,ke),Ne===null?Ce=Ei:Ne.sibling=Ei,Ne=Ei,Re=un}if(rt.done)return a(V,Re),_t&&Li(V,ke),Ce;if(Re===null){for(;!rt.done;ke++,rt=z.next())rt=ee(V,rt.value,ie),rt!==null&&(k=x(rt,k,ke),Ne===null?Ce=rt:Ne.sibling=rt,Ne=rt);return _t&&Li(V,ke),Ce}for(Re=c(V,Re);!rt.done;ke++,rt=z.next())rt=ce(Re,V,ke,rt.value,ie),rt!==null&&(t&&rt.alternate!==null&&Re.delete(rt.key===null?ke:rt.key),k=x(rt,k,ke),Ne===null?Ce=rt:Ne.sibling=rt,Ne=rt);return t&&Re.forEach(function(I0){return i(V,I0)}),_t&&Li(V,ke),Ce}function Wt(V,k,z,ie){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Ht:e:{for(var Ce=z.key,Ne=k;Ne!==null;){if(Ne.key===Ce){if(Ce=z.type,Ce===$){if(Ne.tag===7){a(V,Ne.sibling),k=h(Ne,z.props.children),k.return=V,V=k;break e}}else if(Ne.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===et&&Uu(Ce)===Ne.type){a(V,Ne.sibling),k=h(Ne,z.props),k.ref=eo(V,Ne,z),k.return=V,V=k;break e}a(V,Ne);break}else i(V,Ne);Ne=Ne.sibling}z.type===$?(k=Xi(z.props.children,V.mode,ie,z.key),k.return=V,V=k):(ie=pl(z.type,z.key,z.props,null,V.mode,ie),ie.ref=eo(V,k,z),ie.return=V,V=ie)}return A(V);case Fe:e:{for(Ne=z.key;k!==null;){if(k.key===Ne)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(V,k.sibling),k=h(k,z.children||[]),k.return=V,V=k;break e}else{a(V,k);break}else i(V,k);k=k.sibling}k=Za(z,V.mode,ie),k.return=V,V=k}return A(V);case et:return Ne=z._init,Wt(V,k,Ne(z._payload),ie)}if(Cr(z))return ge(V,k,z,ie);if(ye(z))return me(V,k,z,ie);jo(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,k!==null&&k.tag===6?(a(V,k.sibling),k=h(k,z),k.return=V,V=k):(a(V,k),k=Ya(z,V.mode,ie),k.return=V,V=k),A(V)):a(V,k)}return Wt}var xs=Vu(!0),zu=Vu(!1),Yo=ai(null),Zo=null,ps=null,ra=null;function ia(){ra=ps=Zo=null}function sa(t){var i=Yo.current;St(Yo),t._currentValue=i}function oa(t,i,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===a)break;t=t.return}}function ms(t,i){Zo=t,ra=ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&i&&(kn=!0),t.firstContext=null)}function sr(t){var i=t._currentValue;if(ra!==t)if(t={context:t,memoizedValue:i,next:null},ps===null){if(Zo===null)throw Error(g(308));ps=t,Zo.dependencies={lanes:0,firstContext:t}}else ps=ps.next=t;return i}var Fi=null;function la(t){Fi===null?Fi=[t]:Fi.push(t)}function Wu(t,i,a,c){var h=i.interleaved;return h===null?(a.next=a,la(i)):(a.next=h.next,h.next=a),i.interleaved=a,Vr(t,c)}function Vr(t,i){t.lanes|=i;var a=t.alternate;for(a!==null&&(a.lanes|=i),a=t,t=t.return;t!==null;)t.childLanes|=i,a=t.alternate,a!==null&&(a.childLanes|=i),a=t,t=t.return;return a.tag===3?a.stateNode:null}var fi=!1;function aa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hu(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zr(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function di(t,i,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,nt&2){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,Vr(t,a)}return h=c.interleaved,h===null?(i.next=i,la(c)):(i.next=h.next,h.next=i),c.interleaved=i,Vr(t,a)}function Ko(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,bt(t,a)}}function Gu(t,i){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,x=null;if(a=a.firstBaseUpdate,a!==null){do{var A={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};x===null?h=x=A:x=x.next=A,a=a.next}while(a!==null);x===null?h=x=i:x=x.next=i}else h=x=i;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:x,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}function Qo(t,i,a,c){var h=t.updateQueue;fi=!1;var x=h.firstBaseUpdate,A=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var M=R,G=M.next;M.next=null,A===null?x=G:A.next=G,A=M;var J=t.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==A&&(R===null?J.firstBaseUpdate=G:R.next=G,J.lastBaseUpdate=M))}if(x!==null){var ee=h.baseState;A=0,J=G=M=null,R=x;do{var Q=R.lane,ce=R.eventTime;if((c&Q)===Q){J!==null&&(J=J.next={eventTime:ce,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ge=t,me=R;switch(Q=i,ce=a,me.tag){case 1:if(ge=me.payload,typeof ge=="function"){ee=ge.call(ce,ee,Q);break e}ee=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=me.payload,Q=typeof ge=="function"?ge.call(ce,ee,Q):ge,Q==null)break e;ee=ae({},ee,Q);break e;case 2:fi=!0}}R.callback!==null&&R.lane!==0&&(t.flags|=64,Q=h.effects,Q===null?h.effects=[R]:Q.push(R))}else ce={eventTime:ce,lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(G=J=ce,M=ee):J=J.next=ce,A|=Q;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;Q=R,R=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);if(J===null&&(M=ee),h.baseState=M,h.firstBaseUpdate=G,h.lastBaseUpdate=J,i=h.shared.interleaved,i!==null){h=i;do A|=h.lane,h=h.next;while(h!==i)}else x===null&&(h.shared.lanes=0);zi|=A,t.lanes=A,t.memoizedState=ee}}function Xu(t,i,a){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(g(191,h));h.call(c)}}}var to={},_r=ai(to),no=ai(to),ro=ai(to);function Ui(t){if(t===to)throw Error(g(174));return t}function ua(t,i){switch(At(ro,i),At(no,t),At(_r,to),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Qi(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=Qi(i,t)}St(_r),At(_r,i)}function ws(){St(_r),St(no),St(ro)}function ju(t){Ui(ro.current);var i=Ui(_r.current),a=Qi(i,t.type);i!==a&&(At(no,t),At(_r,a))}function ca(t){no.current===t&&(St(_r),St(no))}var Ot=ai(0);function qo(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fa=[];function da(){for(var t=0;t<fa.length;t++)fa[t]._workInProgressVersionPrimary=null;fa.length=0}var Jo=De.ReactCurrentDispatcher,ha=De.ReactCurrentBatchConfig,Vi=0,Dt=null,$t=null,ln=null,$o=!1,io=!1,so=0,Zc=0;function An(){throw Error(g(321))}function ga(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!L(t[a],i[a]))return!1;return!0}function xa(t,i,a,c,h,x){if(Vi=x,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Jo.current=t===null||t.memoizedState===null?Jc:$c,t=a(c,h),io){x=0;do{if(io=!1,so=0,25<=x)throw Error(g(301));x+=1,ln=$t=null,i.updateQueue=null,Jo.current=e0,t=a(c,h)}while(io)}if(Jo.current=nl,i=$t!==null&&$t.next!==null,Vi=0,ln=$t=Dt=null,$o=!1,i)throw Error(g(300));return t}function pa(){var t=so!==0;return so=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Dt.memoizedState=ln=t:ln=ln.next=t,ln}function or(){if($t===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var i=ln===null?Dt.memoizedState:ln.next;if(i!==null)ln=i,$t=t;else{if(t===null)throw Error(g(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},ln===null?Dt.memoizedState=ln=t:ln=ln.next=t}return ln}function oo(t,i){return typeof i=="function"?i(t):i}function ma(t){var i=or(),a=i.queue;if(a===null)throw Error(g(311));a.lastRenderedReducer=t;var c=$t,h=c.baseQueue,x=a.pending;if(x!==null){if(h!==null){var A=h.next;h.next=x.next,x.next=A}c.baseQueue=h=x,a.pending=null}if(h!==null){x=h.next,c=c.baseState;var R=A=null,M=null,G=x;do{var J=G.lane;if((Vi&J)===J)M!==null&&(M=M.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),c=G.hasEagerState?G.eagerState:t(c,G.action);else{var ee={lane:J,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};M===null?(R=M=ee,A=c):M=M.next=ee,Dt.lanes|=J,zi|=J}G=G.next}while(G!==null&&G!==x);M===null?A=c:M.next=R,L(c,i.memoizedState)||(kn=!0),i.memoizedState=c,i.baseState=A,i.baseQueue=M,a.lastRenderedState=c}if(t=a.interleaved,t!==null){h=t;do x=h.lane,Dt.lanes|=x,zi|=x,h=h.next;while(h!==t)}else h===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function wa(t){var i=or(),a=i.queue;if(a===null)throw Error(g(311));a.lastRenderedReducer=t;var c=a.dispatch,h=a.pending,x=i.memoizedState;if(h!==null){a.pending=null;var A=h=h.next;do x=t(x,A.action),A=A.next;while(A!==h);L(x,i.memoizedState)||(kn=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),a.lastRenderedState=x}return[x,c]}function Yu(){}function Zu(t,i){var a=Dt,c=or(),h=i(),x=!L(c.memoizedState,h);if(x&&(c.memoizedState=h,kn=!0),c=c.queue,Ea(qu.bind(null,a,c,t),[t]),c.getSnapshot!==i||x||ln!==null&&ln.memoizedState.tag&1){if(a.flags|=2048,lo(9,Qu.bind(null,a,c,h,i),void 0,null),an===null)throw Error(g(349));Vi&30||Ku(a,i,h)}return h}function Ku(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Dt.updateQueue,i===null?(i={lastEffect:null,stores:null},Dt.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Qu(t,i,a,c){i.value=a,i.getSnapshot=c,Ju(i)&&$u(t)}function qu(t,i,a){return a(function(){Ju(i)&&$u(t)})}function Ju(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!L(t,a)}catch{return!0}}function $u(t){var i=Vr(t,1);i!==null&&mr(i,t,1,-1)}function e1(t){var i=Nr();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:t},i.queue=t,t=t.dispatch=qc.bind(null,Dt,t),[i.memoizedState,t]}function lo(t,i,a,c){return t={tag:t,create:i,destroy:a,deps:c,next:null},i=Dt.updateQueue,i===null?(i={lastEffect:null,stores:null},Dt.updateQueue=i,i.lastEffect=t.next=t):(a=i.lastEffect,a===null?i.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,i.lastEffect=t)),t}function t1(){return or().memoizedState}function el(t,i,a,c){var h=Nr();Dt.flags|=t,h.memoizedState=lo(1|i,a,void 0,c===void 0?null:c)}function tl(t,i,a,c){var h=or();c=c===void 0?null:c;var x=void 0;if($t!==null){var A=$t.memoizedState;if(x=A.destroy,c!==null&&ga(c,A.deps)){h.memoizedState=lo(i,a,x,c);return}}Dt.flags|=t,h.memoizedState=lo(1|i,a,x,c)}function n1(t,i){return el(8390656,8,t,i)}function Ea(t,i){return tl(2048,8,t,i)}function r1(t,i){return tl(4,2,t,i)}function i1(t,i){return tl(4,4,t,i)}function s1(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function o1(t,i,a){return a=a!=null?a.concat([t]):null,tl(4,4,s1.bind(null,i,t),a)}function Ca(){}function l1(t,i){var a=or();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&ga(i,c[1])?c[0]:(a.memoizedState=[t,i],t)}function a1(t,i){var a=or();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&ga(i,c[1])?c[0]:(t=t(),a.memoizedState=[t,i],t)}function u1(t,i,a){return Vi&21?(L(a,i)||(a=Kt(),Dt.lanes|=a,zi|=a,t.baseState=!0),i):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=a)}function Kc(t,i){var a=We;We=a!==0&&4>a?a:4,t(!0);var c=ha.transition;ha.transition={};try{t(!1),i()}finally{We=a,ha.transition=c}}function c1(){return or().memoizedState}function Qc(t,i,a){var c=pi(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},f1(t))d1(i,a);else if(a=Wu(t,i,a,c),a!==null){var h=_n();mr(a,t,c,h),h1(a,i,c)}}function qc(t,i,a){var c=pi(t),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(f1(t))d1(i,h);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var A=i.lastRenderedState,R=x(A,a);if(h.hasEagerState=!0,h.eagerState=R,L(R,A)){var M=i.interleaved;M===null?(h.next=h,la(i)):(h.next=M.next,M.next=h),i.interleaved=h;return}}catch{}finally{}a=Wu(t,i,h,c),a!==null&&(h=_n(),mr(a,t,c,h),h1(a,i,c))}}function f1(t){var i=t.alternate;return t===Dt||i!==null&&i===Dt}function d1(t,i){io=$o=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function h1(t,i,a){if(a&4194240){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,bt(t,a)}}var nl={readContext:sr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},Jc={readContext:sr,useCallback:function(t,i){return Nr().memoizedState=[t,i===void 0?null:i],t},useContext:sr,useEffect:n1,useImperativeHandle:function(t,i,a){return a=a!=null?a.concat([t]):null,el(4194308,4,s1.bind(null,i,t),a)},useLayoutEffect:function(t,i){return el(4194308,4,t,i)},useInsertionEffect:function(t,i){return el(4,2,t,i)},useMemo:function(t,i){var a=Nr();return i=i===void 0?null:i,t=t(),a.memoizedState=[t,i],t},useReducer:function(t,i,a){var c=Nr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=Qc.bind(null,Dt,t),[c.memoizedState,t]},useRef:function(t){var i=Nr();return t={current:t},i.memoizedState=t},useState:e1,useDebugValue:Ca,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=e1(!1),i=t[0];return t=Kc.bind(null,t[1]),Nr().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,a){var c=Dt,h=Nr();if(_t){if(a===void 0)throw Error(g(407));a=a()}else{if(a=i(),an===null)throw Error(g(349));Vi&30||Ku(c,i,a)}h.memoizedState=a;var x={value:a,getSnapshot:i};return h.queue=x,n1(qu.bind(null,c,x,t),[t]),c.flags|=2048,lo(9,Qu.bind(null,c,x,a,i),void 0,null),a},useId:function(){var t=Nr(),i=an.identifierPrefix;if(_t){var a=Ur,c=Fr;a=(c&~(1<<32-In(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=so++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Zc++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},$c={readContext:sr,useCallback:l1,useContext:sr,useEffect:Ea,useImperativeHandle:o1,useInsertionEffect:r1,useLayoutEffect:i1,useMemo:a1,useReducer:ma,useRef:t1,useState:function(){return ma(oo)},useDebugValue:Ca,useDeferredValue:function(t){var i=or();return u1(i,$t.memoizedState,t)},useTransition:function(){var t=ma(oo)[0],i=or().memoizedState;return[t,i]},useMutableSource:Yu,useSyncExternalStore:Zu,useId:c1,unstable_isNewReconciler:!1},e0={readContext:sr,useCallback:l1,useContext:sr,useEffect:Ea,useImperativeHandle:o1,useInsertionEffect:r1,useLayoutEffect:i1,useMemo:a1,useReducer:wa,useRef:t1,useState:function(){return wa(oo)},useDebugValue:Ca,useDeferredValue:function(t){var i=or();return $t===null?i.memoizedState=t:u1(i,$t.memoizedState,t)},useTransition:function(){var t=wa(oo)[0],i=or().memoizedState;return[t,i]},useMutableSource:Yu,useSyncExternalStore:Zu,useId:c1,unstable_isNewReconciler:!1};function gr(t,i){if(t&&t.defaultProps){i=ae({},i),t=t.defaultProps;for(var a in t)i[a]===void 0&&(i[a]=t[a]);return i}return i}function ya(t,i,a,c){i=t.memoizedState,a=a(c,i),a=a==null?i:ae({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rl={isMounted:function(t){return(t=t._reactInternals)?Dn(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var c=_n(),h=pi(t),x=zr(c,h);x.payload=i,a!=null&&(x.callback=a),i=di(t,x,h),i!==null&&(mr(i,t,h,c),Ko(i,t,h))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var c=_n(),h=pi(t),x=zr(c,h);x.tag=1,x.payload=i,a!=null&&(x.callback=a),i=di(t,x,h),i!==null&&(mr(i,t,h,c),Ko(i,t,h))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=_n(),c=pi(t),h=zr(a,c);h.tag=2,i!=null&&(h.callback=i),i=di(t,h,c),i!==null&&(mr(i,t,c,a),Ko(i,t,c))}};function g1(t,i,a,c,h,x,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,x,A):i.prototype&&i.prototype.isPureReactComponent?!W(a,c)||!W(h,x):!0}function x1(t,i,a){var c=!1,h=ui,x=i.contextType;return typeof x=="object"&&x!==null?x=sr(x):(h=bn(i)?Bi:yn.current,c=i.contextTypes,x=(c=c!=null)?fs(t,h):ui),i=new i(a,x),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=rl,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=x),i}function p1(t,i,a,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==t&&rl.enqueueReplaceState(i,i.state,null)}function Aa(t,i,a,c){var h=t.stateNode;h.props=a,h.state=t.memoizedState,h.refs={},aa(t);var x=i.contextType;typeof x=="object"&&x!==null?h.context=sr(x):(x=bn(i)?Bi:yn.current,h.context=fs(t,x)),h.state=t.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(ya(t,i,x,a),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&rl.enqueueReplaceState(h,h.state,null),Qo(t,a,h,c),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,i){try{var a="",c=i;do a+=Qe(c),c=c.return;while(c);var h=a}catch(x){h=`
Error generating stack: `+x.message+`
`+x.stack}return{value:t,source:i,stack:h,digest:null}}function va(t,i,a){return{value:t,source:null,stack:a??null,digest:i??null}}function Sa(t,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var t0=typeof WeakMap=="function"?WeakMap:Map;function m1(t,i,a){a=zr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){cl||(cl=!0,Ua=c),Sa(t,i)},a}function w1(t,i,a){a=zr(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var h=i.value;a.payload=function(){return c(h)},a.callback=function(){Sa(t,i)}}var x=t.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(a.callback=function(){Sa(t,i),typeof c!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var A=i.stack;this.componentDidCatch(i.value,{componentStack:A!==null?A:""})}),a}function E1(t,i,a){var c=t.pingCache;if(c===null){c=t.pingCache=new t0;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(a)||(h.add(a),t=x0.bind(null,t,i,a),i.then(t,t))}function C1(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function y1(t,i,a,c,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===i?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=zr(-1,1),i.tag=2,di(a,i,1))),a.lanes|=1),t)}var n0=De.ReactCurrentOwner,kn=!1;function Tn(t,i,a,c){i.child=t===null?zu(i,null,a,c):xs(i,t.child,a,c)}function A1(t,i,a,c,h){a=a.render;var x=i.ref;return ms(i,h),c=xa(t,i,a,c,x,h),a=pa(),t!==null&&!kn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~h,Wr(t,i,h)):(_t&&a&&Jl(i),i.flags|=1,Tn(t,i,c,h),i.child)}function v1(t,i,a,c,h){if(t===null){var x=a.type;return typeof x=="function"&&!ja(x)&&x.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=x,S1(t,i,x,c,h)):(t=pl(a.type,null,c,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(x=t.child,!(t.lanes&h)){var A=x.memoizedProps;if(a=a.compare,a=a!==null?a:W,a(A,c)&&t.ref===i.ref)return Wr(t,i,h)}return i.flags|=1,t=wi(x,c),t.ref=i.ref,t.return=i,i.child=t}function S1(t,i,a,c,h){if(t!==null){var x=t.memoizedProps;if(W(x,c)&&t.ref===i.ref)if(kn=!1,i.pendingProps=c=x,(t.lanes&h)!==0)t.flags&131072&&(kn=!0);else return i.lanes=t.lanes,Wr(t,i,h)}return Ia(t,i,a,c,h)}function I1(t,i,a){var c=i.pendingProps,h=c.children,x=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(ys,Kn),Kn|=a;else{if(!(a&1073741824))return t=x!==null?x.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,At(ys,Kn),Kn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=x!==null?x.baseLanes:a,At(ys,Kn),Kn|=c}else x!==null?(c=x.baseLanes|a,i.memoizedState=null):c=a,At(ys,Kn),Kn|=c;return Tn(t,i,h,a),i.child}function T1(t,i){var a=i.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Ia(t,i,a,c,h){var x=bn(a)?Bi:yn.current;return x=fs(i,x),ms(i,h),a=xa(t,i,a,c,x,h),c=pa(),t!==null&&!kn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~h,Wr(t,i,h)):(_t&&c&&Jl(i),i.flags|=1,Tn(t,i,a,h),i.child)}function _1(t,i,a,c,h){if(bn(a)){var x=!0;zo(i)}else x=!1;if(ms(i,h),i.stateNode===null)sl(t,i),x1(i,a,c),Aa(i,a,c,h),c=!0;else if(t===null){var A=i.stateNode,R=i.memoizedProps;A.props=R;var M=A.context,G=a.contextType;typeof G=="object"&&G!==null?G=sr(G):(G=bn(a)?Bi:yn.current,G=fs(i,G));var J=a.getDerivedStateFromProps,ee=typeof J=="function"||typeof A.getSnapshotBeforeUpdate=="function";ee||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(R!==c||M!==G)&&p1(i,A,c,G),fi=!1;var Q=i.memoizedState;A.state=Q,Qo(i,c,A,h),M=i.memoizedState,R!==c||Q!==M||Mn.current||fi?(typeof J=="function"&&(ya(i,a,J,c),M=i.memoizedState),(R=fi||g1(i,a,R,c,Q,M,G))?(ee||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(i.flags|=4194308)):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=M),A.props=c,A.state=M,A.context=G,c=R):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{A=i.stateNode,Hu(t,i),R=i.memoizedProps,G=i.type===i.elementType?R:gr(i.type,R),A.props=G,ee=i.pendingProps,Q=A.context,M=a.contextType,typeof M=="object"&&M!==null?M=sr(M):(M=bn(a)?Bi:yn.current,M=fs(i,M));var ce=a.getDerivedStateFromProps;(J=typeof ce=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(R!==ee||Q!==M)&&p1(i,A,c,M),fi=!1,Q=i.memoizedState,A.state=Q,Qo(i,c,A,h);var ge=i.memoizedState;R!==ee||Q!==ge||Mn.current||fi?(typeof ce=="function"&&(ya(i,a,ce,c),ge=i.memoizedState),(G=fi||g1(i,a,G,c,Q,ge,M)||!1)?(J||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(c,ge,M),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(c,ge,M)),typeof A.componentDidUpdate=="function"&&(i.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof A.componentDidUpdate!="function"||R===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ge),A.props=c,A.state=ge,A.context=M,c=G):(typeof A.componentDidUpdate!="function"||R===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),c=!1)}return Ta(t,i,a,c,x,h)}function Ta(t,i,a,c,h,x){T1(t,i);var A=(i.flags&128)!==0;if(!c&&!A)return h&&Mu(i,a,!1),Wr(t,i,x);c=i.stateNode,n0.current=i;var R=A&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&A?(i.child=xs(i,t.child,null,x),i.child=xs(i,null,R,x)):Tn(t,i,R,x),i.memoizedState=c.state,h&&Mu(i,a,!0),i.child}function N1(t){var i=t.stateNode;i.pendingContext?Ou(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Ou(t,i.context,!1),ua(t,i.containerInfo)}function R1(t,i,a,c,h){return gs(),na(h),i.flags|=256,Tn(t,i,a,c),i.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function Na(t){return{baseLanes:t,cachePool:null,transitions:null}}function O1(t,i,a){var c=i.pendingProps,h=Ot.current,x=!1,A=(i.flags&128)!==0,R;if((R=A)||(R=t!==null&&t.memoizedState===null?!1:(h&2)!==0),R?(x=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),At(Ot,h&1),t===null)return ta(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(i.mode&1?t.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(A=c.children,t=c.fallback,x?(c=i.mode,x=i.child,A={mode:"hidden",children:A},!(c&1)&&x!==null?(x.childLanes=0,x.pendingProps=A):x=ml(A,c,0,null),t=Xi(t,c,a,null),x.return=i,t.return=i,x.sibling=t,i.child=x,i.child.memoizedState=Na(a),i.memoizedState=_a,t):Ra(i,A));if(h=t.memoizedState,h!==null&&(R=h.dehydrated,R!==null))return r0(t,i,A,c,R,h,a);if(x){x=c.fallback,A=i.mode,h=t.child,R=h.sibling;var M={mode:"hidden",children:c.children};return!(A&1)&&i.child!==h?(c=i.child,c.childLanes=0,c.pendingProps=M,i.deletions=null):(c=wi(h,M),c.subtreeFlags=h.subtreeFlags&14680064),R!==null?x=wi(R,x):(x=Xi(x,A,a,null),x.flags|=2),x.return=i,c.return=i,c.sibling=x,i.child=c,c=x,x=i.child,A=t.child.memoizedState,A=A===null?Na(a):{baseLanes:A.baseLanes|a,cachePool:null,transitions:A.transitions},x.memoizedState=A,x.childLanes=t.childLanes&~a,i.memoizedState=_a,c}return x=t.child,t=x.sibling,c=wi(x,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,t!==null&&(a=i.deletions,a===null?(i.deletions=[t],i.flags|=16):a.push(t)),i.child=c,i.memoizedState=null,c}function Ra(t,i){return i=ml({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function il(t,i,a,c){return c!==null&&na(c),xs(i,t.child,null,a),t=Ra(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function r0(t,i,a,c,h,x,A){if(a)return i.flags&256?(i.flags&=-257,c=va(Error(g(422))),il(t,i,A,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(x=c.fallback,h=i.mode,c=ml({mode:"visible",children:c.children},h,0,null),x=Xi(x,h,A,null),x.flags|=2,c.return=i,x.return=i,c.sibling=x,i.child=c,i.mode&1&&xs(i,t.child,null,A),i.child.memoizedState=Na(A),i.memoizedState=_a,x);if(!(i.mode&1))return il(t,i,A,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var R=c.dgst;return c=R,x=Error(g(419)),c=va(x,c,void 0),il(t,i,A,c)}if(R=(A&t.childLanes)!==0,kn||R){if(c=an,c!==null){switch(A&-A){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|A)?0:h,h!==0&&h!==x.retryLane&&(x.retryLane=h,Vr(t,h),mr(c,t,h,-1))}return Xa(),c=va(Error(g(421))),il(t,i,A,c)}return h.data==="$?"?(i.flags|=128,i.child=t.child,i=p0.bind(null,t),h._reactRetry=i,null):(t=x.treeContext,Zn=li(h.nextSibling),Yn=i,_t=!0,hr=null,t!==null&&(rr[ir++]=Fr,rr[ir++]=Ur,rr[ir++]=Pi,Fr=t.id,Ur=t.overflow,Pi=i),i=Ra(i,c.children),i.flags|=4096,i)}function D1(t,i,a){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),oa(t.return,i,a)}function Oa(t,i,a,c,h){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=a,x.tailMode=h)}function M1(t,i,a){var c=i.pendingProps,h=c.revealOrder,x=c.tail;if(Tn(t,i,c.children,a),c=Ot.current,c&2)c=c&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D1(t,a,i);else if(t.tag===19)D1(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(At(Ot,c),!(i.mode&1))i.memoizedState=null;else switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&qo(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Oa(i,!1,h,a,x);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&qo(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Oa(i,!0,a,null,x);break;case"together":Oa(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function sl(t,i){!(i.mode&1)&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function Wr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zi|=i.lanes,!(a&i.childLanes))return null;if(t!==null&&i.child!==t.child)throw Error(g(153));if(i.child!==null){for(t=i.child,a=wi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=wi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function i0(t,i,a){switch(i.tag){case 3:N1(i),gs();break;case 5:ju(i);break;case 1:bn(i.type)&&zo(i);break;case 4:ua(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,h=i.memoizedProps.value;At(Yo,c._currentValue),c._currentValue=h;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(At(Ot,Ot.current&1),i.flags|=128,null):a&i.child.childLanes?O1(t,i,a):(At(Ot,Ot.current&1),t=Wr(t,i,a),t!==null?t.sibling:null);At(Ot,Ot.current&1);break;case 19:if(c=(a&i.childLanes)!==0,t.flags&128){if(c)return M1(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),At(Ot,Ot.current),c)break;return null;case 22:case 23:return i.lanes=0,I1(t,i,a)}return Wr(t,i,a)}var b1,Da,k1,B1;b1=function(t,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Da=function(){},k1=function(t,i,a,c){var h=t.memoizedProps;if(h!==c){t=i.stateNode,Ui(_r.current);var x=null;switch(a){case"input":h=Er(t,h),c=Er(t,c),x=[];break;case"select":h=ae({},h,{value:void 0}),c=ae({},c,{value:void 0}),x=[];break;case"textarea":h=Yr(t,h),c=Yr(t,c),x=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Fo)}it(a,c);var A;a=null;for(G in h)if(!c.hasOwnProperty(G)&&h.hasOwnProperty(G)&&h[G]!=null)if(G==="style"){var R=h[G];for(A in R)R.hasOwnProperty(A)&&(a||(a={}),a[A]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(I.hasOwnProperty(G)?x||(x=[]):(x=x||[]).push(G,null));for(G in c){var M=c[G];if(R=h!=null?h[G]:void 0,c.hasOwnProperty(G)&&M!==R&&(M!=null||R!=null))if(G==="style")if(R){for(A in R)!R.hasOwnProperty(A)||M&&M.hasOwnProperty(A)||(a||(a={}),a[A]="");for(A in M)M.hasOwnProperty(A)&&R[A]!==M[A]&&(a||(a={}),a[A]=M[A])}else a||(x||(x=[]),x.push(G,a)),a=M;else G==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,R=R?R.__html:void 0,M!=null&&R!==M&&(x=x||[]).push(G,M)):G==="children"?typeof M!="string"&&typeof M!="number"||(x=x||[]).push(G,""+M):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(I.hasOwnProperty(G)?(M!=null&&G==="onScroll"&&vt("scroll",t),x||R===M||(x=[])):(x=x||[]).push(G,M))}a&&(x=x||[]).push("style",a);var G=x;(i.updateQueue=G)&&(i.flags|=4)}},B1=function(t,i,a,c){a!==c&&(i.flags|=4)};function ao(t,i){if(!_t)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function vn(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=a,i}function s0(t,i,a){var c=i.pendingProps;switch($l(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(i),null;case 1:return bn(i.type)&&Vo(),vn(i),null;case 3:return c=i.stateNode,ws(),St(Mn),St(yn),da(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Xo(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,hr!==null&&(Wa(hr),hr=null))),Da(t,i),vn(i),null;case 5:ca(i);var h=Ui(ro.current);if(a=i.type,t!==null&&i.stateNode!=null)k1(t,i,a,c,h),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(g(166));return vn(i),null}if(t=Ui(_r.current),Xo(i)){c=i.stateNode,a=i.type;var x=i.memoizedProps;switch(c[Tr]=i,c[Js]=x,t=(i.mode&1)!==0,a){case"dialog":vt("cancel",c),vt("close",c);break;case"iframe":case"object":case"embed":vt("load",c);break;case"video":case"audio":for(h=0;h<Ks.length;h++)vt(Ks[h],c);break;case"source":vt("error",c);break;case"img":case"image":case"link":vt("error",c),vt("load",c);break;case"details":vt("toggle",c);break;case"input":Fn(c,x),vt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!x.multiple},vt("invalid",c);break;case"textarea":_s(c,x),vt("invalid",c)}it(a,x),h=null;for(var A in x)if(x.hasOwnProperty(A)){var R=x[A];A==="children"?typeof R=="string"?c.textContent!==R&&(x.suppressHydrationWarning!==!0&&Lo(c.textContent,R,t),h=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(x.suppressHydrationWarning!==!0&&Lo(c.textContent,R,t),h=["children",""+R]):I.hasOwnProperty(A)&&R!=null&&A==="onScroll"&&vt("scroll",c)}switch(a){case"input":Yt(c),ft(c,x,!0);break;case"textarea":Yt(c),Ki(c);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(c.onclick=Fo)}c=h,i.updateQueue=c,c!==null&&(i.flags|=4)}else{A=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nn(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=A.createElement(a,{is:c.is}):(t=A.createElement(a),a==="select"&&(A=t,c.multiple?A.multiple=!0:c.size&&(A.size=c.size))):t=A.createElementNS(t,a),t[Tr]=i,t[Js]=c,b1(t,i,!1,!1),i.stateNode=t;e:{switch(A=wt(a,c),a){case"dialog":vt("cancel",t),vt("close",t),h=c;break;case"iframe":case"object":case"embed":vt("load",t),h=c;break;case"video":case"audio":for(h=0;h<Ks.length;h++)vt(Ks[h],t);h=c;break;case"source":vt("error",t),h=c;break;case"img":case"image":case"link":vt("error",t),vt("load",t),h=c;break;case"details":vt("toggle",t),h=c;break;case"input":Fn(t,c),h=Er(t,c),vt("invalid",t);break;case"option":h=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},h=ae({},c,{value:void 0}),vt("invalid",t);break;case"textarea":_s(t,c),h=Yr(t,c),vt("invalid",t);break;default:h=c}it(a,h),R=h;for(x in R)if(R.hasOwnProperty(x)){var M=R[x];x==="style"?oe(t,M):x==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&rn(t,M)):x==="children"?typeof M=="string"?(a!=="textarea"||M!=="")&&Zr(t,M):typeof M=="number"&&Zr(t,""+M):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(I.hasOwnProperty(x)?M!=null&&x==="onScroll"&&vt("scroll",t):M!=null&&Ee(t,x,M,A))}switch(a){case"input":Yt(t),ft(t,c,!1);break;case"textarea":Yt(t),Ki(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Me(c.value));break;case"select":t.multiple=!!c.multiple,x=c.value,x!=null?fe(t,!!c.multiple,x,!1):c.defaultValue!=null&&fe(t,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Fo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return vn(i),null;case 6:if(t&&i.stateNode!=null)B1(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(g(166));if(a=Ui(ro.current),Ui(_r.current),Xo(i)){if(c=i.stateNode,a=i.memoizedProps,c[Tr]=i,(x=c.nodeValue!==a)&&(t=Yn,t!==null))switch(t.tag){case 3:Lo(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lo(c.nodeValue,a,(t.mode&1)!==0)}x&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Tr]=i,i.stateNode=c}return vn(i),null;case 13:if(St(Ot),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_t&&Zn!==null&&i.mode&1&&!(i.flags&128))Fu(),gs(),i.flags|=98560,x=!1;else if(x=Xo(i),c!==null&&c.dehydrated!==null){if(t===null){if(!x)throw Error(g(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(g(317));x[Tr]=i}else gs(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;vn(i),x=!1}else hr!==null&&(Wa(hr),hr=null),x=!0;if(!x)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(t===null||Ot.current&1?en===0&&(en=3):Xa())),i.updateQueue!==null&&(i.flags|=4),vn(i),null);case 4:return ws(),Da(t,i),t===null&&Qs(i.stateNode.containerInfo),vn(i),null;case 10:return sa(i.type._context),vn(i),null;case 17:return bn(i.type)&&Vo(),vn(i),null;case 19:if(St(Ot),x=i.memoizedState,x===null)return vn(i),null;if(c=(i.flags&128)!==0,A=x.rendering,A===null)if(c)ao(x,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(A=qo(t),A!==null){for(i.flags|=128,ao(x,!1),c=A.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)x=a,t=c,x.flags&=14680066,A=x.alternate,A===null?(x.childLanes=0,x.lanes=t,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=A.childLanes,x.lanes=A.lanes,x.child=A.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=A.memoizedProps,x.memoizedState=A.memoizedState,x.updateQueue=A.updateQueue,x.type=A.type,t=A.dependencies,x.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return At(Ot,Ot.current&1|2),i.child}t=t.sibling}x.tail!==null&&ut()>As&&(i.flags|=128,c=!0,ao(x,!1),i.lanes=4194304)}else{if(!c)if(t=qo(A),t!==null){if(i.flags|=128,c=!0,a=t.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ao(x,!0),x.tail===null&&x.tailMode==="hidden"&&!A.alternate&&!_t)return vn(i),null}else 2*ut()-x.renderingStartTime>As&&a!==1073741824&&(i.flags|=128,c=!0,ao(x,!1),i.lanes=4194304);x.isBackwards?(A.sibling=i.child,i.child=A):(a=x.last,a!==null?a.sibling=A:i.child=A,x.last=A)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=ut(),i.sibling=null,a=Ot.current,At(Ot,c?a&1|2:a&1),i):(vn(i),null);case 22:case 23:return Ga(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?Kn&1073741824&&(vn(i),i.subtreeFlags&6&&(i.flags|=8192)):vn(i),null;case 24:return null;case 25:return null}throw Error(g(156,i.tag))}function o0(t,i){switch($l(i),i.tag){case 1:return bn(i.type)&&Vo(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ws(),St(Mn),St(yn),da(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 5:return ca(i),null;case 13:if(St(Ot),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(g(340));gs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return St(Ot),null;case 4:return ws(),null;case 10:return sa(i.type._context),null;case 22:case 23:return Ga(),null;case 24:return null;default:return null}}var ol=!1,Sn=!1,l0=typeof WeakSet=="function"?WeakSet:Set,he=null;function Cs(t,i){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Bt(t,i,c)}else a.current=null}function Ma(t,i,a){try{a()}catch(c){Bt(t,i,c)}}var P1=!1;function a0(t,i){if(Gl=Sr,t=He(),Pe(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var A=0,R=-1,M=-1,G=0,J=0,ee=t,Q=null;t:for(;;){for(var ce;ee!==a||h!==0&&ee.nodeType!==3||(R=A+h),ee!==x||c!==0&&ee.nodeType!==3||(M=A+c),ee.nodeType===3&&(A+=ee.nodeValue.length),(ce=ee.firstChild)!==null;)Q=ee,ee=ce;for(;;){if(ee===t)break t;if(Q===a&&++G===h&&(R=A),Q===x&&++J===c&&(M=A),(ce=ee.nextSibling)!==null)break;ee=Q,Q=ee.parentNode}ee=ce}a=R===-1||M===-1?null:{start:R,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xl={focusedElem:t,selectionRange:a},Sr=!1,he=i;he!==null;)if(i=he,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,he=t;else for(;he!==null;){i=he;try{var ge=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var me=ge.memoizedProps,Wt=ge.memoizedState,V=i.stateNode,k=V.getSnapshotBeforeUpdate(i.elementType===i.type?me:gr(i.type,me),Wt);V.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(g(163))}}catch(ie){Bt(i,i.return,ie)}if(t=i.sibling,t!==null){t.return=i.return,he=t;break}he=i.return}return ge=P1,P1=!1,ge}function uo(t,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&t)===t){var x=h.destroy;h.destroy=void 0,x!==void 0&&Ma(i,a,x)}h=h.next}while(h!==c)}}function ll(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function ba(t){var i=t.ref;if(i!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof i=="function"?i(t):i.current=t}}function L1(t){var i=t.alternate;i!==null&&(t.alternate=null,L1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Tr],delete i[Js],delete i[Kl],delete i[Gc],delete i[Xc])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F1(t){return t.tag===5||t.tag===3||t.tag===4}function U1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ka(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fo));else if(c!==4&&(t=t.child,t!==null))for(ka(t,i,a),t=t.sibling;t!==null;)ka(t,i,a),t=t.sibling}function Ba(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Ba(t,i,a),t=t.sibling;t!==null;)Ba(t,i,a),t=t.sibling}var gn=null,xr=!1;function hi(t,i,a){for(a=a.child;a!==null;)V1(t,i,a),a=a.sibling}function V1(t,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount($e,a)}catch{}switch(a.tag){case 5:Sn||Cs(a,i);case 6:var c=gn,h=xr;gn=null,hi(t,i,a),gn=c,xr=h,gn!==null&&(xr?(t=gn,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):gn.removeChild(a.stateNode));break;case 18:gn!==null&&(xr?(t=gn,a=a.stateNode,t.nodeType===8?Zl(t.parentNode,a):t.nodeType===1&&Zl(t,a),cr(t)):Zl(gn,a.stateNode));break;case 4:c=gn,h=xr,gn=a.stateNode.containerInfo,xr=!0,hi(t,i,a),gn=c,xr=h;break;case 0:case 11:case 14:case 15:if(!Sn&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var x=h,A=x.destroy;x=x.tag,A!==void 0&&(x&2||x&4)&&Ma(a,i,A),h=h.next}while(h!==c)}hi(t,i,a);break;case 1:if(!Sn&&(Cs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){Bt(a,i,R)}hi(t,i,a);break;case 21:hi(t,i,a);break;case 22:a.mode&1?(Sn=(c=Sn)||a.memoizedState!==null,hi(t,i,a),Sn=c):hi(t,i,a);break;default:hi(t,i,a)}}function z1(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new l0),i.forEach(function(c){var h=m0.bind(null,t,c);a.has(c)||(a.add(c),c.then(h,h))})}}function pr(t,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var x=t,A=i,R=A;e:for(;R!==null;){switch(R.tag){case 5:gn=R.stateNode,xr=!1;break e;case 3:gn=R.stateNode.containerInfo,xr=!0;break e;case 4:gn=R.stateNode.containerInfo,xr=!0;break e}R=R.return}if(gn===null)throw Error(g(160));V1(x,A,h),gn=null,xr=!1;var M=h.alternate;M!==null&&(M.return=null),h.return=null}catch(G){Bt(h,i,G)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)W1(i,t),i=i.sibling}function W1(t,i){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pr(i,t),Rr(t),c&4){try{uo(3,t,t.return),ll(3,t)}catch(me){Bt(t,t.return,me)}try{uo(5,t,t.return)}catch(me){Bt(t,t.return,me)}}break;case 1:pr(i,t),Rr(t),c&512&&a!==null&&Cs(a,a.return);break;case 5:if(pr(i,t),Rr(t),c&512&&a!==null&&Cs(a,a.return),t.flags&32){var h=t.stateNode;try{Zr(h,"")}catch(me){Bt(t,t.return,me)}}if(c&4&&(h=t.stateNode,h!=null)){var x=t.memoizedProps,A=a!==null?a.memoizedProps:x,R=t.type,M=t.updateQueue;if(t.updateQueue=null,M!==null)try{R==="input"&&x.type==="radio"&&x.name!=null&&jr(h,x),wt(R,A);var G=wt(R,x);for(A=0;A<M.length;A+=2){var J=M[A],ee=M[A+1];J==="style"?oe(h,ee):J==="dangerouslySetInnerHTML"?rn(h,ee):J==="children"?Zr(h,ee):Ee(h,J,ee,G)}switch(R){case"input":Lt(h,x);break;case"textarea":qn(h,x);break;case"select":var Q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!x.multiple;var ce=x.value;ce!=null?fe(h,!!x.multiple,ce,!1):Q!==!!x.multiple&&(x.defaultValue!=null?fe(h,!!x.multiple,x.defaultValue,!0):fe(h,!!x.multiple,x.multiple?[]:"",!1))}h[Js]=x}catch(me){Bt(t,t.return,me)}}break;case 6:if(pr(i,t),Rr(t),c&4){if(t.stateNode===null)throw Error(g(162));h=t.stateNode,x=t.memoizedProps;try{h.nodeValue=x}catch(me){Bt(t,t.return,me)}}break;case 3:if(pr(i,t),Rr(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{cr(i.containerInfo)}catch(me){Bt(t,t.return,me)}break;case 4:pr(i,t),Rr(t);break;case 13:pr(i,t),Rr(t),h=t.child,h.flags&8192&&(x=h.memoizedState!==null,h.stateNode.isHidden=x,!x||h.alternate!==null&&h.alternate.memoizedState!==null||(Fa=ut())),c&4&&z1(t);break;case 22:if(J=a!==null&&a.memoizedState!==null,t.mode&1?(Sn=(G=Sn)||J,pr(i,t),Sn=G):pr(i,t),Rr(t),c&8192){if(G=t.memoizedState!==null,(t.stateNode.isHidden=G)&&!J&&t.mode&1)for(he=t,J=t.child;J!==null;){for(ee=he=J;he!==null;){switch(Q=he,ce=Q.child,Q.tag){case 0:case 11:case 14:case 15:uo(4,Q,Q.return);break;case 1:Cs(Q,Q.return);var ge=Q.stateNode;if(typeof ge.componentWillUnmount=="function"){c=Q,a=Q.return;try{i=c,ge.props=i.memoizedProps,ge.state=i.memoizedState,ge.componentWillUnmount()}catch(me){Bt(c,a,me)}}break;case 5:Cs(Q,Q.return);break;case 22:if(Q.memoizedState!==null){X1(ee);continue}}ce!==null?(ce.return=Q,he=ce):X1(ee)}J=J.sibling}e:for(J=null,ee=t;;){if(ee.tag===5){if(J===null){J=ee;try{h=ee.stateNode,G?(x=h.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(R=ee.stateNode,M=ee.memoizedProps.style,A=M!=null&&M.hasOwnProperty("display")?M.display:null,R.style.display=Nt("display",A))}catch(me){Bt(t,t.return,me)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=G?"":ee.memoizedProps}catch(me){Bt(t,t.return,me)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===t)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===t)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===t)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:pr(i,t),Rr(t),c&4&&z1(t);break;case 21:break;default:pr(i,t),Rr(t)}}function Rr(t){var i=t.flags;if(i&2){try{e:{for(var a=t.return;a!==null;){if(F1(a)){var c=a;break e}a=a.return}throw Error(g(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Zr(h,""),c.flags&=-33);var x=U1(t);Ba(t,x,h);break;case 3:case 4:var A=c.stateNode.containerInfo,R=U1(t);ka(t,R,A);break;default:throw Error(g(161))}}catch(M){Bt(t,t.return,M)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function u0(t,i,a){he=t,H1(t)}function H1(t,i,a){for(var c=(t.mode&1)!==0;he!==null;){var h=he,x=h.child;if(h.tag===22&&c){var A=h.memoizedState!==null||ol;if(!A){var R=h.alternate,M=R!==null&&R.memoizedState!==null||Sn;R=ol;var G=Sn;if(ol=A,(Sn=M)&&!G)for(he=h;he!==null;)A=he,M=A.child,A.tag===22&&A.memoizedState!==null?j1(h):M!==null?(M.return=A,he=M):j1(h);for(;x!==null;)he=x,H1(x),x=x.sibling;he=h,ol=R,Sn=G}G1(t)}else h.subtreeFlags&8772&&x!==null?(x.return=h,he=x):G1(t)}}function G1(t){for(;he!==null;){var i=he;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Sn||ll(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Sn)if(a===null)c.componentDidMount();else{var h=i.elementType===i.type?a.memoizedProps:gr(i.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&Xu(i,x,c);break;case 3:var A=i.updateQueue;if(A!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Xu(i,A,a)}break;case 5:var R=i.stateNode;if(a===null&&i.flags&4){a=R;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&a.focus();break;case"img":M.src&&(a.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var G=i.alternate;if(G!==null){var J=G.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&cr(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(g(163))}Sn||i.flags&512&&ba(i)}catch(Q){Bt(i,i.return,Q)}}if(i===t){he=null;break}if(a=i.sibling,a!==null){a.return=i.return,he=a;break}he=i.return}}function X1(t){for(;he!==null;){var i=he;if(i===t){he=null;break}var a=i.sibling;if(a!==null){a.return=i.return,he=a;break}he=i.return}}function j1(t){for(;he!==null;){var i=he;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{ll(4,i)}catch(M){Bt(i,a,M)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var h=i.return;try{c.componentDidMount()}catch(M){Bt(i,h,M)}}var x=i.return;try{ba(i)}catch(M){Bt(i,x,M)}break;case 5:var A=i.return;try{ba(i)}catch(M){Bt(i,A,M)}}}catch(M){Bt(i,i.return,M)}if(i===t){he=null;break}var R=i.sibling;if(R!==null){R.return=i.return,he=R;break}he=i.return}}var c0=Math.ceil,al=De.ReactCurrentDispatcher,Pa=De.ReactCurrentOwner,lr=De.ReactCurrentBatchConfig,nt=0,an=null,Xt=null,xn=0,Kn=0,ys=ai(0),en=0,co=null,zi=0,ul=0,La=0,fo=null,Bn=null,Fa=0,As=1/0,Hr=null,cl=!1,Ua=null,gi=null,fl=!1,xi=null,dl=0,ho=0,Va=null,hl=-1,gl=0;function _n(){return nt&6?ut():hl!==-1?hl:hl=ut()}function pi(t){return t.mode&1?nt&2&&xn!==0?xn&-xn:Yc.transition!==null?(gl===0&&(gl=Kt()),gl):(t=We,t!==0||(t=window.event,t=t===void 0?16:Us(t.type)),t):1}function mr(t,i,a,c){if(50<ho)throw ho=0,Va=null,Error(g(185));_(t,a,c),(!(nt&2)||t!==an)&&(t===an&&(!(nt&2)&&(ul|=a),en===4&&mi(t,xn)),Pn(t,c),a===1&&nt===0&&!(i.mode&1)&&(As=ut()+500,Wo&&ci()))}function Pn(t,i){var a=t.callbackNode;qr(t,i);var c=Hn(t,t===an?xn:0);if(c===0)a!==null&&sn(a),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(a!=null&&sn(a),i===1)t.tag===0?jc(Z1.bind(null,t)):bu(Z1.bind(null,t)),Wc(function(){!(nt&6)&&ci()}),a=null;else{switch(vo(c)){case 1:a=K;break;case 4:a=yo;break;case 16:a=pt;break;case 536870912:a=Ao;break;default:a=pt}a=nc(a,Y1.bind(null,t))}t.callbackPriority=i,t.callbackNode=a}}function Y1(t,i){if(hl=-1,gl=0,nt&6)throw Error(g(327));var a=t.callbackNode;if(vs()&&t.callbackNode!==a)return null;var c=Hn(t,t===an?xn:0);if(c===0)return null;if(c&30||c&t.expiredLanes||i)i=xl(t,c);else{i=c;var h=nt;nt|=2;var x=Q1();(an!==t||xn!==i)&&(Hr=null,As=ut()+500,Hi(t,i));do try{h0();break}catch(R){K1(t,R)}while(!0);ia(),al.current=x,nt=h,Xt!==null?i=0:(an=null,xn=0,i=en)}if(i!==0){if(i===2&&(h=ct(t),h!==0&&(c=h,i=za(t,h))),i===1)throw a=co,Hi(t,0),mi(t,c),Pn(t,ut()),a;if(i===6)mi(t,c);else{if(h=t.current.alternate,!(c&30)&&!f0(h)&&(i=xl(t,c),i===2&&(x=ct(t),x!==0&&(c=x,i=za(t,x))),i===1))throw a=co,Hi(t,0),mi(t,c),Pn(t,ut()),a;switch(t.finishedWork=h,t.finishedLanes=c,i){case 0:case 1:throw Error(g(345));case 2:Gi(t,Bn,Hr);break;case 3:if(mi(t,c),(c&130023424)===c&&(i=Fa+500-ut(),10<i)){if(Hn(t,0)!==0)break;if(h=t.suspendedLanes,(h&c)!==c){_n(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Yl(Gi.bind(null,t,Bn,Hr),i);break}Gi(t,Bn,Hr);break;case 4:if(mi(t,c),(c&4194240)===c)break;for(i=t.eventTimes,h=-1;0<c;){var A=31-In(c);x=1<<A,A=i[A],A>h&&(h=A),c&=~x}if(c=h,c=ut()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*c0(c/1960))-c,10<c){t.timeoutHandle=Yl(Gi.bind(null,t,Bn,Hr),c);break}Gi(t,Bn,Hr);break;case 5:Gi(t,Bn,Hr);break;default:throw Error(g(329))}}}return Pn(t,ut()),t.callbackNode===a?Y1.bind(null,t):null}function za(t,i){var a=fo;return t.current.memoizedState.isDehydrated&&(Hi(t,i).flags|=256),t=xl(t,i),t!==2&&(i=Bn,Bn=a,i!==null&&Wa(i)),t}function Wa(t){Bn===null?Bn=t:Bn.push.apply(Bn,t)}function f0(t){for(var i=t;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],x=h.getSnapshot;h=h.value;try{if(!L(x(),h))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mi(t,i){for(i&=~La,i&=~ul,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var a=31-In(i),c=1<<a;t[a]=-1,i&=~c}}function Z1(t){if(nt&6)throw Error(g(327));vs();var i=Hn(t,0);if(!(i&1))return Pn(t,ut()),null;var a=xl(t,i);if(t.tag!==0&&a===2){var c=ct(t);c!==0&&(i=c,a=za(t,c))}if(a===1)throw a=co,Hi(t,0),mi(t,i),Pn(t,ut()),a;if(a===6)throw Error(g(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,Gi(t,Bn,Hr),Pn(t,ut()),null}function Ha(t,i){var a=nt;nt|=1;try{return t(i)}finally{nt=a,nt===0&&(As=ut()+500,Wo&&ci())}}function Wi(t){xi!==null&&xi.tag===0&&!(nt&6)&&vs();var i=nt;nt|=1;var a=lr.transition,c=We;try{if(lr.transition=null,We=1,t)return t()}finally{We=c,lr.transition=a,nt=i,!(nt&6)&&ci()}}function Ga(){Kn=ys.current,St(ys)}function Hi(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,zc(a)),Xt!==null)for(a=Xt.return;a!==null;){var c=a;switch($l(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Vo();break;case 3:ws(),St(Mn),St(yn),da();break;case 5:ca(c);break;case 4:ws();break;case 13:St(Ot);break;case 19:St(Ot);break;case 10:sa(c.type._context);break;case 22:case 23:Ga()}a=a.return}if(an=t,Xt=t=wi(t.current,null),xn=Kn=i,en=0,co=null,La=ul=zi=0,Bn=fo=null,Fi!==null){for(i=0;i<Fi.length;i++)if(a=Fi[i],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,x=a.pending;if(x!==null){var A=x.next;x.next=h,c.next=A}a.pending=c}Fi=null}return t}function K1(t,i){do{var a=Xt;try{if(ia(),Jo.current=nl,$o){for(var c=Dt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}$o=!1}if(Vi=0,ln=$t=Dt=null,io=!1,so=0,Pa.current=null,a===null||a.return===null){en=1,co=i,Xt=null;break}e:{var x=t,A=a.return,R=a,M=i;if(i=xn,R.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=M,J=R,ee=J.tag;if(!(J.mode&1)&&(ee===0||ee===11||ee===15)){var Q=J.alternate;Q?(J.updateQueue=Q.updateQueue,J.memoizedState=Q.memoizedState,J.lanes=Q.lanes):(J.updateQueue=null,J.memoizedState=null)}var ce=C1(A);if(ce!==null){ce.flags&=-257,y1(ce,A,R,x,i),ce.mode&1&&E1(x,G,i),i=ce,M=G;var ge=i.updateQueue;if(ge===null){var me=new Set;me.add(M),i.updateQueue=me}else ge.add(M);break e}else{if(!(i&1)){E1(x,G,i),Xa();break e}M=Error(g(426))}}else if(_t&&R.mode&1){var Wt=C1(A);if(Wt!==null){!(Wt.flags&65536)&&(Wt.flags|=256),y1(Wt,A,R,x,i),na(Es(M,R));break e}}x=M=Es(M,R),en!==4&&(en=2),fo===null?fo=[x]:fo.push(x),x=A;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var V=m1(x,M,i);Gu(x,V);break e;case 1:R=M;var k=x.type,z=x.stateNode;if(!(x.flags&128)&&(typeof k.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(gi===null||!gi.has(z)))){x.flags|=65536,i&=-i,x.lanes|=i;var ie=w1(x,R,i);Gu(x,ie);break e}}x=x.return}while(x!==null)}J1(a)}catch(Ce){i=Ce,Xt===a&&a!==null&&(Xt=a=a.return);continue}break}while(!0)}function Q1(){var t=al.current;return al.current=nl,t===null?nl:t}function Xa(){(en===0||en===3||en===2)&&(en=4),an===null||!(zi&268435455)&&!(ul&268435455)||mi(an,xn)}function xl(t,i){var a=nt;nt|=2;var c=Q1();(an!==t||xn!==i)&&(Hr=null,Hi(t,i));do try{d0();break}catch(h){K1(t,h)}while(!0);if(ia(),nt=a,al.current=c,Xt!==null)throw Error(g(261));return an=null,xn=0,en}function d0(){for(;Xt!==null;)q1(Xt)}function h0(){for(;Xt!==null&&!Et();)q1(Xt)}function q1(t){var i=tc(t.alternate,t,Kn);t.memoizedProps=t.pendingProps,i===null?J1(t):Xt=i,Pa.current=null}function J1(t){var i=t;do{var a=i.alternate;if(t=i.return,i.flags&32768){if(a=o0(a,i),a!==null){a.flags&=32767,Xt=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,Xt=null;return}}else if(a=s0(a,i,Kn),a!==null){Xt=a;return}if(i=i.sibling,i!==null){Xt=i;return}Xt=i=t}while(i!==null);en===0&&(en=5)}function Gi(t,i,a){var c=We,h=lr.transition;try{lr.transition=null,We=1,g0(t,i,a,c)}finally{lr.transition=h,We=c}return null}function g0(t,i,a,c){do vs();while(xi!==null);if(nt&6)throw Error(g(327));a=t.finishedWork;var h=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(g(177));t.callbackNode=null,t.callbackPriority=0;var x=a.lanes|a.childLanes;if(Ae(t,x),t===an&&(Xt=an=null,xn=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||fl||(fl=!0,nc(pt,function(){return vs(),null})),x=(a.flags&15990)!==0,a.subtreeFlags&15990||x){x=lr.transition,lr.transition=null;var A=We;We=1;var R=nt;nt|=4,Pa.current=null,a0(t,a),W1(a,t),Cn(Xl),Sr=!!Gl,Xl=Gl=null,t.current=a,u0(a),Co(),nt=R,We=A,lr.transition=x}else t.current=a;if(fl&&(fl=!1,xi=t,dl=h),x=t.pendingLanes,x===0&&(gi=null),Ke(a.stateNode),Pn(t,ut()),i!==null)for(c=t.onRecoverableError,a=0;a<i.length;a++)h=i[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(cl)throw cl=!1,t=Ua,Ua=null,t;return dl&1&&t.tag!==0&&vs(),x=t.pendingLanes,x&1?t===Va?ho++:(ho=0,Va=t):ho=0,ci(),null}function vs(){if(xi!==null){var t=vo(dl),i=lr.transition,a=We;try{if(lr.transition=null,We=16>t?16:t,xi===null)var c=!1;else{if(t=xi,xi=null,dl=0,nt&6)throw Error(g(331));var h=nt;for(nt|=4,he=t.current;he!==null;){var x=he,A=x.child;if(he.flags&16){var R=x.deletions;if(R!==null){for(var M=0;M<R.length;M++){var G=R[M];for(he=G;he!==null;){var J=he;switch(J.tag){case 0:case 11:case 15:uo(8,J,x)}var ee=J.child;if(ee!==null)ee.return=J,he=ee;else for(;he!==null;){J=he;var Q=J.sibling,ce=J.return;if(L1(J),J===G){he=null;break}if(Q!==null){Q.return=ce,he=Q;break}he=ce}}}var ge=x.alternate;if(ge!==null){var me=ge.child;if(me!==null){ge.child=null;do{var Wt=me.sibling;me.sibling=null,me=Wt}while(me!==null)}}he=x}}if(x.subtreeFlags&2064&&A!==null)A.return=x,he=A;else e:for(;he!==null;){if(x=he,x.flags&2048)switch(x.tag){case 0:case 11:case 15:uo(9,x,x.return)}var V=x.sibling;if(V!==null){V.return=x.return,he=V;break e}he=x.return}}var k=t.current;for(he=k;he!==null;){A=he;var z=A.child;if(A.subtreeFlags&2064&&z!==null)z.return=A,he=z;else e:for(A=k;he!==null;){if(R=he,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:ll(9,R)}}catch(Ce){Bt(R,R.return,Ce)}if(R===A){he=null;break e}var ie=R.sibling;if(ie!==null){ie.return=R.return,he=ie;break e}he=R.return}}if(nt=h,ci(),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot($e,t)}catch{}c=!0}return c}finally{We=a,lr.transition=i}}return!1}function $1(t,i,a){i=Es(a,i),i=m1(t,i,1),t=di(t,i,1),i=_n(),t!==null&&(_(t,1,i),Pn(t,i))}function Bt(t,i,a){if(t.tag===3)$1(t,t,a);else for(;i!==null;){if(i.tag===3){$1(i,t,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gi===null||!gi.has(c))){t=Es(a,t),t=w1(i,t,1),i=di(i,t,1),t=_n(),i!==null&&(_(i,1,t),Pn(i,t));break}}i=i.return}}function x0(t,i,a){var c=t.pingCache;c!==null&&c.delete(i),i=_n(),t.pingedLanes|=t.suspendedLanes&a,an===t&&(xn&a)===a&&(en===4||en===3&&(xn&130023424)===xn&&500>ut()-Fa?Hi(t,0):La|=a),Pn(t,i)}function ec(t,i){i===0&&(t.mode&1?(i=$i,$i<<=1,!($i&130023424)&&($i=4194304)):i=1);var a=_n();t=Vr(t,i),t!==null&&(_(t,i,a),Pn(t,a))}function p0(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),ec(t,a)}function m0(t,i){var a=0;switch(t.tag){case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(g(314))}c!==null&&c.delete(i),ec(t,a)}var tc;tc=function(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps||Mn.current)kn=!0;else{if(!(t.lanes&a)&&!(i.flags&128))return kn=!1,i0(t,i,a);kn=!!(t.flags&131072)}else kn=!1,_t&&i.flags&1048576&&ku(i,Go,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;sl(t,i),t=i.pendingProps;var h=fs(i,yn.current);ms(i,a),h=xa(null,i,c,t,h,a);var x=pa();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,bn(c)?(x=!0,zo(i)):x=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,aa(i),h.updater=rl,i.stateNode=h,h._reactInternals=i,Aa(i,c,t,a),i=Ta(null,i,c,!0,x,a)):(i.tag=0,_t&&x&&Jl(i),Tn(null,i,h,a),i=i.child),i;case 16:c=i.elementType;e:{switch(sl(t,i),t=i.pendingProps,h=c._init,c=h(c._payload),i.type=c,h=i.tag=E0(c),t=gr(c,t),h){case 0:i=Ia(null,i,c,t,a);break e;case 1:i=_1(null,i,c,t,a);break e;case 11:i=A1(null,i,c,t,a);break e;case 14:i=v1(null,i,c,gr(c.type,t),a);break e}throw Error(g(306,c,""))}return i;case 0:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:gr(c,h),Ia(t,i,c,h,a);case 1:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:gr(c,h),_1(t,i,c,h,a);case 3:e:{if(N1(i),t===null)throw Error(g(387));c=i.pendingProps,x=i.memoizedState,h=x.element,Hu(t,i),Qo(i,c,null,a);var A=i.memoizedState;if(c=A.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){h=Es(Error(g(423)),i),i=R1(t,i,c,a,h);break e}else if(c!==h){h=Es(Error(g(424)),i),i=R1(t,i,c,a,h);break e}else for(Zn=li(i.stateNode.containerInfo.firstChild),Yn=i,_t=!0,hr=null,a=zu(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(gs(),c===h){i=Wr(t,i,a);break e}Tn(t,i,c,a)}i=i.child}return i;case 5:return ju(i),t===null&&ta(i),c=i.type,h=i.pendingProps,x=t!==null?t.memoizedProps:null,A=h.children,jl(c,h)?A=null:x!==null&&jl(c,x)&&(i.flags|=32),T1(t,i),Tn(t,i,A,a),i.child;case 6:return t===null&&ta(i),null;case 13:return O1(t,i,a);case 4:return ua(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=xs(i,null,c,a):Tn(t,i,c,a),i.child;case 11:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:gr(c,h),A1(t,i,c,h,a);case 7:return Tn(t,i,i.pendingProps,a),i.child;case 8:return Tn(t,i,i.pendingProps.children,a),i.child;case 12:return Tn(t,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,h=i.pendingProps,x=i.memoizedProps,A=h.value,At(Yo,c._currentValue),c._currentValue=A,x!==null)if(L(x.value,A)){if(x.children===h.children&&!Mn.current){i=Wr(t,i,a);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var R=x.dependencies;if(R!==null){A=x.child;for(var M=R.firstContext;M!==null;){if(M.context===c){if(x.tag===1){M=zr(-1,a&-a),M.tag=2;var G=x.updateQueue;if(G!==null){G=G.shared;var J=G.pending;J===null?M.next=M:(M.next=J.next,J.next=M),G.pending=M}}x.lanes|=a,M=x.alternate,M!==null&&(M.lanes|=a),oa(x.return,a,i),R.lanes|=a;break}M=M.next}}else if(x.tag===10)A=x.type===i.type?null:x.child;else if(x.tag===18){if(A=x.return,A===null)throw Error(g(341));A.lanes|=a,R=A.alternate,R!==null&&(R.lanes|=a),oa(A,a,i),A=x.sibling}else A=x.child;if(A!==null)A.return=x;else for(A=x;A!==null;){if(A===i){A=null;break}if(x=A.sibling,x!==null){x.return=A.return,A=x;break}A=A.return}x=A}Tn(t,i,h.children,a),i=i.child}return i;case 9:return h=i.type,c=i.pendingProps.children,ms(i,a),h=sr(h),c=c(h),i.flags|=1,Tn(t,i,c,a),i.child;case 14:return c=i.type,h=gr(c,i.pendingProps),h=gr(c.type,h),v1(t,i,c,h,a);case 15:return S1(t,i,i.type,i.pendingProps,a);case 17:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:gr(c,h),sl(t,i),i.tag=1,bn(c)?(t=!0,zo(i)):t=!1,ms(i,a),x1(i,c,h),Aa(i,c,h,a),Ta(null,i,c,!0,t,a);case 19:return M1(t,i,a);case 22:return I1(t,i,a)}throw Error(g(156,i.tag))};function nc(t,i){return zn(t,i)}function w0(t,i,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(t,i,a,c){return new w0(t,i,a,c)}function ja(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E0(t){if(typeof t=="function")return ja(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ve)return 11;if(t===j)return 14}return 2}function wi(t,i){var a=t.alternate;return a===null?(a=ar(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function pl(t,i,a,c,h,x){var A=2;if(c=t,typeof t=="function")ja(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case $:return Xi(a.children,h,x,i);case Ue:A=8,h|=8;break;case ne:return t=ar(12,a,i,h|2),t.elementType=ne,t.lanes=x,t;case Ve:return t=ar(13,a,i,h),t.elementType=Ve,t.lanes=x,t;case ot:return t=ar(19,a,i,h),t.elementType=ot,t.lanes=x,t;case xe:return ml(a,h,x,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pn:A=10;break e;case Mt:A=9;break e;case ve:A=11;break e;case j:A=14;break e;case et:A=16,c=null;break e}throw Error(g(130,t==null?t:typeof t,""))}return i=ar(A,a,i,h),i.elementType=t,i.type=c,i.lanes=x,i}function Xi(t,i,a,c){return t=ar(7,t,c,i),t.lanes=a,t}function ml(t,i,a,c){return t=ar(22,t,c,i),t.elementType=xe,t.lanes=a,t.stateNode={isHidden:!1},t}function Ya(t,i,a){return t=ar(6,t,null,i),t.lanes=a,t}function Za(t,i,a){return i=ar(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function C0(t,i,a,c,h){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=U(0),this.expirationTimes=U(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ka(t,i,a,c,h,x,A,R,M){return t=new C0(t,i,a,R,M),i===1?(i=1,x===!0&&(i|=8)):i=0,x=ar(3,null,null,i),t.current=x,x.stateNode=t,x.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},aa(x),t}function y0(t,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fe,key:c==null?null:""+c,children:t,containerInfo:i,implementation:a}}function rc(t){if(!t)return ui;t=t._reactInternals;e:{if(Dn(t)!==t||t.tag!==1)throw Error(g(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(bn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(g(171))}if(t.tag===1){var a=t.type;if(bn(a))return Du(t,a,i)}return i}function ic(t,i,a,c,h,x,A,R,M){return t=Ka(a,c,!0,t,h,x,A,R,M),t.context=rc(null),a=t.current,c=_n(),h=pi(a),x=zr(c,h),x.callback=i??null,di(a,x,h),t.current.lanes=h,_(t,h,c),Pn(t,c),t}function wl(t,i,a,c){var h=i.current,x=_n(),A=pi(h);return a=rc(a),i.context===null?i.context=a:i.pendingContext=a,i=zr(x,A),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=di(h,i,A),t!==null&&(mr(t,h,A,x),Ko(t,h,A)),A}function El(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sc(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Qa(t,i){sc(t,i),(t=t.alternate)&&sc(t,i)}var oc=typeof reportError=="function"?reportError:function(t){console.error(t)};function qa(t){this._internalRoot=t}Cl.prototype.render=qa.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(g(409));wl(t,i,null,null)},Cl.prototype.unmount=qa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Wi(function(){wl(null,t,null,null)}),i[Pr]=null}};function Cl(t){this._internalRoot=t}Cl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ct();t={blockedOn:null,target:t,priority:i};for(var a=0;a<fn.length&&i!==0&&i<fn[a].priority;a++);fn.splice(a,0,t),a===0&&Io(t)}};function Ja(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lc(){}function A0(t,i,a,c,h){if(h){if(typeof c=="function"){var x=c;c=function(){var G=El(A);x.call(G)}}var A=ic(i,c,t,0,null,!1,!1,"",lc);return t._reactRootContainer=A,t[Pr]=A.current,Qs(t.nodeType===8?t.parentNode:t),Wi(),A}for(;h=t.lastChild;)t.removeChild(h);if(typeof c=="function"){var R=c;c=function(){var G=El(M);R.call(G)}}var M=Ka(t,0,!1,null,null,!1,!1,"",lc);return t._reactRootContainer=M,t[Pr]=M.current,Qs(t.nodeType===8?t.parentNode:t),Wi(function(){wl(i,M,a,c)}),M}function Al(t,i,a,c,h){var x=a._reactRootContainer;if(x){var A=x;if(typeof h=="function"){var R=h;h=function(){var M=El(A);R.call(M)}}wl(i,A,t,h)}else A=A0(a,i,t,h,c);return El(A)}es=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var a=mt(i.pendingLanes);a!==0&&(bt(i,a|1),Pn(i,ut()),!(nt&6)&&(As=ut()+500,ci()))}break;case 13:Wi(function(){var c=Vr(t,1);if(c!==null){var h=_n();mr(c,t,1,h)}}),Qa(t,1)}},En=function(t){if(t.tag===13){var i=Vr(t,134217728);if(i!==null){var a=_n();mr(i,t,134217728,a)}Qa(t,134217728)}},Se=function(t){if(t.tag===13){var i=pi(t),a=Vr(t,i);if(a!==null){var c=_n();mr(a,t,i,c)}Qa(t,i)}},Ct=function(){return We},Ps=function(t,i){var a=We;try{return We=t,i()}finally{We=a}},qi=function(t,i,a){switch(i){case"input":if(Lt(t,a),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==t&&c.form===t.form){var h=Uo(c);if(!h)throw Error(g(90));Ci(c),Lt(c,h)}}}break;case"textarea":qn(t,a);break;case"select":i=a.value,i!=null&&fe(t,!!a.multiple,i,!1)}},Ji=Ha,Zt=Wi;var v0={usingClientEntryPoint:!1,Events:[$s,us,Uo,Rs,On,Ha]},go={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S0={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:De.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wo(t),t===null?null:t.stateNode},findFiberByHostInstance:go.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{$e=vl.inject(S0),ze=vl}catch{}}return Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v0,Ln.createPortal=function(t,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ja(i))throw Error(g(200));return y0(t,i,null,a)},Ln.createRoot=function(t,i){if(!Ja(t))throw Error(g(299));var a=!1,c="",h=oc;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=Ka(t,1,!1,null,null,a,!1,c,h),t[Pr]=i.current,Qs(t.nodeType===8?t.parentNode:t),new qa(i)},Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(g(188)):(t=Object.keys(t).join(","),Error(g(268,t)));return t=wo(i),t=t===null?null:t.stateNode,t},Ln.flushSync=function(t){return Wi(t)},Ln.hydrate=function(t,i,a){if(!yl(i))throw Error(g(200));return Al(null,t,i,!0,a)},Ln.hydrateRoot=function(t,i,a){if(!Ja(t))throw Error(g(405));var c=a!=null&&a.hydratedSources||null,h=!1,x="",A=oc;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(x=a.identifierPrefix),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),i=ic(i,null,t,1,a??null,h,!1,x,A),t[Pr]=i.current,Qs(t),c)for(t=0;t<c.length;t++)a=c[t],h=a._getVersion,h=h(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,h]:i.mutableSourceEagerHydrationData.push(a,h);return new Cl(i)},Ln.render=function(t,i,a){if(!yl(i))throw Error(g(200));return Al(null,t,i,!1,a)},Ln.unmountComponentAtNode=function(t){if(!yl(t))throw Error(g(40));return t._reactRootContainer?(Wi(function(){Al(null,null,t,!1,function(){t._reactRootContainer=null,t[Pr]=null})}),!0):!1},Ln.unstable_batchedUpdates=Ha,Ln.unstable_renderSubtreeIntoContainer=function(t,i,a,c){if(!yl(a))throw Error(g(200));if(t==null||t._reactInternals===void 0)throw Error(g(38));return Al(t,i,a,!1,c)},Ln.version="18.3.1-next-f1338f8080-20240426",Ln}var xc;function Dc(){if(xc)return tu.exports;xc=1;function w(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w)}catch(m){console.error(m)}}return w(),tu.exports=M0(),tu.exports}var pc;function b0(){if(pc)return Il;pc=1;var w=Dc();return Il.createRoot=w.createRoot,Il.hydrateRoot=w.hydrateRoot,Il}var k0=b0();function _l(){return _l=Object.assign?Object.assign.bind():function(w){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var S in g)({}).hasOwnProperty.call(g,S)&&(w[S]=g[S])}return w},_l.apply(null,arguments)}function cu(w,m){if(w==null)return{};var g={};for(var S in w)if({}.hasOwnProperty.call(w,S)){if(m.includes(S))continue;g[S]=w[S]}return g}function su(w,m){return su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},su(w,m)}function fu(w,m){w.prototype=Object.create(m.prototype),w.prototype.constructor=w,su(w,m)}function B0(w,m){return w.classList?!!m&&w.classList.contains(m):(" "+(w.className.baseVal||w.className)+" ").indexOf(" "+m+" ")!==-1}function P0(w,m){w.classList?w.classList.add(m):B0(w,m)||(typeof w.className=="string"?w.className=w.className+" "+m:w.setAttribute("class",(w.className&&w.className.baseVal||"")+" "+m))}function mc(w,m){return w.replace(new RegExp("(^|\\s)"+m+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function L0(w,m){w.classList?w.classList.remove(m):typeof w.className=="string"?w.className=mc(w.className,m):w.setAttribute("class",mc(w.className&&w.className.baseVal||"",m))}var F0=Dc();const Tl=au(F0),wc={disabled:!1},Nl=wr.createContext(null);var Mc=function(m){return m.scrollTop},po="unmounted",ji="exited",Yi="entering",Is="entered",ou="exiting",Xr=function(w){fu(m,w);function m(S,I){var C;C=w.call(this,S,I)||this;var O=I,P=O&&!O.isMounting?S.enter:S.appear,B;return C.appearStatus=null,S.in?P?(B=ji,C.appearStatus=Yi):B=Is:S.unmountOnExit||S.mountOnEnter?B=po:B=ji,C.state={status:B},C.nextCallback=null,C}m.getDerivedStateFromProps=function(I,C){var O=I.in;return O&&C.status===po?{status:ji}:null};var g=m.prototype;return g.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},g.componentDidUpdate=function(I){var C=null;if(I!==this.props){var O=this.state.status;this.props.in?O!==Yi&&O!==Is&&(C=Yi):(O===Yi||O===Is)&&(C=ou)}this.updateStatus(!1,C)},g.componentWillUnmount=function(){this.cancelNextCallback()},g.getTimeouts=function(){var I=this.props.timeout,C,O,P;return C=O=P=I,I!=null&&typeof I!="number"&&(C=I.exit,O=I.enter,P=I.appear!==void 0?I.appear:O),{exit:C,enter:O,appear:P}},g.updateStatus=function(I,C){if(I===void 0&&(I=!1),C!==null)if(this.cancelNextCallback(),C===Yi){if(this.props.unmountOnExit||this.props.mountOnEnter){var O=this.props.nodeRef?this.props.nodeRef.current:Tl.findDOMNode(this);O&&Mc(O)}this.performEnter(I)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ji&&this.setState({status:po})},g.performEnter=function(I){var C=this,O=this.props.enter,P=this.context?this.context.isMounting:I,B=this.props.nodeRef?[P]:[Tl.findDOMNode(this),P],T=B[0],Y=B[1],X=this.getTimeouts(),pe=P?X.appear:X.enter;if(!I&&!O||wc.disabled){this.safeSetState({status:Is},function(){C.props.onEntered(T)});return}this.props.onEnter(T,Y),this.safeSetState({status:Yi},function(){C.props.onEntering(T,Y),C.onTransitionEnd(pe,function(){C.safeSetState({status:Is},function(){C.props.onEntered(T,Y)})})})},g.performExit=function(){var I=this,C=this.props.exit,O=this.getTimeouts(),P=this.props.nodeRef?void 0:Tl.findDOMNode(this);if(!C||wc.disabled){this.safeSetState({status:ji},function(){I.props.onExited(P)});return}this.props.onExit(P),this.safeSetState({status:ou},function(){I.props.onExiting(P),I.onTransitionEnd(O.exit,function(){I.safeSetState({status:ji},function(){I.props.onExited(P)})})})},g.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},g.safeSetState=function(I,C){C=this.setNextCallback(C),this.setState(I,C)},g.setNextCallback=function(I){var C=this,O=!0;return this.nextCallback=function(P){O&&(O=!1,C.nextCallback=null,I(P))},this.nextCallback.cancel=function(){O=!1},this.nextCallback},g.onTransitionEnd=function(I,C){this.setNextCallback(C);var O=this.props.nodeRef?this.props.nodeRef.current:Tl.findDOMNode(this),P=I==null&&!this.props.addEndListener;if(!O||P){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var B=this.props.nodeRef?[this.nextCallback]:[O,this.nextCallback],T=B[0],Y=B[1];this.props.addEndListener(T,Y)}I!=null&&setTimeout(this.nextCallback,I)},g.render=function(){var I=this.state.status;if(I===po)return null;var C=this.props,O=C.children;C.in,C.mountOnEnter,C.unmountOnExit,C.appear,C.enter,C.exit,C.timeout,C.addEndListener,C.onEnter,C.onEntering,C.onEntered,C.onExit,C.onExiting,C.onExited,C.nodeRef;var P=cu(C,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wr.createElement(Nl.Provider,{value:null},typeof O=="function"?O(I,P):wr.cloneElement(wr.Children.only(O),P))},m}(wr.Component);Xr.contextType=Nl;Xr.propTypes={};function Ss(){}Xr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ss,onEntering:Ss,onEntered:Ss,onExit:Ss,onExiting:Ss,onExited:Ss};Xr.UNMOUNTED=po;Xr.EXITED=ji;Xr.ENTERING=Yi;Xr.ENTERED=Is;Xr.EXITING=ou;var U0=function(m,g){return m&&g&&g.split(" ").forEach(function(S){return P0(m,S)})},iu=function(m,g){return m&&g&&g.split(" ").forEach(function(S){return L0(m,S)})},du=function(w){fu(m,w);function m(){for(var S,I=arguments.length,C=new Array(I),O=0;O<I;O++)C[O]=arguments[O];return S=w.call.apply(w,[this].concat(C))||this,S.appliedClasses={appear:{},enter:{},exit:{}},S.onEnter=function(P,B){var T=S.resolveArguments(P,B),Y=T[0],X=T[1];S.removeClasses(Y,"exit"),S.addClass(Y,X?"appear":"enter","base"),S.props.onEnter&&S.props.onEnter(P,B)},S.onEntering=function(P,B){var T=S.resolveArguments(P,B),Y=T[0],X=T[1],pe=X?"appear":"enter";S.addClass(Y,pe,"active"),S.props.onEntering&&S.props.onEntering(P,B)},S.onEntered=function(P,B){var T=S.resolveArguments(P,B),Y=T[0],X=T[1],pe=X?"appear":"enter";S.removeClasses(Y,pe),S.addClass(Y,pe,"done"),S.props.onEntered&&S.props.onEntered(P,B)},S.onExit=function(P){var B=S.resolveArguments(P),T=B[0];S.removeClasses(T,"appear"),S.removeClasses(T,"enter"),S.addClass(T,"exit","base"),S.props.onExit&&S.props.onExit(P)},S.onExiting=function(P){var B=S.resolveArguments(P),T=B[0];S.addClass(T,"exit","active"),S.props.onExiting&&S.props.onExiting(P)},S.onExited=function(P){var B=S.resolveArguments(P),T=B[0];S.removeClasses(T,"exit"),S.addClass(T,"exit","done"),S.props.onExited&&S.props.onExited(P)},S.resolveArguments=function(P,B){return S.props.nodeRef?[S.props.nodeRef.current,P]:[P,B]},S.getClassNames=function(P){var B=S.props.classNames,T=typeof B=="string",Y=T&&B?B+"-":"",X=T?""+Y+P:B[P],pe=T?X+"-active":B[P+"Active"],_e=T?X+"-done":B[P+"Done"];return{baseClassName:X,activeClassName:pe,doneClassName:_e}},S}var g=m.prototype;return g.addClass=function(I,C,O){var P=this.getClassNames(C)[O+"ClassName"],B=this.getClassNames("enter"),T=B.doneClassName;C==="appear"&&O==="done"&&T&&(P+=" "+T),O==="active"&&I&&Mc(I),P&&(this.appliedClasses[C][O]=P,U0(I,P))},g.removeClasses=function(I,C){var O=this.appliedClasses[C],P=O.base,B=O.active,T=O.done;this.appliedClasses[C]={},P&&iu(I,P),B&&iu(I,B),T&&iu(I,T)},g.render=function(){var I=this.props;I.classNames;var C=cu(I,["classNames"]);return wr.createElement(Xr,_l({},C,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},m}(wr.Component);du.defaultProps={classNames:""};du.propTypes={};function V0(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function hu(w,m){var g=function(C){return m&&tn.isValidElement(C)?m(C):C},S=Object.create(null);return w&&tn.Children.map(w,function(I){return I}).forEach(function(I){S[I.key]=g(I)}),S}function z0(w,m){w=w||{},m=m||{};function g(Y){return Y in m?m[Y]:w[Y]}var S=Object.create(null),I=[];for(var C in w)C in m?I.length&&(S[C]=I,I=[]):I.push(C);var O,P={};for(var B in m){if(S[B])for(O=0;O<S[B].length;O++){var T=S[B][O];P[S[B][O]]=g(T)}P[B]=g(B)}for(O=0;O<I.length;O++)P[I[O]]=g(I[O]);return P}function Zi(w,m,g){return g[m]!=null?g[m]:w.props[m]}function W0(w,m){return hu(w.children,function(g){return tn.cloneElement(g,{onExited:m.bind(null,g),in:!0,appear:Zi(g,"appear",w),enter:Zi(g,"enter",w),exit:Zi(g,"exit",w)})})}function H0(w,m,g){var S=hu(w.children),I=z0(m,S);return Object.keys(I).forEach(function(C){var O=I[C];if(tn.isValidElement(O)){var P=C in m,B=C in S,T=m[C],Y=tn.isValidElement(T)&&!T.props.in;B&&(!P||Y)?I[C]=tn.cloneElement(O,{onExited:g.bind(null,O),in:!0,exit:Zi(O,"exit",w),enter:Zi(O,"enter",w)}):!B&&P&&!Y?I[C]=tn.cloneElement(O,{in:!1}):B&&P&&tn.isValidElement(T)&&(I[C]=tn.cloneElement(O,{onExited:g.bind(null,O),in:T.props.in,exit:Zi(O,"exit",w),enter:Zi(O,"enter",w)}))}}),I}var G0=Object.values||function(w){return Object.keys(w).map(function(m){return w[m]})},X0={component:"div",childFactory:function(m){return m}},gu=function(w){fu(m,w);function m(S,I){var C;C=w.call(this,S,I)||this;var O=C.handleExited.bind(V0(C));return C.state={contextValue:{isMounting:!0},handleExited:O,firstRender:!0},C}var g=m.prototype;return g.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},g.componentWillUnmount=function(){this.mounted=!1},m.getDerivedStateFromProps=function(I,C){var O=C.children,P=C.handleExited,B=C.firstRender;return{children:B?W0(I,P):H0(I,O,P),firstRender:!1}},g.handleExited=function(I,C){var O=hu(this.props.children);I.key in O||(I.props.onExited&&I.props.onExited(C),this.mounted&&this.setState(function(P){var B=_l({},P.children);return delete B[I.key],{children:B}}))},g.render=function(){var I=this.props,C=I.component,O=I.childFactory,P=cu(I,["component","childFactory"]),B=this.state.contextValue,T=G0(this.state.children).map(O);return delete P.appear,delete P.enter,delete P.exit,C===null?wr.createElement(Nl.Provider,{value:B},T):wr.createElement(Nl.Provider,{value:B},wr.createElement(C,P,T))},m}(wr.Component);gu.propTypes={};gu.defaultProps=X0;function Ec(){return xt.jsx("div",{children:"Hello, World"})}var de;(function(w){w[w.QR_CODE=0]="QR_CODE",w[w.AZTEC=1]="AZTEC",w[w.CODABAR=2]="CODABAR",w[w.CODE_39=3]="CODE_39",w[w.CODE_93=4]="CODE_93",w[w.CODE_128=5]="CODE_128",w[w.DATA_MATRIX=6]="DATA_MATRIX",w[w.MAXICODE=7]="MAXICODE",w[w.ITF=8]="ITF",w[w.EAN_13=9]="EAN_13",w[w.EAN_8=10]="EAN_8",w[w.PDF_417=11]="PDF_417",w[w.RSS_14=12]="RSS_14",w[w.RSS_EXPANDED=13]="RSS_EXPANDED",w[w.UPC_A=14]="UPC_A",w[w.UPC_E=15]="UPC_E",w[w.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(de||(de={}));var Cc=new Map([[de.QR_CODE,"QR_CODE"],[de.AZTEC,"AZTEC"],[de.CODABAR,"CODABAR"],[de.CODE_39,"CODE_39"],[de.CODE_93,"CODE_93"],[de.CODE_128,"CODE_128"],[de.DATA_MATRIX,"DATA_MATRIX"],[de.MAXICODE,"MAXICODE"],[de.ITF,"ITF"],[de.EAN_13,"EAN_13"],[de.EAN_8,"EAN_8"],[de.PDF_417,"PDF_417"],[de.RSS_14,"RSS_14"],[de.RSS_EXPANDED,"RSS_EXPANDED"],[de.UPC_A,"UPC_A"],[de.UPC_E,"UPC_E"],[de.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),yc;(function(w){w[w.UNKNOWN=0]="UNKNOWN",w[w.URL=1]="URL"})(yc||(yc={}));function j0(w){return Object.values(de).includes(w)}var Rl;(function(w){w[w.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",w[w.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Rl||(Rl={}));var Y0=function(){function w(){}return w.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",w.SCAN_DEFAULT_FPS=2,w.DEFAULT_DISABLE_FLIP=!1,w.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,w.DEFAULT_SUPPORTED_SCAN_TYPE=[Rl.SCAN_TYPE_CAMERA,Rl.SCAN_TYPE_FILE],w}(),bc=function(){function w(m,g){this.format=m,this.formatName=g}return w.prototype.toString=function(){return this.formatName},w.create=function(m){if(!Cc.has(m))throw"".concat(m," not in html5QrcodeSupportedFormatsTextMap");return new w(m,Cc.get(m))},w}(),Ac=function(){function w(){}return w.createFromText=function(m){var g={text:m};return{decodedText:m,result:g}},w.createFromQrcodeResult=function(m){return{decodedText:m.text,result:m}},w}(),lu;(function(w){w[w.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",w[w.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",w[w.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(lu||(lu={}));var Z0=function(){function w(){}return w.createFrom=function(m){return{errorMessage:m,type:lu.UNKWOWN_ERROR}},w}(),K0=function(){function w(m){this.verbose=m}return w.prototype.log=function(m){this.verbose&&console.log(m)},w.prototype.warn=function(m){this.verbose&&console.warn(m)},w.prototype.logError=function(m,g){(this.verbose||g===!0)&&console.error(m)},w.prototype.logErrors=function(m){if(m.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(m)},w}();function Gr(w){return typeof w>"u"||w===null}var Ts=function(){function w(){}return w.codeParseError=function(m){return"QR code parse error, error = ".concat(m)},w.errorGettingUserMedia=function(m){return"Error getting userMedia, error = ".concat(m)},w.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},w.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},w.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},w.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},w.scannerPaused=function(){return"Scanner paused"},w}(),kc=function(){function w(){}return w.isMediaStreamConstraintsValid=function(m,g){if(typeof m!="object"){var S=typeof m;return g.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(S,"."),!0),!1}for(var I=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],C=new Set(I),O=Object.keys(m),P=0,B=O;P<B.length;P++){var T=B[P];if(C.has(T))return g.logError("".concat(T," is not supported videoConstaints."),!0),!1}return!0},w}(),mo={exports:{}},Q0=mo.exports,vc;function q0(){return vc||(vc=1,function(w,m){(function(g,S){S(m)})(Q0,function(g){function S(E){return E==null}var I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,e){E.__proto__=e}||function(E,e){for(var n in e)e.hasOwnProperty(n)&&(E[n]=e[n])};function C(E,e){I(E,e);function n(){this.constructor=E}E.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function O(E,e){var n=Object.setPrototypeOf;n?n(E,e):E.__proto__=e}function P(E,e){e===void 0&&(e=E.constructor);var n=Error.captureStackTrace;n&&n(E,e)}var B=function(E){C(e,E);function e(n){var r=this.constructor,s=E.call(this,n)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),O(s,r.prototype),P(s),s}return e}(Error);class T extends B{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}T.kind="Exception";class Y extends T{}Y.kind="ArgumentException";class X extends T{}X.kind="IllegalArgumentException";class pe{constructor(e){if(this.binarizer=e,e===null)throw new X("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,s){const o=this.binarizer.getLuminanceSource().crop(e,n,r,s);return new pe(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new pe(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new pe(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _e extends T{static getChecksumInstance(){return new _e}}_e.kind="ChecksumException";class ht{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class we{static arraycopy(e,n,r,s,o){for(;o--;)r[s++]=e[n++]}static currentTimeMillis(){return Date.now()}}class Ge extends T{}Ge.kind="IndexOutOfBoundsException";class nn extends Ge{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}nn.kind="ArrayIndexOutOfBoundsException";class Ye{static fill(e,n){for(let r=0,s=e.length;r<s;r++)e[r]=n}static fillWithin(e,n,r,s){Ye.rangeCheck(e.length,n,r);for(let o=n;o<r;o++)e[o]=s}static rangeCheck(e,n,r){if(n>r)throw new X("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new nn(n);if(r>e)throw new nn(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(o=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(o=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,s=e.length;r<s;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const s=r-n,o=new Int32Array(s);return we.arraycopy(e,n,o,0,s),o}static binarySearch(e,n,r){r===void 0&&(r=Ye.numberComparator);let s=0,o=e.length-1;for(;s<=o;){const l=o+s>>1,u=r(n,e[l]);if(u>0)s=l+1;else if(u<0)o=l-1;else return l}return-s-1}static numberComparator(e,n){return e-n}}class Ee{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}Ee.MIN_VALUE_32_BITS=-2147483648,Ee.MAX_VALUE=Number.MAX_SAFE_INTEGER;class De{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=De.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=De.makeArray(e);we.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=r[s];o&=~((1<<(e&31))-1);const l=r.length;for(;o===0;){if(++s===l)return n;o=r[s]}const u=s*32+Ee.numberOfTrailingZeros(o);return u>n?n:u}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=~r[s];o&=~((1<<(e&31))-1);const l=r.length;for(;o===0;){if(++s===l)return n;o=~r[s]}const u=s*32+Ee.numberOfTrailingZeros(o);return u>n?n:u}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new X;if(n===e)return;n--;const r=Math.floor(e/32),s=Math.floor(n/32),o=this.bits;for(let l=r;l<=s;l++){const u=l>r?0:e&31,d=(2<<(l<s?31:n&31))-(1<<u);o[l]|=d}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new X;if(n===e)return!0;n--;const s=Math.floor(e/32),o=Math.floor(n/32),l=this.bits;for(let u=s;u<=o;u++){const f=u>s?0:e&31,p=(2<<(u<o?31:n&31))-(1<<f)&4294967295;if((l[u]&p)!==(r?p:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new X("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new X("Sizes don't match");const n=this.bits;for(let r=0,s=n.length;r<s;r++)n[r]^=e.bits[r]}toBytes(e,n,r,s){for(let o=0;o<s;o++){let l=0;for(let u=0;u<8;u++)this.get(e)&&(l|=1<<7-u),e++;n[r+o]=l}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,s=this.bits;for(let o=0;o<r;o++){let l=s[o];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[n-o]=l}if(this.size!==r*32){const o=r*32-this.size;let l=e[0]>>>o;for(let u=1;u<r;u++){const f=e[u];l|=f<<32-o,e[u-1]=l,l=f>>>o}e[r-1]=l}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof De))return!1;const n=e;return this.size===n.size&&Ye.equals(this.bits,n.bits)}hashCode(){return 31*this.size+Ye.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new De(this.size,this.bits.slice())}}var Ht;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ht||(Ht={}));var Fe=Ht;class $ extends T{static getFormatInstance(){return new $}}$.kind="FormatException";var Ue;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(Ue||(Ue={}));class ne{constructor(e,n,r,...s){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=s,ne.VALUE_IDENTIFIER_TO_ECI.set(e,this),ne.NAME_TO_ECI.set(r,this);const o=this.values;for(let l=0,u=o.length;l!==u;l++){const f=o[l];ne.VALUES_TO_ECI.set(f,this)}for(const l of s)ne.NAME_TO_ECI.set(l,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new $("incorect value");const n=ne.VALUES_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}static getCharacterSetECIByName(e){const n=ne.NAME_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}equals(e){if(!(e instanceof ne))return!1;const n=e;return this.getName()===n.getName()}}ne.VALUE_IDENTIFIER_TO_ECI=new Map,ne.VALUES_TO_ECI=new Map,ne.NAME_TO_ECI=new Map,ne.Cp437=new ne(Ue.Cp437,Int32Array.from([0,2]),"Cp437"),ne.ISO8859_1=new ne(Ue.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ne.ISO8859_2=new ne(Ue.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ne.ISO8859_3=new ne(Ue.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ne.ISO8859_4=new ne(Ue.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ne.ISO8859_5=new ne(Ue.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ne.ISO8859_6=new ne(Ue.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ne.ISO8859_7=new ne(Ue.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ne.ISO8859_8=new ne(Ue.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ne.ISO8859_9=new ne(Ue.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ne.ISO8859_10=new ne(Ue.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ne.ISO8859_11=new ne(Ue.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ne.ISO8859_13=new ne(Ue.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ne.ISO8859_14=new ne(Ue.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ne.ISO8859_15=new ne(Ue.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ne.ISO8859_16=new ne(Ue.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ne.SJIS=new ne(Ue.SJIS,20,"SJIS","Shift_JIS"),ne.Cp1250=new ne(Ue.Cp1250,21,"Cp1250","windows-1250"),ne.Cp1251=new ne(Ue.Cp1251,22,"Cp1251","windows-1251"),ne.Cp1252=new ne(Ue.Cp1252,23,"Cp1252","windows-1252"),ne.Cp1256=new ne(Ue.Cp1256,24,"Cp1256","windows-1256"),ne.UnicodeBigUnmarked=new ne(Ue.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ne.UTF8=new ne(Ue.UTF8,26,"UTF8","UTF-8"),ne.ASCII=new ne(Ue.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ne.Big5=new ne(Ue.Big5,28,"Big5"),ne.GB18030=new ne(Ue.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ne.EUC_KR=new ne(Ue.EUC_KR,30,"EUC_KR","EUC-KR");class pn extends T{}pn.kind="UnsupportedOperationException";class Mt{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!Mt.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof ne?e:ne.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if(Mt.isDecodeFallbackSupported(r)){let s="";for(let o=0,l=e.length;o<l;o++){let u=e[o].toString(16);u.length<2&&(u="0"+u),s+="%"+u}return decodeURIComponent(s)}if(r.equals(ne.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new pn(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(ne.UTF8)||e.equals(ne.ISO8859_1)||e.equals(ne.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class ve{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return Mt.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(Fe.CHARACTER_SET)!==void 0)return n.get(Fe.CHARACTER_SET).toString();const r=e.length;let s=!0,o=!0,l=!0,u=0,f=0,d=0,p=0,y=0,v=0,N=0,D=0,b=0,L=0,W=0;const te=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let re=0;re<r&&(s||o||l);re++){const q=e[re]&255;l&&(u>0?q&128?u--:l=!1:q&128&&(q&64?(u++,q&32?(u++,q&16?(u++,q&8?l=!1:p++):d++):f++):l=!1)),s&&(q>127&&q<160?s=!1:q>159&&(q<192||q===215||q===247)&&W++),o&&(y>0?q<64||q===127||q>252?o=!1:y--:q===128||q===160||q>239?o=!1:q>160&&q<224?(v++,D=0,N++,N>b&&(b=N)):q>127?(y++,N=0,D++,D>L&&(L=D)):(N=0,D=0))}return l&&u>0&&(l=!1),o&&y>0&&(o=!1),l&&(te||f+d+p>0)?ve.UTF8:o&&(ve.ASSUME_SHIFT_JIS||b>=3||L>=3)?ve.SHIFT_JIS:s&&o?b===2&&v===2||W*10>=r?ve.SHIFT_JIS:ve.ISO88591:s?ve.ISO88591:o?ve.SHIFT_JIS:l?ve.UTF8:ve.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function s(l,u,f,d,p,y){if(l==="%%")return"%";if(n[++r]===void 0)return;l=d?parseInt(d.substr(1)):void 0;let v=p?parseInt(p.substr(1)):void 0,N;switch(y){case"s":N=n[r];break;case"c":N=n[r][0];break;case"f":N=parseFloat(n[r]).toFixed(l);break;case"p":N=parseFloat(n[r]).toPrecision(l);break;case"e":N=parseFloat(n[r]).toExponential(l);break;case"x":N=parseInt(n[r]).toString(v||16);break;case"d":N=parseFloat(parseInt(n[r],v||10).toPrecision(l)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(v);let D=parseInt(f),b=f&&f[0]+""=="0"?"0":" ";for(;N.length<D;)N=u!==void 0?N+b:b+N;return N}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}static getBytes(e,n){return Mt.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}ve.SHIFT_JIS=ne.SJIS.getName(),ve.GB2312="GB2312",ve.ISO88591=ne.ISO8859_1.getName(),ve.EUC_JP="EUC_JP",ve.UTF8=ne.UTF8.getName(),ve.PLATFORM_DEFAULT_ENCODING=ve.UTF8,ve.ASSUME_SHIFT_JIS=!1;class Ve{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ve.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let s=n;n<n+r;s++)this.append(e[s]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class ot{constructor(e,n,r,s){if(this.width=e,this.height=n,this.rowSize=r,this.bits=s,n==null&&(n=e),this.height=n,e<1||n<1)throw new X("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,s=new ot(r,n);for(let o=0;o<n;o++){const l=e[o];for(let u=0;u<r;u++)l[u]&&s.set(u,o)}return s}static parseFromString(e,n,r){if(e===null)throw new X("stringRepresentation cannot be null");const s=new Array(e.length);let o=0,l=0,u=-1,f=0,d=0;for(;d<e.length;)if(e.charAt(d)===`
`||e.charAt(d)==="\r"){if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new X("row lengths do not match");l=o,f++}d++}else if(e.substring(d,d+n.length)===n)d+=n.length,s[o]=!0,o++;else if(e.substring(d,d+r.length)===r)d+=r.length,s[o]=!1,o++;else throw new X("illegal character encountered: "+e.substring(d));if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new X("row lengths do not match");f++}const p=new ot(u,f);for(let y=0;y<o;y++)s[y]&&p.set(Math.floor(y%u),Math.floor(y/u));return p}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new X("input matrix dimensions do not match");const n=new De(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,l=this.height;o<l;o++){const u=o*r,f=e.getRow(o,n).getBitArray();for(let d=0;d<r;d++)s[u+d]^=f[d]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,s){if(n<0||e<0)throw new X("Left and top must be nonnegative");if(s<1||r<1)throw new X("Height and width must be at least 1");const o=e+r,l=n+s;if(l>this.height||o>this.width)throw new X("The region must fit inside the matrix");const u=this.rowSize,f=this.bits;for(let d=n;d<l;d++){const p=d*u;for(let y=e;y<o;y++)f[p+Math.floor(y/32)]|=1<<(y&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new De(this.width):n.clear();const r=this.rowSize,s=this.bits,o=e*r;for(let l=0;l<r;l++)n.setBulk(l*32,s[o+l]);return n}setRow(e,n){we.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new De(e),s=new De(e);for(let o=0,l=Math.floor((n+1)/2);o<l;o++)r=this.getRow(o,r),s=this.getRow(n-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(n-1-o,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,s=this.bits;let o=e,l=n,u=-1,f=-1;for(let d=0;d<n;d++)for(let p=0;p<r;p++){const y=s[d*r+p];if(y!==0){if(d<l&&(l=d),d>f&&(f=d),p*32<o){let v=0;for(;!(y<<31-v&4294967295);)v++;p*32+v<o&&(o=p*32+v)}if(p*32+31>u){let v=31;for(;!(y>>>v);)v--;p*32+v>u&&(u=p*32+v)}}}return u<o||f<l?null:Int32Array.from([o,l,u-o+1,f-l+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const s=r/e;let o=r%e*32;const l=n[r];let u=0;for(;!(l<<31-u&4294967295);)u++;return o+=u,Int32Array.from([o,s])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/e);let o=Math.floor(r%e)*32;const l=n[r];let u=31;for(;!(l>>>u);)u--;return o+=u,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ot))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Ye.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Ye.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let s=new Ve;for(let o=0,l=this.height;o<l;o++){for(let u=0,f=this.width;u<f;u++)s.append(this.get(u,o)?e:n);s.append(r)}return s.toString()}clone(){return new ot(this.width,this.height,this.rowSize,this.bits.slice())}}class j extends T{static getNotFoundInstance(){return new j}}j.kind="NotFoundException";class et extends ht{constructor(e){super(e),this.luminances=et.EMPTY,this.buckets=new Int32Array(et.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),s=r.getWidth();n==null||n.getSize()<s?n=new De(s):n.clear(),this.initArrays(s);const o=r.getRow(e,this.luminances),l=this.buckets;for(let f=0;f<s;f++)l[(o[f]&255)>>et.LUMINANCE_SHIFT]++;const u=et.estimateBlackPoint(l);if(s<3)for(let f=0;f<s;f++)(o[f]&255)<u&&n.set(f);else{let f=o[0]&255,d=o[1]&255;for(let p=1;p<s-1;p++){const y=o[p+1]&255;(d*4-f-y)/2<u&&n.set(p),f=d,d=y}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),s=new ot(n,r);this.initArrays(n);const o=this.buckets;for(let f=1;f<5;f++){const d=Math.floor(r*f/5),p=e.getRow(d,this.luminances),y=Math.floor(n*4/5);for(let v=Math.floor(n/5);v<y;v++){const N=p[v]&255;o[N>>et.LUMINANCE_SHIFT]++}}const l=et.estimateBlackPoint(o),u=e.getMatrix();for(let f=0;f<r;f++){const d=f*n;for(let p=0;p<n;p++)(u[d+p]&255)<l&&s.set(p,f)}return s}createBinarizer(e){return new et(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<et.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,s=0,o=0;for(let p=0;p<n;p++)e[p]>o&&(s=p,o=e[p]),e[p]>r&&(r=e[p]);let l=0,u=0;for(let p=0;p<n;p++){const y=p-s,v=e[p]*y*y;v>u&&(l=p,u=v)}if(s>l){const p=s;s=l,l=p}if(l-s<=n/16)throw new j;let f=l-1,d=-1;for(let p=l-1;p>s;p--){const y=p-s,v=y*y*(l-p)*(r-e[p]);v>d&&(f=p,d=v)}return f<<et.LUMINANCE_SHIFT}}et.LUMINANCE_BITS=5,et.LUMINANCE_SHIFT=8-et.LUMINANCE_BITS,et.LUMINANCE_BUCKETS=1<<et.LUMINANCE_BITS,et.EMPTY=Uint8ClampedArray.from([0]);class xe extends et{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=xe.MINIMUM_DIMENSION&&r>=xe.MINIMUM_DIMENSION){const s=e.getMatrix();let o=n>>xe.BLOCK_SIZE_POWER;n&xe.BLOCK_SIZE_MASK&&o++;let l=r>>xe.BLOCK_SIZE_POWER;r&xe.BLOCK_SIZE_MASK&&l++;const u=xe.calculateBlackPoints(s,o,l,n,r),f=new ot(n,r);xe.calculateThresholdForBlock(s,o,l,n,r,u,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new xe(e)}static calculateThresholdForBlock(e,n,r,s,o,l,u){const f=o-xe.BLOCK_SIZE,d=s-xe.BLOCK_SIZE;for(let p=0;p<r;p++){let y=p<<xe.BLOCK_SIZE_POWER;y>f&&(y=f);const v=xe.cap(p,2,r-3);for(let N=0;N<n;N++){let D=N<<xe.BLOCK_SIZE_POWER;D>d&&(D=d);const b=xe.cap(N,2,n-3);let L=0;for(let te=-2;te<=2;te++){const re=l[v+te];L+=re[b-2]+re[b-1]+re[b]+re[b+1]+re[b+2]}const W=L/25;xe.thresholdBlock(e,D,y,W,s,u)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,s,o,l){for(let u=0,f=r*o+n;u<xe.BLOCK_SIZE;u++,f+=o)for(let d=0;d<xe.BLOCK_SIZE;d++)(e[f+d]&255)<=s&&l.set(n+d,r+u)}static calculateBlackPoints(e,n,r,s,o){const l=o-xe.BLOCK_SIZE,u=s-xe.BLOCK_SIZE,f=new Array(r);for(let d=0;d<r;d++){f[d]=new Int32Array(n);let p=d<<xe.BLOCK_SIZE_POWER;p>l&&(p=l);for(let y=0;y<n;y++){let v=y<<xe.BLOCK_SIZE_POWER;v>u&&(v=u);let N=0,D=255,b=0;for(let W=0,te=p*s+v;W<xe.BLOCK_SIZE;W++,te+=s){for(let re=0;re<xe.BLOCK_SIZE;re++){const q=e[te+re]&255;N+=q,q<D&&(D=q),q>b&&(b=q)}if(b-D>xe.MIN_DYNAMIC_RANGE)for(W++,te+=s;W<xe.BLOCK_SIZE;W++,te+=s)for(let re=0;re<xe.BLOCK_SIZE;re++)N+=e[te+re]&255}let L=N>>xe.BLOCK_SIZE_POWER*2;if(b-D<=xe.MIN_DYNAMIC_RANGE&&(L=D/2,d>0&&y>0)){const W=(f[d-1][y]+2*f[d][y-1]+f[d-1][y-1])/4;D<W&&(L=W)}f[d][y]=L}}return f}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class le{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,s){throw new pn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new pn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new pn("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Ve;for(let r=0;r<this.height;r++){const s=this.getRow(r,e);for(let o=0;o<this.width;o++){const l=s[o]&255;let u;l<64?u="#":l<128?u="+":l<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()}}class ye extends le{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let s=0;s<n;s++)r[s]=255-(e[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,s){return new ye(this.delegate.crop(e,n,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ye(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ye(this.delegate.rotateCounterClockwise45())}}class ae extends le{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=ae.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return ae.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const s=new Uint8ClampedArray(n*r);for(let o=0,l=0,u=e.length;o<u;o+=4,l++){let f;if(e[o+3]===0)f=255;else{const p=e[o],y=e[o+1],v=e[o+2];f=306*p+601*y+117*v+512>>10}s[l]=f}return s}getRow(e,n){if(e<0||e>=this.getHeight())throw new X("Requested row is outside the image: "+e);const r=this.getWidth(),s=e*r;return n===null?n=this.buffer.slice(s,s+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(s,s+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,s){return super.crop(e,n,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),s=e*ae.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*l),f=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*l);return n.width=u,n.height=f,r.translate(u/2,f/2),r.rotate(s),r.drawImage(this.canvas,o/-2,l/-2),this.buffer=ae.makeBufferFromCanvasImageData(n),this}invert(){return new ye(this)}}ae.DEGREE_TO_RADIANS=Math.PI/180;class F{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Z=(globalThis||Sl||self||window||void 0)&&(globalThis||Sl||self||window||void 0).__awaiter||function(E,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{d(r.next(p))}catch(y){l(y)}}function f(p){try{d(r.throw(p))}catch(y){l(y)}}function d(p){p.done?o(p.value):s(p.value).then(u,f)}d((r=r.apply(E,e||[])).next())})};class be{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Z(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,l=r.label||`Video device ${n.length+1}`,u=r.groupId,f={deviceId:o,label:l,kind:s,groupId:u};n.push(f)}return n})}getVideoInputDevices(){return Z(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new F(n.deviceId,n.label))})}findDeviceById(e){return Z(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return Z(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return Z(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,n)})}decodeOnceFromConstraints(e,n){return Z(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return Z(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return Z(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return Z(this,void 0,void 0,function*(){let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,n,r)})}decodeFromConstraints(e,n,r){return Z(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(s,n,r)})}decodeFromStream(e,n,r){return Z(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return Z(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Z(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new Y(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new Y(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new Y("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new Y("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new Y("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new Y("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new Y("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new Y("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new Y("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new Y("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,n);return r.src=e,s}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Z(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return Z(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,l)=>{if(this._stopAsyncDecode){l(new j("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);o(u)}catch(u){const f=n&&u instanceof j,p=(u instanceof _e||u instanceof $)&&r;if(f||p)return setTimeout(s,this._timeBetweenDecodingAttempts,o,l);l(u)}};return new Promise((o,l)=>s(o,l))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(e);n(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){n(null,s);const o=s instanceof _e||s instanceof $,l=s instanceof j;(o||l)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new ae(n),s=new xe(r);return new pe(s)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,s;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,s=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,s=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=s+"px",n.width=r,n.height=s,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Ie{constructor(e,n,r=n==null?0:8*n.length,s,o,l=we.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=l,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,l==null?this.timestamp=we.currentTimeMillis():this.timestamp=l}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);we.arraycopy(n,0,r,0,n.length),we.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Qe;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Qe||(Qe={}));var se=Qe,lt;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(lt||(lt={}));var Me=lt;class at{constructor(e,n,r,s,o=-1,l=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class jt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new X;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Yt{constructor(e,n){if(n.length===0)throw new X;this.field=e;const r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),we.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let l=0,u=n.length;l!==u;l++){const f=n[l];r=jt.addOrSubtract(r,f)}return r}r=n[0];const s=n.length,o=this.field;for(let l=1;l<s;l++)r=jt.addOrSubtract(o.multiply(e,r),n[l]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new X("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const l=n;n=r,r=l}let s=new Int32Array(r.length);const o=r.length-n.length;we.arraycopy(r,0,s,0,o);for(let l=o;l<r.length;l++)s[l]=jt.addOrSubtract(n[l-o],r[l]);return new Yt(this.field,s)}multiply(e){if(!this.field.equals(e.field))throw new X("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,l=new Int32Array(r+o-1),u=this.field;for(let f=0;f<r;f++){const d=n[f];for(let p=0;p<o;p++)l[f+p]=jt.addOrSubtract(l[f+p],u.multiply(d,s[p]))}return new Yt(u,l)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,s=new Int32Array(n),o=this.coefficients;for(let l=0;l<n;l++)s[l]=r.multiply(o[l],e);return new Yt(r,s)}multiplyByMonomial(e,n){if(e<0)throw new X;if(n===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+e),l=this.field;for(let u=0;u<s;u++)o[u]=l.multiply(r[u],n);return new Yt(l,o)}divide(e){if(!this.field.equals(e.field))throw new X("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new X("Divide by 0");const n=this.field;let r=n.getZero(),s=this;const o=e.getCoefficient(e.getDegree()),l=n.inverse(o);for(;s.getDegree()>=e.getDegree()&&!s.isZero();){const u=s.getDegree()-e.getDegree(),f=n.multiply(s.getCoefficient(s.getDegree()),l),d=e.multiplyByMonomial(u,f),p=n.buildMonomial(u,f);r=r.addOrSubtract(p),s=s.addOrSubtract(d)}return[r,s]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const s=this.field.log(r);s===0?e+="1":s===1?e+="a":(e+="a^",e+=s)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class Ci extends T{}Ci.kind="ArithmeticException";class qe extends jt{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const s=new Int32Array(n);let o=1;for(let u=0;u<n;u++)s[u]=o,o*=2,o>=n&&(o^=e,o&=n-1);this.expTable=s;const l=new Int32Array(n);for(let u=0;u<n-1;u++)l[s[u]]=u;this.logTable=l,this.zero=new Yt(this,Int32Array.from([0])),this.one=new Yt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new X;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new Yt(this,r)}inverse(e){if(e===0)throw new Ci;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Ee.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}qe.AZTEC_DATA_12=new qe(4201,4096,1),qe.AZTEC_DATA_10=new qe(1033,1024,1),qe.AZTEC_DATA_6=new qe(67,64,1),qe.AZTEC_PARAM=new qe(19,16,1),qe.QR_CODE_FIELD_256=new qe(285,256,0),qe.DATA_MATRIX_FIELD_256=new qe(301,256,1),qe.AZTEC_DATA_8=qe.DATA_MATRIX_FIELD_256,qe.MAXICODE_FIELD_64=qe.AZTEC_DATA_6;class Er extends T{}Er.kind="ReedSolomonException";class Fn extends T{}Fn.kind="IllegalStateException";class jr{constructor(e){this.field=e}decode(e,n){const r=this.field,s=new Yt(r,e),o=new Int32Array(n);let l=!0;for(let N=0;N<n;N++){const D=s.evaluateAt(r.exp(N+r.getGeneratorBase()));o[o.length-1-N]=D,D!==0&&(l=!1)}if(l)return;const u=new Yt(r,o),f=this.runEuclideanAlgorithm(r.buildMonomial(n,1),u,n),d=f[0],p=f[1],y=this.findErrorLocations(d),v=this.findErrorMagnitudes(p,y);for(let N=0;N<y.length;N++){const D=e.length-1-r.log(y[N]);if(D<0)throw new Er("Bad error location");e[D]=qe.addOrSubtract(e[D],v[N])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const N=e;e=n,n=N}const s=this.field;let o=e,l=n,u=s.getZero(),f=s.getOne();for(;l.getDegree()>=(r/2|0);){let N=o,D=u;if(o=l,u=f,o.isZero())throw new Er("r_{i-1} was zero");l=N;let b=s.getZero();const L=o.getCoefficient(o.getDegree()),W=s.inverse(L);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){const te=l.getDegree()-o.getDegree(),re=s.multiply(l.getCoefficient(l.getDegree()),W);b=b.addOrSubtract(s.buildMonomial(te,re)),l=l.addOrSubtract(o.multiplyByMonomial(te,re))}if(f=b.multiply(u).addOrSubtract(D),l.getDegree()>=o.getDegree())throw new Fn("Division algorithm failed to reduce polynomial?")}const d=f.getCoefficient(0);if(d===0)throw new Er("sigmaTilde(0) was zero");const p=s.inverse(d),y=f.multiplyScalar(p),v=l.multiplyScalar(p);return[y,v]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let s=0;const o=this.field;for(let l=1;l<o.getSize()&&s<n;l++)e.evaluateAt(l)===0&&(r[s]=o.inverse(l),s++);if(s!==n)throw new Er("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,s=new Int32Array(r),o=this.field;for(let l=0;l<r;l++){const u=o.inverse(n[l]);let f=1;for(let d=0;d<r;d++)if(l!==d){const p=o.multiply(n[d],u),y=p&1?p&-2:p|1;f=o.multiply(f,y)}s[l]=o.multiply(e.evaluateAt(u),o.inverse(f)),o.getGeneratorBase()!==0&&(s[l]=o.multiply(s[l],u))}return s}}var Lt;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(Lt||(Lt={}));class ft{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),s=this.correctBits(r),o=ft.convertBoolArrayToByteArray(s),l=ft.getEncodedData(s),u=new at(o,l,null,null);return u.setNumBits(s.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=Lt.UPPER,s=Lt.UPPER,o="",l=0;for(;l<n;)if(s===Lt.BINARY){if(n-l<5)break;let u=ft.readCode(e,l,5);if(l+=5,u===0){if(n-l<11)break;u=ft.readCode(e,l,11)+31,l+=11}for(let f=0;f<u;f++){if(n-l<8){l=n;break}const d=ft.readCode(e,l,8);o+=ve.castAsNonUtf8Char(d),l+=8}s=r}else{let u=s===Lt.DIGIT?4:5;if(n-l<u)break;let f=ft.readCode(e,l,u);l+=u;let d=ft.getCharacter(s,f);d.startsWith("CTRL_")?(r=s,s=ft.getTable(d.charAt(5)),d.charAt(6)==="L"&&(r=s)):(o+=d,s=r)}return o}static getTable(e){switch(e){case"L":return Lt.LOWER;case"P":return Lt.PUNCT;case"M":return Lt.MIXED;case"D":return Lt.DIGIT;case"B":return Lt.BINARY;case"U":default:return Lt.UPPER}}static getCharacter(e,n){switch(e){case Lt.UPPER:return ft.UPPER_TABLE[n];case Lt.LOWER:return ft.LOWER_TABLE[n];case Lt.MIXED:return ft.MIXED_TABLE[n];case Lt.PUNCT:return ft.PUNCT_TABLE[n];case Lt.DIGIT:return ft.DIGIT_TABLE[n];default:throw new Fn("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=qe.AZTEC_DATA_10):(r=12,n=qe.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=e.length/r;if(o<s)throw new $;let l=e.length%r,u=new Int32Array(o);for(let v=0;v<o;v++,l+=r)u[v]=ft.readCode(e,l,r);try{new jr(n).decode(u,o-s)}catch(v){throw new $(v)}let f=(1<<r)-1,d=0;for(let v=0;v<s;v++){let N=u[v];if(N===0||N===f)throw new $;(N===1||N===f-1)&&d++}let p=new Array(s*r-d),y=0;for(let v=0;v<s;v++){let N=u[v];if(N===1||N===f-1)p.fill(N>1,y,y+r-1),y+=r-1;else for(let D=r-1;D>=0;--D)p[y++]=(N&1<<D)!==0}return p}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(n?11:14)+r*4,o=new Int32Array(s),l=new Array(this.totalBitsInLayer(r,n));if(n)for(let u=0;u<o.length;u++)o[u]=u;else{let u=s+1+2*Ee.truncDivision(Ee.truncDivision(s,2)-1,15),f=s/2,d=Ee.truncDivision(u,2);for(let p=0;p<f;p++){let y=p+Ee.truncDivision(p,15);o[f-p-1]=d-y-1,o[f+p]=d+y+1}}for(let u=0,f=0;u<r;u++){let d=(r-u)*4+(n?9:12),p=u*2,y=s-1-p;for(let v=0;v<d;v++){let N=v*2;for(let D=0;D<2;D++)l[f+N+D]=e.get(o[p+D],o[p+v]),l[f+2*d+N+D]=e.get(o[p+v],o[y-D]),l[f+4*d+N+D]=e.get(o[y-D],o[y-v]),l[f+6*d+N+D]=e.get(o[y-v],o[p+D])}f+=d*8}return l}static readCode(e,n,r){let s=0;for(let o=n;o<n+r;o++)s<<=1,e[o]&&(s|=1);return s}static readByte(e,n){let r=e.length-n;return r>=8?ft.readCode(e,n,8):ft.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=ft.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}ft.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ft.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ft.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ft.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ft.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ze{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,s){const o=e-r,l=n-s;return Math.sqrt(o*o+l*l)}static sum(e){let n=0;for(let r=0,s=e.length;r!==s;r++){const o=e[r];n+=o}return n}}class Cr{static floatToIntBits(e){return e}}Cr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class fe{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof fe){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Cr.floatToIntBits(this.x)+Cr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),s=this.distance(e[0],e[2]);let o,l,u;if(r>=n&&r>=s?(l=e[0],o=e[1],u=e[2]):s>=r&&s>=n?(l=e[1],o=e[0],u=e[2]):(l=e[2],o=e[0],u=e[1]),this.crossProductZ(o,l,u)<0){const f=o;o=u,u=f}e[0]=o,e[1]=l,e[2]=u}static distance(e,n){return Ze.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const s=n.x,o=n.y;return(r.x-s)*(e.y-o)-(r.y-o)*(e.x-s)}}class Yr{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class _s extends Yr{constructor(e,n,r,s,o){super(e,n),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class qn{constructor(e,n,r,s){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=qn.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),s==null&&(s=e.getHeight()/2|0);const o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new j}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,s=this.downInit,o=!1,l=!0,u=!1,f=!1,d=!1,p=!1,y=!1;const v=this.width,N=this.height;for(;l;){l=!1;let D=!0;for(;(D||!f)&&n<v;)D=this.containsBlackPoint(r,s,n,!1),D?(n++,l=!0,f=!0):f||n++;if(n>=v){o=!0;break}let b=!0;for(;(b||!d)&&s<N;)b=this.containsBlackPoint(e,n,s,!0),b?(s++,l=!0,d=!0):d||s++;if(s>=N){o=!0;break}let L=!0;for(;(L||!p)&&e>=0;)L=this.containsBlackPoint(r,s,e,!1),L?(e--,l=!0,p=!0):p||e--;if(e<0){o=!0;break}let W=!0;for(;(W||!y)&&r>=0;)W=this.containsBlackPoint(e,n,r,!0),W?(r--,l=!0,y=!0):y||r--;if(r<0){o=!0;break}l&&(u=!0)}if(!o&&u){const D=n-e;let b=null;for(let re=1;b===null&&re<D;re++)b=this.getBlackPointOnSegment(e,s-re,e+re,s);if(b==null)throw new j;let L=null;for(let re=1;L===null&&re<D;re++)L=this.getBlackPointOnSegment(e,r+re,e+re,r);if(L==null)throw new j;let W=null;for(let re=1;W===null&&re<D;re++)W=this.getBlackPointOnSegment(n,r+re,n-re,r);if(W==null)throw new j;let te=null;for(let re=1;te===null&&re<D;re++)te=this.getBlackPointOnSegment(n,s-re,n-re,s);if(te==null)throw new j;return this.centerEdges(te,b,W,L)}else throw new j}getBlackPointOnSegment(e,n,r,s){const o=Ze.round(Ze.distance(e,n,r,s)),l=(r-e)/o,u=(s-n)/o,f=this.image;for(let d=0;d<o;d++){const p=Ze.round(e+d*l),y=Ze.round(n+d*u);if(f.get(p,y))return new fe(p,y)}return null}centerEdges(e,n,r,s){const o=e.getX(),l=e.getY(),u=n.getX(),f=n.getY(),d=r.getX(),p=r.getY(),y=s.getX(),v=s.getY(),N=qn.CORR;return o<this.width/2?[new fe(y-N,v+N),new fe(u+N,f+N),new fe(d-N,p-N),new fe(o+N,l-N)]:[new fe(y+N,v+N),new fe(u+N,f-N),new fe(d-N,p+N),new fe(o-N,l-N)]}containsBlackPoint(e,n,r,s){const o=this.image;if(s){for(let l=e;l<=n;l++)if(o.get(l,r))return!0}else for(let l=e;l<=n;l++)if(o.get(r,l))return!0;return!1}}qn.INIT_SIZE=10,qn.CORR=1;class Ki{static checkAndNudgePoints(e,n){const r=e.getWidth(),s=e.getHeight();let o=!0;for(let l=0;l<n.length&&o;l+=2){const u=Math.floor(n[l]),f=Math.floor(n[l+1]);if(u<-1||u>r||f<-1||f>s)throw new j;o=!1,u===-1?(n[l]=0,o=!0):u===r&&(n[l]=r-1,o=!0),f===-1?(n[l+1]=0,o=!0):f===s&&(n[l+1]=s-1,o=!0)}o=!0;for(let l=n.length-2;l>=0&&o;l-=2){const u=Math.floor(n[l]),f=Math.floor(n[l+1]);if(u<-1||u>r||f<-1||f>s)throw new j;o=!1,u===-1?(n[l]=0,o=!0):u===r&&(n[l]=r-1,o=!0),f===-1?(n[l+1]=0,o=!0):f===s&&(n[l+1]=s-1,o=!0)}}}class Nn{constructor(e,n,r,s,o,l,u,f,d){this.a11=e,this.a21=n,this.a31=r,this.a12=s,this.a22=o,this.a32=l,this.a13=u,this.a23=f,this.a33=d}static quadrilateralToQuadrilateral(e,n,r,s,o,l,u,f,d,p,y,v,N,D,b,L){const W=Nn.quadrilateralToSquare(e,n,r,s,o,l,u,f);return Nn.squareToQuadrilateral(d,p,y,v,N,D,b,L).times(W)}transformPoints(e){const n=e.length,r=this.a11,s=this.a12,o=this.a13,l=this.a21,u=this.a22,f=this.a23,d=this.a31,p=this.a32,y=this.a33;for(let v=0;v<n;v+=2){const N=e[v],D=e[v+1],b=o*N+f*D+y;e[v]=(r*N+l*D+d)/b,e[v+1]=(s*N+u*D+p)/b}}transformPointsWithValues(e,n){const r=this.a11,s=this.a12,o=this.a13,l=this.a21,u=this.a22,f=this.a23,d=this.a31,p=this.a32,y=this.a33,v=e.length;for(let N=0;N<v;N++){const D=e[N],b=n[N],L=o*D+f*b+y;e[N]=(r*D+l*b+d)/L,n[N]=(s*D+u*b+p)/L}}static squareToQuadrilateral(e,n,r,s,o,l,u,f){const d=e-r+o-u,p=n-s+l-f;if(d===0&&p===0)return new Nn(r-e,o-r,e,s-n,l-s,n,0,0,1);{const y=r-o,v=u-o,N=s-l,D=f-l,b=y*D-v*N,L=(d*D-v*p)/b,W=(y*p-d*N)/b;return new Nn(r-e+L*r,u-e+W*u,e,s-n+L*s,f-n+W*f,n,L,W,1)}}static quadrilateralToSquare(e,n,r,s,o,l,u,f){return Nn.squareToQuadrilateral(e,n,r,s,o,l,u,f).buildAdjoint()}buildAdjoint(){return new Nn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Nn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Qi extends Ki{sampleGrid(e,n,r,s,o,l,u,f,d,p,y,v,N,D,b,L,W,te,re){const q=Nn.quadrilateralToQuadrilateral(s,o,l,u,f,d,p,y,v,N,D,b,L,W,te,re);return this.sampleGridWithTransform(e,n,r,q)}sampleGridWithTransform(e,n,r,s){if(n<=0||r<=0)throw new j;const o=new ot(n,r),l=new Float32Array(2*n);for(let u=0;u<r;u++){const f=l.length,d=u+.5;for(let p=0;p<f;p+=2)l[p]=p/2+.5,l[p+1]=d;s.transformPoints(l),Ki.checkAndNudgePoints(e,l);try{for(let p=0;p<f;p+=2)e.get(Math.floor(l[p]),Math.floor(l[p+1]))&&o.set(p/2,u)}catch{throw new j}}return o}}class Un{static setGridSampler(e){Un.gridSampler=e}static getInstance(){return Un.gridSampler}}Un.gridSampler=new Qi;class rn{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Zr{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let l=r[0];r[0]=r[2],r[2]=l}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new _s(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new j;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let s=0;for(let l=0;l<4;l++){let u=r[(this.shift+l)%4];this.compact?(s<<=7,s+=u>>1&127):(s<<=10,s+=(u>>2&992)+(u>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,n){let r=0;e.forEach((s,o,l)=>{let u=(s>>n-2<<1)+(s&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(Ee.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new j}getCorrectedParameterData(e,n){let r,s;n?(r=7,s=2):(r=10,s=4);let o=r-s,l=new Int32Array(r);for(let f=r-1;f>=0;--f)l[f]=e&15,e>>=4;try{new jr(qe.AZTEC_PARAM).decode(l,o)}catch{throw new j}let u=0;for(let f=0;f<s;f++)u=(u<<4)+l[f];return u}getBullsEyeCorners(e){let n=e,r=e,s=e,o=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let y=this.getFirstDifferent(n,l,1,-1),v=this.getFirstDifferent(r,l,1,1),N=this.getFirstDifferent(s,l,-1,1),D=this.getFirstDifferent(o,l,-1,-1);if(this.nbCenterLayers>2){let b=this.distancePoint(D,y)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(b<.75||b>1.25||!this.isWhiteOrBlackRectangle(y,v,N,D))break}n=y,r=v,s=N,o=D,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new j;this.compact=this.nbCenterLayers===5;let u=new fe(n.getX()+.5,n.getY()-.5),f=new fe(r.getX()+.5,r.getY()+.5),d=new fe(s.getX()-.5,s.getY()+.5),p=new fe(o.getX()-.5,o.getY()-.5);return this.expandSquare([u,f,d,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,s;try{let u=new qn(this.image).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{let f=this.image.getWidth()/2,d=this.image.getHeight()/2;e=this.getFirstDifferent(new rn(f+7,d-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new rn(f+7,d+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new rn(f-7,d+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new rn(f-7,d-7),!1,-1,-1).toResultPoint()}let o=Ze.round((e.getX()+s.getX()+n.getX()+r.getX())/4),l=Ze.round((e.getY()+s.getY()+n.getY()+r.getY())/4);try{let u=new qn(this.image,15,o,l).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{e=this.getFirstDifferent(new rn(o+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new rn(o+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new rn(o-7,l+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new rn(o-7,l-7),!1,-1,-1).toResultPoint()}return o=Ze.round((e.getX()+s.getX()+n.getX()+r.getX())/4),l=Ze.round((e.getY()+s.getY()+n.getY()+r.getY())/4),new rn(o,l)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,s,o){let l=Un.getInstance(),u=this.getDimension(),f=u/2-this.nbCenterLayers,d=u/2+this.nbCenterLayers;return l.sampleGrid(e,u,u,f,f,d,f,d,d,f,d,n.getX(),n.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(e,n,r){let s=0,o=this.distanceResultPoint(e,n),l=o/r,u=e.getX(),f=e.getY(),d=l*(n.getX()-e.getX())/o,p=l*(n.getY()-e.getY())/o;for(let y=0;y<r;y++)this.image.get(Ze.round(u+y*d),Ze.round(f+y*p))&&(s|=1<<r-y-1);return s}isWhiteOrBlackRectangle(e,n,r,s){let o=3;e=new rn(e.getX()-o,e.getY()+o),n=new rn(n.getX()-o,n.getY()-o),r=new rn(r.getX()+o,r.getY()-o),s=new rn(s.getX()+o,s.getY()+o);let l=this.getColor(s,e);if(l===0)return!1;let u=this.getColor(e,n);return u!==l||(u=this.getColor(n,r),u!==l)?!1:(u=this.getColor(r,s),u===l)}getColor(e,n){let r=this.distancePoint(e,n),s=(n.getX()-e.getX())/r,o=(n.getY()-e.getY())/r,l=0,u=e.getX(),f=e.getY(),d=this.image.get(e.getX(),e.getY()),p=Math.ceil(r);for(let v=0;v<p;v++)u+=s,f+=o,this.image.get(Ze.round(u),Ze.round(f))!==d&&l++;let y=l/r;return y>.1&&y<.9?0:y<=.1===d?1:-1}getFirstDifferent(e,n,r,s){let o=e.getX()+r,l=e.getY()+s;for(;this.isValid(o,l)&&this.image.get(o,l)===n;)o+=r,l+=s;for(o-=r,l-=s;this.isValid(o,l)&&this.image.get(o,l)===n;)o+=r;for(o-=r;this.isValid(o,l)&&this.image.get(o,l)===n;)l+=s;return l-=s,new rn(o,l)}expandSquare(e,n,r){let s=r/(2*n),o=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,d=new fe(u+s*o,f+s*l),p=new fe(u-s*o,f-s*l);o=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;let y=new fe(u+s*o,f+s*l),v=new fe(u-s*o,f-s*l);return[d,y,p,v]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=Ze.round(e.getX()),r=Ze.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return Ze.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return Ze.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ee.truncDivision(this.nbLayers-4,8)+1)+15}}class yr{decode(e,n=null){let r=null,s=new Zr(e.getBlackMatrix()),o=null,l=null;try{let p=s.detectMirror(!1);o=p.getPoints(),this.reportFoundResultPoints(n,o),l=new ft().decode(p)}catch(p){r=p}if(l==null)try{let p=s.detectMirror(!0);o=p.getPoints(),this.reportFoundResultPoints(n,o),l=new ft().decode(p)}catch(p){throw r??p}let u=new Ie(l.getText(),l.getRawBytes(),l.getNumBits(),o,se.AZTEC,we.currentTimeMillis()),f=l.getByteSegments();f!=null&&u.putMetadata(Me.BYTE_SEGMENTS,f);let d=l.getECLevel();return d!=null&&u.putMetadata(Me.ERROR_CORRECTION_LEVEL,d),u}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(Fe.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((s,o,l)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class Ml extends be{constructor(e=500){super(new yr,e)}}class Nt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(Fe.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),l=this.doDecode(o,n),u=l.getResultMetadata();let f=270;u!==null&&u.get(Me.ORIENTATION)===!0&&(f=f+u.get(Me.ORIENTATION)%360),l.putMetadata(Me.ORIENTATION,f);const d=l.getResultPoints();if(d!==null){const p=o.getHeight();for(let y=0;y<d.length;y++)d[y]=new fe(p-d[y].getY()-1,d[y].getX())}return l}else throw new j}}reset(){}doDecode(e,n){const r=e.getWidth(),s=e.getHeight();let o=new De(r);const l=n&&n.get(Fe.TRY_HARDER)===!0,u=Math.max(1,s>>(l?8:5));let f;l?f=s:f=15;const d=Math.trunc(s/2);for(let p=0;p<f;p++){const y=Math.trunc((p+1)/2),v=(p&1)===0,N=d+u*(v?y:-y);if(N<0||N>=s)break;try{o=e.getBlackRow(N,o)}catch{continue}for(let D=0;D<2;D++){if(D===1&&(o.reverse(),n&&n.get(Fe.NEED_RESULT_POINT_CALLBACK)===!0)){const b=new Map;n.forEach((L,W)=>b.set(W,L)),b.delete(Fe.NEED_RESULT_POINT_CALLBACK),n=b}try{const b=this.decodeRow(N,o,n);if(D===1){b.putMetadata(Me.ORIENTATION,180);const L=b.getResultPoints();L!==null&&(L[0]=new fe(r-L[0].getX()-1,L[0].getY()),L[1]=new fe(r-L[1].getX()-1,L[1].getY()))}return b}catch{}}}throw new j}static recordPattern(e,n,r){const s=r.length;for(let d=0;d<s;d++)r[d]=0;const o=e.getSize();if(n>=o)throw new j;let l=!e.get(n),u=0,f=n;for(;f<o;){if(e.get(f)!==l)r[u]++;else{if(++u===s)break;r[u]=1,l=!l}f++}if(!(u===s||u===s-1&&f===o))throw new j}static recordPatternInReverse(e,n,r){let s=r.length,o=e.get(n);for(;n>0&&s>=0;)e.get(--n)!==o&&(s--,o=!o);if(s>=0)throw new j;Nt.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const s=e.length;let o=0,l=0;for(let d=0;d<s;d++)o+=e[d],l+=n[d];if(o<l)return Number.POSITIVE_INFINITY;const u=o/l;r*=u;let f=0;for(let d=0;d<s;d++){const p=e[d],y=n[d]*u,v=p>y?p-y:y-p;if(v>r)return Number.POSITIVE_INFINITY;f+=v}return f/o}}class oe extends Nt{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),l=r,u=!1;const f=6;for(let d=r;d<n;d++)if(e.get(d)!==u)o[s]++;else{if(s===f-1){let p=oe.MAX_AVG_VARIANCE,y=-1;for(let v=oe.CODE_START_A;v<=oe.CODE_START_C;v++){const N=Nt.patternMatchVariance(o,oe.CODE_PATTERNS[v],oe.MAX_INDIVIDUAL_VARIANCE);N<p&&(p=N,y=v)}if(y>=0&&e.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,y]);l+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,u=!u}throw new j}static decodeCode(e,n,r){Nt.recordPattern(e,r,n);let s=oe.MAX_AVG_VARIANCE,o=-1;for(let l=0;l<oe.CODE_PATTERNS.length;l++){const u=oe.CODE_PATTERNS[l],f=this.patternMatchVariance(n,u,oe.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,o=l)}if(o>=0)return o;throw new j}decodeRow(e,n,r){const s=r&&r.get(Fe.ASSUME_GS1)===!0,o=oe.findStartPattern(n),l=o[2];let u=0;const f=new Uint8Array(20);f[u++]=l;let d;switch(l){case oe.CODE_START_A:d=oe.CODE_CODE_A;break;case oe.CODE_START_B:d=oe.CODE_CODE_B;break;case oe.CODE_START_C:d=oe.CODE_CODE_C;break;default:throw new $}let p=!1,y=!1,v="",N=o[0],D=o[1];const b=Int32Array.from([0,0,0,0,0,0]);let L=0,W=0,te=l,re=0,q=!0,He=!1,Pe=!1;for(;!p;){const dr=y;switch(y=!1,L=W,W=oe.decodeCode(n,b,D),f[u++]=W,W!==oe.CODE_STOP&&(q=!0),W!==oe.CODE_STOP&&(re++,te+=re*W),N=D,D+=b.reduce((si,Zs)=>si+Zs,0),W){case oe.CODE_START_A:case oe.CODE_START_B:case oe.CODE_START_C:throw new $}switch(d){case oe.CODE_CODE_A:if(W<64)Pe===He?v+=String.fromCharCode(32+W):v+=String.fromCharCode(32+W+128),Pe=!1;else if(W<96)Pe===He?v+=String.fromCharCode(W-64):v+=String.fromCharCode(W+64),Pe=!1;else switch(W!==oe.CODE_STOP&&(q=!1),W){case oe.CODE_FNC_1:s&&(v.length===0?v+="]C1":v+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_A:!He&&Pe?(He=!0,Pe=!1):He&&Pe?(He=!1,Pe=!1):Pe=!0;break;case oe.CODE_SHIFT:y=!0,d=oe.CODE_CODE_B;break;case oe.CODE_CODE_B:d=oe.CODE_CODE_B;break;case oe.CODE_CODE_C:d=oe.CODE_CODE_C;break;case oe.CODE_STOP:p=!0;break}break;case oe.CODE_CODE_B:if(W<96)Pe===He?v+=String.fromCharCode(32+W):v+=String.fromCharCode(32+W+128),Pe=!1;else switch(W!==oe.CODE_STOP&&(q=!1),W){case oe.CODE_FNC_1:s&&(v.length===0?v+="]C1":v+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_B:!He&&Pe?(He=!0,Pe=!1):He&&Pe?(He=!1,Pe=!1):Pe=!0;break;case oe.CODE_SHIFT:y=!0,d=oe.CODE_CODE_A;break;case oe.CODE_CODE_A:d=oe.CODE_CODE_A;break;case oe.CODE_CODE_C:d=oe.CODE_CODE_C;break;case oe.CODE_STOP:p=!0;break}break;case oe.CODE_CODE_C:if(W<100)W<10&&(v+="0"),v+=W;else switch(W!==oe.CODE_STOP&&(q=!1),W){case oe.CODE_FNC_1:s&&(v.length===0?v+="]C1":v+="");break;case oe.CODE_CODE_A:d=oe.CODE_CODE_A;break;case oe.CODE_CODE_B:d=oe.CODE_CODE_B;break;case oe.CODE_STOP:p=!0;break}break}dr&&(d=d===oe.CODE_CODE_A?oe.CODE_CODE_B:oe.CODE_CODE_A)}const Cn=D-N;if(D=n.getNextUnset(D),!n.isRange(D,Math.min(n.getSize(),D+(D-N)/2),!1))throw new j;if(te-=re*L,te%103!==L)throw new _e;const jn=v.length;if(jn===0)throw new j;jn>0&&q&&(d===oe.CODE_CODE_C?v=v.substring(0,jn-2):v=v.substring(0,jn-1));const zt=(o[1]+o[0])/2,st=N+Cn/2,Rt=f.length,hn=new Uint8Array(Rt);for(let dr=0;dr<Rt;dr++)hn[dr]=f[dr];const Br=[new fe(zt,e),new fe(st,e)];return new Ie(v,hn,0,Br,se.CODE_128,new Date().getTime())}}oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],oe.MAX_AVG_VARIANCE=.25,oe.MAX_INDIVIDUAL_VARIANCE=.7,oe.CODE_SHIFT=98,oe.CODE_CODE_C=99,oe.CODE_CODE_B=100,oe.CODE_CODE_A=101,oe.CODE_FNC_1=102,oe.CODE_FNC_2=97,oe.CODE_FNC_3=96,oe.CODE_FNC_4_A=101,oe.CODE_FNC_4_B=100,oe.CODE_START_A=103,oe.CODE_START_B=104,oe.CODE_START_C=105,oe.CODE_STOP=106;class Ft extends Nt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=Ft.findAsteriskPattern(n,s),l=n.getNextSet(o[1]),u=n.getSize(),f,d;do{Ft.recordPattern(n,l,s);let b=Ft.toNarrowWidePattern(s);if(b<0)throw new j;f=Ft.patternToChar(b),this.decodeRowResult+=f,d=l;for(let L of s)l+=L;l=n.getNextSet(l)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let p=0;for(let b of s)p+=b;let y=l-d-p;if(l!==u&&y*2<p)throw new j;if(this.usingCheckDigit){let b=this.decodeRowResult.length-1,L=0;for(let W=0;W<b;W++)L+=Ft.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(b)!==Ft.ALPHABET_STRING.charAt(L%43))throw new _e;this.decodeRowResult=this.decodeRowResult.substring(0,b)}if(this.decodeRowResult.length===0)throw new j;let v;this.extendedMode?v=Ft.decodeExtended(this.decodeRowResult):v=this.decodeRowResult;let N=(o[1]+o[0])/2,D=d+p/2;return new Ie(v,null,0,[new fe(N,e),new fe(D,e)],se.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),s=e.getNextSet(0),o=0,l=s,u=!1,f=n.length;for(let d=s;d<r;d++)if(e.get(d)!==u)n[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(n)===Ft.ASTERISK_ENCODING&&e.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new j}static toNarrowWidePattern(e){let n=e.length,r=0,s;do{let o=2147483647;for(let f of e)f<o&&f>r&&(o=f);r=o,s=0;let l=0,u=0;for(let f=0;f<n;f++){let d=e[f];d>r&&(u|=1<<n-1-f,s++,l+=d)}if(s===3){for(let f=0;f<n&&s>0;f++){let d=e[f];if(d>r&&(s--,d*2>=l))return-1}return u}}while(s>3);return-1}static patternToChar(e){for(let n=0;n<Ft.CHARACTER_ENCODINGS.length;n++)if(Ft.CHARACTER_ENCODINGS[n]===e)return Ft.ALPHABET_STRING.charAt(n);if(e===Ft.ASTERISK_ENCODING)return"*";throw new j}static decodeExtended(e){let n=e.length,r="";for(let s=0;s<n;s++){let o=e.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let l=e.charAt(s+1),u="\0";switch(o){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new $;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new $;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new $;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new $;break}r+=u,s++}else r+=o}return r}}Ft.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ft.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ft.ASTERISK_ENCODING=148;class it extends Nt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let s=this.decodeStart(n),o=this.decodeEnd(n),l=new Ve;it.decodeMiddle(n,s[1],o[0],l);let u=l.toString(),f=null;r!=null&&(f=r.get(Fe.ALLOWED_LENGTHS)),f==null&&(f=it.DEFAULT_ALLOWED_LENGTHS);let d=u.length,p=!1,y=0;for(let D of f){if(d===D){p=!0;break}D>y&&(y=D)}if(!p&&d>y&&(p=!0),!p)throw new $;const v=[new fe(s[1],e),new fe(o[0],e)];return new Ie(u,null,0,v,se.ITF,new Date().getTime())}static decodeMiddle(e,n,r,s){let o=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),l.fill(0),u.fill(0);n<r;){Nt.recordPattern(e,n,o);for(let d=0;d<5;d++){let p=2*d;l[d]=o[p],u[d]=o[p+1]}let f=it.decodeDigit(l);s.append(f.toString()),f=this.decodeDigit(u),s.append(f.toString()),o.forEach(function(d){n+=d})}}decodeStart(e){let n=it.skipWhiteSpace(e),r=it.findGuardPattern(e,n,it.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let s=n-1;r>0&&s>=0&&!e.get(s);s--)r--;if(r!==0)throw new j}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new j;return r}decodeEnd(e){e.reverse();try{let n=it.skipWhiteSpace(e),r;try{r=it.findGuardPattern(e,n,it.END_PATTERN_REVERSED[0])}catch(o){o instanceof j&&(r=it.findGuardPattern(e,n,it.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let s=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-s,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let s=r.length,o=new Int32Array(s),l=e.getSize(),u=!1,f=0,d=n;o.fill(0);for(let p=n;p<l;p++)if(e.get(p)!==u)o[f]++;else{if(f===s-1){if(Nt.patternMatchVariance(o,r,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return[d,p];d+=o[0]+o[1],we.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new j}static decodeDigit(e){let n=it.MAX_AVG_VARIANCE,r=-1,s=it.PATTERNS.length;for(let o=0;o<s;o++){let l=it.PATTERNS[o],u=Nt.patternMatchVariance(e,l,it.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,r=o):u===n&&(r=-1)}if(r>=0)return r%10;throw new j}}it.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],it.MAX_AVG_VARIANCE=.38,it.MAX_INDIVIDUAL_VARIANCE=.5,it.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],it.START_PATTERN=Int32Array.from([1,1,1,1]),it.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class wt extends Nt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!n;){o=Int32Array.from([0,0,0]),r=wt.findGuardPattern(e,s,!1,this.START_END_PATTERN,o);let l=r[0];s=r[1];let u=l-(s-l);u>=0&&(n=e.isRange(u,l,!1))}return r}static checkChecksum(e){return wt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return wt.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}return(1e3-r)%10}static decodeEnd(e,n){return wt.findGuardPattern(e,n,!1,wt.START_END_PATTERN,new Int32Array(wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,s){return this.findGuardPattern(e,n,r,s,new Int32Array(s.length))}static findGuardPattern(e,n,r,s,o){let l=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let u=0,f=n,d=s.length,p=r;for(let y=n;y<l;y++)if(e.get(y)!==p)o[u]++;else{if(u===d-1){if(Nt.patternMatchVariance(o,s,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return Int32Array.from([f,y]);f+=o[0]+o[1];let v=o.slice(2,o.length-1);for(let N=0;N<u-1;N++)o[N]=v[N];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,p=!p}throw new j}static decodeDigit(e,n,r,s){this.recordPattern(e,r,n);let o=this.MAX_AVG_VARIANCE,l=-1,u=s.length;for(let f=0;f<u;f++){let d=s[f],p=Nt.patternMatchVariance(n,d,wt.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,l=f)}if(l>=0)return l;throw new j}}wt.MAX_AVG_VARIANCE=.48,wt.MAX_INDIVIDUAL_VARIANCE=.7,wt.START_END_PATTERN=Int32Array.from([1,1,1]),wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Or{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),l=s.toString(),u=Or.parseExtensionString(l),f=[new fe((r[0]+r[1])/2,e),new fe(o,e)],d=new Ie(l,null,0,f,se.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let d=0;d<5&&l<o;d++){let p=wt.decodeDigit(e,s,l,wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let y of s)l+=y;p>=10&&(u|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==5)throw new j;let f=this.determineCheckDigit(u);if(Or.extensionChecksum(r.toString())!==f)throw new j;return l}static extensionChecksum(e){let n=e.length,r=0;for(let s=n-2;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;r*=3;for(let s=n-1;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new j}static parseExtensionString(e){if(e.length!==5)return null;let n=Or.parseExtension5String(e);return n==null?null:new Map([[Me.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),s=(r/100).toString(),o=r%100,l=o<10?"0"+o:o.toString();return n+s+"."+l}}class yi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),l=s.toString(),u=yi.parseExtensionString(l),f=[new fe((r[0]+r[1])/2,e),new fe(o,e)],d=new Ie(l,null,0,f,se.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let f=0;f<2&&l<o;f++){let d=wt.decodeDigit(e,s,l,wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+d%10);for(let p of s)l+=p;d>=10&&(u|=1<<1-f),f!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==2)throw new j;if(parseInt(r.toString())%4!==u)throw new j;return l}static parseExtensionString(e){return e.length!==2?null:new Map([[Me.ISSUE_NUMBER,parseInt(e)]])}}class qi{static decodeRow(e,n,r){let s=wt.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Or().decodeRow(e,n,s)}catch{return new yi().decodeRow(e,n,s)}}}qi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xe extends wt{constructor(){super(),this.decodeRowStringBuffer="",Xe.L_AND_G_PATTERNS=Xe.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=Xe.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let s=0;s<n.length;s++)r[s]=n[n.length-s-1];Xe.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let s=Xe.findStartGuardPattern(n),o=r==null?null:r.get(Fe.NEED_RESULT_POINT_CALLBACK);if(o!=null){const q=new fe((s[0]+s[1])/2,e);o.foundPossibleResultPoint(q)}let l=this.decodeMiddle(n,s,this.decodeRowStringBuffer),u=l.rowOffset,f=l.resultString;if(o!=null){const q=new fe(u,e);o.foundPossibleResultPoint(q)}let d=this.decodeEnd(n,u);if(o!=null){const q=new fe((d[0]+d[1])/2,e);o.foundPossibleResultPoint(q)}let p=d[1],y=p+(p-d[0]);if(y>=n.getSize()||!n.isRange(p,y,!1))throw new j;let v=f.toString();if(v.length<8)throw new $;if(!Xe.checkChecksum(v))throw new _e;let N=(s[1]+s[0])/2,D=(d[1]+d[0])/2,b=this.getBarcodeFormat(),L=[new fe(N,e),new fe(D,e)],W=new Ie(v,null,0,L,b,new Date().getTime()),te=0;try{let q=qi.decodeRow(e,n,d[1]);W.putMetadata(Me.UPC_EAN_EXTENSION,q.getText()),W.putAllMetadata(q.getResultMetadata()),W.addResultPoints(q.getResultPoints()),te=q.getText().length}catch{}let re=r==null?null:r.get(Fe.ALLOWED_EAN_EXTENSIONS);if(re!=null){let q=!1;for(let He in re)if(te.toString()===He){q=!0;break}if(!q)throw new j}return W}decodeEnd(e,n){return Xe.findGuardPattern(e,n,!1,Xe.START_END_PATTERN,new Int32Array(Xe.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Xe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return Xe.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}return(1e3-r)%10}}class Rn extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let d=0;d<6&&l<o;d++){let p=Xe.decodeDigit(e,s,l,Xe.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let y of s)l+=y;p>=10&&(u|=1<<5-d)}r=Rn.determineFirstDigit(r,u),l=Xe.findGuardPattern(e,l,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<6&&l<o;d++){let p=Xe.decodeDigit(e,s,l,Xe.L_PATTERNS);r+=String.fromCharCode(48+p);for(let y of s)l+=y}return{rowOffset:l,resultString:r}}getBarcodeFormat(){return se.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new j}}Rn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ns extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1];for(let f=0;f<4&&l<o;f++){let d=Xe.decodeDigit(e,s,l,Xe.L_PATTERNS);r+=String.fromCharCode(48+d);for(let p of s)l+=p}l=Xe.findGuardPattern(e,l,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<4&&l<o;f++){let d=Xe.decodeDigit(e,s,l,Xe.L_PATTERNS);r+=String.fromCharCode(48+d);for(let p of s)l+=p}return{rowOffset:l,resultString:r}}getBarcodeFormat(){return se.EAN_8}}class Rs extends Xe{constructor(){super(...arguments),this.ean13Reader=new Rn}getBarcodeFormat(){return se.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new Ie(n.substring(1),null,null,e.getResultPoints(),se.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new j}reset(){this.ean13Reader.reset()}}class On extends Xe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters.map(d=>d);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=e.getSize();let l=n[1],u=0;for(let d=0;d<6&&l<o;d++){const p=On.decodeDigit(e,s,l,On.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let y of s)l+=y;p>=10&&(u|=1<<5-d)}let f=On.determineNumSysAndCheckDigit(r,u);return{rowOffset:l,resultString:f}}decodeEnd(e,n){return On.findGuardPatternWithoutCounters(e,n,!0,On.MIDDLE_END_PATTERN)}checkChecksum(e){return Xe.checkChecksum(On.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),l=String.fromCharCode(48+s);return o+e+l}throw j.getNotFoundInstance()}getBarcodeFormat(){return se.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new Ve;r.append(e.charAt(0));let s=n[5];switch(s){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(s),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(s);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}On.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),On.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ji extends Nt{constructor(e){super();let n=e==null?null:e.get(Fe.POSSIBLE_FORMATS),r=[];S(n)?(r.push(new Rn),r.push(new Rs),r.push(new Ns),r.push(new On)):(n.indexOf(se.EAN_13)>-1&&r.push(new Rn),n.indexOf(se.UPC_A)>-1&&r.push(new Rs),n.indexOf(se.EAN_8)>-1&&r.push(new Ns),n.indexOf(se.UPC_E)>-1&&r.push(new On)),this.readers=r}decodeRow(e,n,r){for(let s of this.readers)try{const o=s.decodeRow(e,n,r),l=o.getBarcodeFormat()===se.EAN_13&&o.getText().charAt(0)==="0",u=r==null?null:r.get(Fe.POSSIBLE_FORMATS),f=u==null||u.includes(se.UPC_A);if(l&&f){const d=o.getRawBytes(),p=new Ie(o.getText().substring(1),d,d?d.length:null,o.getResultPoints(),se.UPC_A);return p.putAllMetadata(o.getResultMetadata()),p}return o}catch{}throw new j}reset(){for(let e of this.readers)e.reset()}}class Zt extends Nt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(Nt.patternMatchVariance(e,n[r],Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return r;throw new j}static count(e){return Ze.sum(new Int32Array(e))}static increment(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]>s&&(s=n[o],r=o);e[r]++}static decrement(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]<s&&(s=n[o],r=o);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],s=n/r;if(s>=Zt.MIN_FINDER_PATTERN_RATIO&&s<=Zt.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(let u of e)u>l&&(l=u),u<o&&(o=u);return l<10*o}return!1}}Zt.MAX_AVG_VARIANCE=.2,Zt.MAX_INDIVIDUAL_VARIANCE=.45,Zt.MIN_FINDER_PATTERN_RATIO=9.5/12,Zt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ar{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Ar))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ai{constructor(e,n,r,s,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new fe(r,o)),this.resultPoints.push(new fe(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ai))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class mn{constructor(){}static getRSSvalue(e,n,r){let s=0;for(let f of e)s+=f;let o=0,l=0,u=e.length;for(let f=0;f<u-1;f++){let d;for(d=1,l|=1<<f;d<e[f];d++,l&=~(1<<f)){let p=mn.combins(s-d-1,u-f-2);if(r&&l===0&&s-d-(u-f-1)>=u-f-1&&(p-=mn.combins(s-d-(u-f),u-f-2)),u-f-1>1){let y=0;for(let v=s-d-(u-f-2);v>n;v--)y+=mn.combins(s-d-v-1,u-f-3);p-=y*(u-1-f)}else s-d>n&&p--;o+=p}s-=d}return o}static combins(e,n){let r,s;e-n>n?(s=n,r=e-n):(s=e-n,r=n);let o=1,l=1;for(let u=e;u>r;u--)o*=u,l<=s&&(o/=l,l++);for(;l<=s;)o/=l,l++;return o}}class Os{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,s=new De(r),o=0,u=e[0].getRightChar().getValue();for(let f=11;f>=0;--f)u&1<<f&&s.set(o),o++;for(let f=1;f<e.length;++f){let d=e[f],p=d.getLeftChar().getValue();for(let y=11;y>=0;--y)p&1<<y&&s.set(o),o++;if(d.getRightChar()!=null){let y=d.getRightChar().getValue();for(let v=11;v>=0;--v)y&1<<v&&s.set(o),o++}}return s}}class Vn{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ds{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Gt extends Ds{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===Gt.FNC1}}Gt.FNC1="$";class Jn extends Ds{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class cn extends Ds{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new $;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===cn.FNC1}isSecondDigitFNC1(){return this.secondDigit===cn.FNC1}isAnyFNC1(){return this.firstDigit===cn.FNC1||this.secondDigit===cn.FNC1}}cn.FNC1=10;class ue{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new j;let n=e.substring(0,2);for(let o of ue.TWO_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(2,o[2],e):ue.processFixedAI(2,o[1],e);if(e.length<3)throw new j;let r=e.substring(0,3);for(let o of ue.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(3,o[2],e):ue.processFixedAI(3,o[1],e);for(let o of ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,o[2],e):ue.processFixedAI(4,o[1],e);if(e.length<4)throw new j;let s=e.substring(0,4);for(let o of ue.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,o[2],e):ue.processFixedAI(4,o[1],e);throw new j}static processFixedAI(e,n,r){if(r.length<e)throw new j;let s=r.substring(0,e);if(r.length<e+n)throw new j;let o=r.substring(e,e+n),l=r.substring(e+n),u="("+s+")"+o,f=ue.parseFieldsInGeneralPurpose(l);return f==null?u:u+f}static processVariableAI(e,n,r){let s=r.substring(0,e),o;r.length<e+n?o=r.length:o=e+n;let l=r.substring(e,o),u=r.substring(o),f="("+s+")"+l,d=ue.parseFieldsInGeneralPurpose(u);return d==null?f:f+d}}ue.VARIABLE_LENGTH=[],ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ue.VARIABLE_LENGTH,20],["22",ue.VARIABLE_LENGTH,29],["30",ue.VARIABLE_LENGTH,8],["37",ue.VARIABLE_LENGTH,8],["90",ue.VARIABLE_LENGTH,30],["91",ue.VARIABLE_LENGTH,30],["92",ue.VARIABLE_LENGTH,30],["93",ue.VARIABLE_LENGTH,30],["94",ue.VARIABLE_LENGTH,30],["95",ue.VARIABLE_LENGTH,30],["96",ue.VARIABLE_LENGTH,30],["97",ue.VARIABLE_LENGTH,3],["98",ue.VARIABLE_LENGTH,30],["99",ue.VARIABLE_LENGTH,30]],ue.THREE_DIGIT_DATA_LENGTH=[["240",ue.VARIABLE_LENGTH,30],["241",ue.VARIABLE_LENGTH,30],["242",ue.VARIABLE_LENGTH,6],["250",ue.VARIABLE_LENGTH,30],["251",ue.VARIABLE_LENGTH,30],["253",ue.VARIABLE_LENGTH,17],["254",ue.VARIABLE_LENGTH,20],["400",ue.VARIABLE_LENGTH,30],["401",ue.VARIABLE_LENGTH,30],["402",17],["403",ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ue.VARIABLE_LENGTH,20],["421",ue.VARIABLE_LENGTH,15],["422",3],["423",ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ue.VARIABLE_LENGTH,15],["391",ue.VARIABLE_LENGTH,18],["392",ue.VARIABLE_LENGTH,15],["393",ue.VARIABLE_LENGTH,18],["703",ue.VARIABLE_LENGTH,30]],ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ue.VARIABLE_LENGTH,20],["8003",ue.VARIABLE_LENGTH,30],["8004",ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ue.VARIABLE_LENGTH,30],["8008",ue.VARIABLE_LENGTH,12],["8018",18],["8020",ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ue.VARIABLE_LENGTH,70],["8200",ue.VARIABLE_LENGTH,70]];class Kr{constructor(e){this.buffer=new Ve,this.information=e}decodeAllCodes(e,n){let r=n,s=null;do{let o=this.decodeGeneralPurposeField(r,s),l=ue.parseFieldsInGeneralPurpose(o.getNewString());if(l!=null&&e.append(l),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new cn(this.information.getSize(),cn.FNC1,cn.FNC1):new cn(this.information.getSize(),o-1,cn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,s=(n-8)%11;return new cn(e+7,r,s)}extractNumericValueFromBitArray(e,n){return Kr.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let s=0;for(let o=0;o<r;++o)e.get(n+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new Jn(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Jn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new Jn(this.current.getPosition(),this.buffer.toString()):n=new Jn(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Vn(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new Jn(this.current.getPosition(),this.buffer.toString());return new Vn(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Jn(this.current.getPosition(),this.buffer.toString());return new Vn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Jn(this.current.getPosition(),this.buffer.toString());return new Vn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,8);return s>=232&&s<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Gt(e+5,Gt.FNC1);if(n>=5&&n<15)return new Gt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Gt(e+7,""+(r+1));if(r>=90&&r<116)return new Gt(e+7,""+(r+7));let s=this.extractNumericValueFromBitArray(e,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new $}return new Gt(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Gt(e+5,Gt.FNC1);if(n>=5&&n<15)return new Gt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Gt(e+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Fn("Decoding invalid alphanumeric value: "+r)}return new Gt(e+6,s)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class Ms{constructor(e){this.information=e,this.generalDecoder=new Kr(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class wn extends Ms{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}wn.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let s=0;s<13;s++){let o=e.charAt(s+n).charCodeAt(0)-48;r+=s&1?o:3*o}r=10-r%10,r===10&&(r=0),e.append(r)}}wn.GTIN_SIZE=40;class Dn extends wn{constructor(e){super(e)}parseInformation(){let e=new Ve;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,Dn.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,Dn.HEADER_SIZE+44)}}Dn.HEADER_SIZE=4;class vi extends Ms{constructor(e){super(e)}parseInformation(){let e=new Ve;return this.getGeneralDecoder().decodeAllCodes(e,vi.HEADER_SIZE)}}vi.HEADER_SIZE=5;class Si extends wn{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,s);let o=this.checkWeight(s),l=1e5;for(let u=0;u<5;++u)o/l===0&&e.append("0"),l/=10;e.append(o)}}class $n extends Si{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=$n.HEADER_SIZE+Si.GTIN_SIZE+$n.WEIGHT_SIZE)throw new j;let e=new Ve;return this.encodeCompressedGtin(e,$n.HEADER_SIZE),this.encodeCompressedWeight(e,$n.HEADER_SIZE+Si.GTIN_SIZE,$n.WEIGHT_SIZE),e.toString()}}$n.HEADER_SIZE=5,$n.WEIGHT_SIZE=15;class wo extends $n{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class Eo extends $n{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class zn extends wn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<zn.HEADER_SIZE+wn.GTIN_SIZE)throw new j;let e=new Ve;this.encodeCompressedGtin(e,zn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(zn.HEADER_SIZE+wn.GTIN_SIZE,zn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(zn.HEADER_SIZE+wn.GTIN_SIZE+zn.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}zn.HEADER_SIZE=8,zn.LAST_DIGIT_SIZE=2;class sn extends wn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<sn.HEADER_SIZE+wn.GTIN_SIZE)throw new j;let e=new Ve;this.encodeCompressedGtin(e,sn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+wn.GTIN_SIZE,sn.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+wn.GTIN_SIZE+sn.LAST_DIGIT_SIZE,sn.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(sn.HEADER_SIZE+wn.GTIN_SIZE+sn.LAST_DIGIT_SIZE+sn.FIRST_THREE_DIGITS_SIZE,null);return e.append(s.getNewString()),e.toString()}}sn.HEADER_SIZE=8,sn.LAST_DIGIT_SIZE=2,sn.FIRST_THREE_DIGITS_SIZE=10;class Et extends Si{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE+Et.DATE_SIZE)throw new j;let e=new Ve;return this.encodeCompressedGtin(e,Et.HEADER_SIZE),this.encodeCompressedWeight(e,Et.HEADER_SIZE+Et.GTIN_SIZE,Et.WEIGHT_SIZE),this.encodeCompressedDate(e,Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,Et.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let l=r;l/10==0&&e.append("0"),e.append(l),o/10==0&&e.append("0"),e.append(o),s/10==0&&e.append("0"),e.append(s)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}Et.HEADER_SIZE=8,Et.WEIGHT_SIZE=20,Et.DATE_SIZE=16;function Co(E){try{if(E.get(1))return new Dn(E);if(!E.get(2))return new vi(E);switch(Kr.extractNumericValueFromBitArray(E,1,4)){case 4:return new wo(E);case 5:return new Eo(E)}switch(Kr.extractNumericValueFromBitArray(E,1,5)){case 12:return new zn(E);case 13:return new sn(E)}switch(Kr.extractNumericValueFromBitArray(E,1,7)){case 56:return new Et(E,"310","11");case 57:return new Et(E,"320","11");case 58:return new Et(E,"310","13");case 59:return new Et(E,"320","13");case 60:return new Et(E,"310","15");case 61:return new Et(E,"320","15");case 62:return new Et(E,"310","17");case 63:return new Et(E,"320","17")}}catch(e){throw console.log(e),new Fn("unknown decoder: "+E)}}class ut{constructor(e,n,r,s){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof ut?ut.equalsOrNull(e.leftchar,n.leftchar)&&ut.equalsOrNull(e.rightchar,n.rightchar)&&ut.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:ut.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class bs{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof bs?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((s,o)=>{n.forEach(l=>{s.getLeftChar().getValue()===l.getLeftChar().getValue()&&s.getRightChar().getValue()===l.getRightChar().getValue()&&s.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(r=!0)})}),r}}class K extends Zt{constructor(e){super(...arguments),this.pairs=new Array(K.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return K.constructResult(this.decodeRow2pairs(e,n))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,K.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(o){if(o instanceof j){if(!this.pairs.length)throw new j;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(e,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new j}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let l of e)this.pairs.push(l.getPairs());if(this.pairs.push(s.getPairs()),!K.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(s);try{return this.checkRows(o,r+1)}catch(l){this.verbose&&console.log(l)}}throw new j}static isValidSequence(e){for(let n of K.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let s=0;s<e.length;s++)if(e[s].getFinderPattern().getValue()!=n[s]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let l=this.rows[r];if(l.getRowNumber()>e){o=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),r++}o||s||K.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new bs(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let s of r.getPairs())for(let o of e)if(ut.equals(s,o))break}}static isPartialRow(e,n){for(let r of n){let s=!0;for(let o of e){let l=!1;for(let u of r.getPairs())if(o.equals(u)){l=!0;break}if(!l){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Os.buildBitArray(e),s=Co(n).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),l=e[e.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],l[0],l[1]];return new Ie(s,null,null,u,se.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let u=1;u<this.pairs.size();++u){let f=this.pairs.get(u);s+=f.getLeftChar().getChecksumPortion(),o++;let d=f.getRightChar();d!=null&&(s+=d.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let s=n.length%2==0;this.startFromEven&&(s=!s);let o,l=!0,u=-1;do this.findNextPair(e,n,u),o=this.parseFoundFinderPattern(e,r,s),o==null?u=K.getNextSecondBar(e,this.startEnd[0]):l=!1;while(l);let f=this.decodeDataCharacter(e,o,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new j;let d;try{d=this.decodeDataCharacter(e,o,s,!1)}catch(p){d=null,this.verbose&&console.log(p)}return new ut(f,d,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l;r>=0?l=r:this.isEmptyPair(n)?l=0:l=n[n.length-1].getFinderPattern().getStartEnd()[1];let u=n.length%2!=0;this.startFromEven&&(u=!u);let f=!1;for(;l<o&&(f=!e.get(l),!!f);)l++;let d=0,p=l;for(let y=l;y<o;y++)if(e.get(y)!=f)s[d]++;else{if(d==3){if(u&&K.reverseCounters(s),K.isFinderPattern(s)){this.startEnd[0]=p,this.startEnd[1]=y;return}u&&K.reverseCounters(s),p+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,f=!f}throw new j}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let s=e[r];e[r]=e[n-r-1],e[n-r-1]=s}}parseFoundFinderPattern(e,n,r){let s,o,l;if(r){let d=this.startEnd[0]-1;for(;d>=0&&!e.get(d);)d--;d++,s=this.startEnd[0]-d,o=d,l=this.startEnd[1]}else o=this.startEnd[0],l=e.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];let u=this.getDecodeFinderCounters();we.arraycopy(u,0,u,1,u.length-1),u[0]=s;let f;try{f=this.parseFinderValue(u,K.FINDER_PATTERNS)}catch{return null}return new Ai(f,[o,l],o,l,n)}decodeDataCharacter(e,n,r,s){let o=this.getDataCharacterCounters();for(let st=0;st<o.length;st++)o[st]=0;if(s)K.recordPatternInReverse(e,n.getStartEnd()[0],o);else{K.recordPattern(e,n.getStartEnd()[1],o);for(let st=0,Rt=o.length-1;st<Rt;st++,Rt--){let hn=o[st];o[st]=o[Rt],o[Rt]=hn}}let l=17,u=Ze.sum(new Int32Array(o))/l,f=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-f)/f>.3)throw new j;let d=this.getOddCounts(),p=this.getEvenCounts(),y=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let st=0;st<o.length;st++){let Rt=1*o[st]/u,hn=Rt+.5;if(hn<1){if(Rt<.3)throw new j;hn=1}else if(hn>8){if(Rt>8.7)throw new j;hn=8}let Br=st/2;st&1?(p[Br]=hn,v[Br]=Rt-hn):(d[Br]=hn,y[Br]=Rt-hn)}this.adjustOddEvenCounts(l);let N=4*n.getValue()+(r?0:2)+(s?0:1)-1,D=0,b=0;for(let st=d.length-1;st>=0;st--){if(K.isNotA1left(n,r,s)){let Rt=K.WEIGHTS[N][2*st];b+=d[st]*Rt}D+=d[st]}let L=0;for(let st=p.length-1;st>=0;st--)if(K.isNotA1left(n,r,s)){let Rt=K.WEIGHTS[N][2*st+1];L+=p[st]*Rt}let W=b+L;if(D&1||D>13||D<4)throw new j;let te=(13-D)/2,re=K.SYMBOL_WIDEST[te],q=9-re,He=mn.getRSSvalue(d,re,!0),Pe=mn.getRSSvalue(p,q,!1),Cn=K.EVEN_TOTAL_SUBSET[te],jn=K.GSUM[te],zt=He*Cn+Pe+jn;return new Ar(zt,W)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=Ze.sum(new Int32Array(this.getOddCounts())),r=Ze.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;n>13?o=!0:n<4&&(s=!0);let l=!1,u=!1;r>13?u=!0:r<4&&(l=!0);let f=n+r-e,d=(n&1)==1,p=(r&1)==0;if(f==1)if(d){if(p)throw new j;o=!0}else{if(!p)throw new j;u=!0}else if(f==-1)if(d){if(p)throw new j;s=!0}else{if(!p)throw new j;l=!0}else if(f==0){if(d){if(!p)throw new j;n<r?(s=!0,u=!0):(o=!0,l=!0)}else if(p)throw new j}else throw new j;if(s){if(o)throw new j;K.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&K.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new j;K.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&K.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}K.SYMBOL_WIDEST=[7,5,4,3,1],K.EVEN_TOTAL_SUBSET=[4,20,52,104,204],K.GSUM=[0,348,1388,2948,3988],K.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],K.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],K.FINDER_PAT_A=0,K.FINDER_PAT_B=1,K.FINDER_PAT_C=2,K.FINDER_PAT_D=3,K.FINDER_PAT_E=4,K.FINDER_PAT_F=5,K.FINDER_PATTERN_SEQUENCES=[[K.FINDER_PAT_A,K.FINDER_PAT_A],[K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B],[K.FINDER_PAT_A,K.FINDER_PAT_C,K.FINDER_PAT_B,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_C],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F]],K.MAX_PAIRS=11;class yo extends Ar{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class pt extends Zt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const s=this.decodePair(n,!1,e,r);pt.addOrTally(this.possibleLeftPairs,s),n.reverse();let o=this.decodePair(n,!0,e,r);pt.addOrTally(this.possibleRightPairs,o),n.reverse();for(let l of this.possibleLeftPairs)if(l.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&pt.checkChecksum(l,u))return pt.constructResult(l,u)}throw new j}static addOrTally(e,n){if(n==null)return;let r=!1;for(let s of e)if(s.getValue()===n.getValue()){s.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),s=new String(r).toString(),o=new Ve;for(let d=13-s.length;d>0;d--)o.append("0");o.append(s);let l=0;for(let d=0;d<13;d++){let p=o.charAt(d).charCodeAt(0)-48;l+=d&1?p:3*p}l=10-l%10,l===10&&(l=0),o.append(l.toString());let u=e.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Ie(o.toString(),null,0,[u[0],u[1],f[0],f[1]],se.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(e,n,r,s){try{let o=this.findFinderPattern(e,n),l=this.parseFoundFinderPattern(e,r,n,o),u=s==null?null:s.get(Fe.NEED_RESULT_POINT_CALLBACK);if(u!=null){let p=(o[0]+o[1])/2;n&&(p=e.getSize()-1-p),u.foundPossibleResultPoint(new fe(p,r))}let f=this.decodeDataCharacter(e,l,!0),d=this.decodeDataCharacter(e,l,!1);return new yo(1597*f.getValue()+d.getValue(),f.getChecksumPortion()+4*d.getChecksumPortion(),l)}catch{return null}}decodeDataCharacter(e,n,r){let s=this.getDataCharacterCounters();for(let L=0;L<s.length;L++)s[L]=0;if(r)Nt.recordPatternInReverse(e,n.getStartEnd()[0],s);else{Nt.recordPattern(e,n.getStartEnd()[1]+1,s);for(let L=0,W=s.length-1;L<W;L++,W--){let te=s[L];s[L]=s[W],s[W]=te}}let o=r?16:15,l=Ze.sum(new Int32Array(s))/o,u=this.getOddCounts(),f=this.getEvenCounts(),d=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(let L=0;L<s.length;L++){let W=s[L]/l,te=Math.floor(W+.5);te<1?te=1:te>8&&(te=8);let re=Math.floor(L/2);L&1?(f[re]=te,p[re]=W-te):(u[re]=te,d[re]=W-te)}this.adjustOddEvenCounts(r,o);let y=0,v=0;for(let L=u.length-1;L>=0;L--)v*=9,v+=u[L],y+=u[L];let N=0,D=0;for(let L=f.length-1;L>=0;L--)N*=9,N+=f[L],D+=f[L];let b=v+3*N;if(r){if(y&1||y>12||y<4)throw new j;let L=(12-y)/2,W=pt.OUTSIDE_ODD_WIDEST[L],te=9-W,re=mn.getRSSvalue(u,W,!1),q=mn.getRSSvalue(f,te,!0),He=pt.OUTSIDE_EVEN_TOTAL_SUBSET[L],Pe=pt.OUTSIDE_GSUM[L];return new Ar(re*He+q+Pe,b)}else{if(D&1||D>10||D<4)throw new j;let L=(10-D)/2,W=pt.INSIDE_ODD_WIDEST[L],te=9-W,re=mn.getRSSvalue(u,W,!0),q=mn.getRSSvalue(f,te,!1),He=pt.INSIDE_ODD_TOTAL_SUBSET[L],Pe=pt.INSIDE_GSUM[L];return new Ar(q*He+re+Pe,b)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),o=!1,l=0;for(;l<s&&(o=!e.get(l),n!==o);)l++;let u=0,f=l;for(let d=l;d<s;d++)if(e.get(d)!==o)r[u]++;else{if(u===3){if(Zt.isFinderPattern(r))return[f,d];f+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,o=!o}throw new j}parseFoundFinderPattern(e,n,r,s){let o=e.get(s[0]),l=s[0]-1;for(;l>=0&&o!==e.get(l);)l--;l++;const u=s[0]-l,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);we.arraycopy(f,0,d,1,f.length-1),d[0]=u;const p=this.parseFinderValue(d,pt.FINDER_PATTERNS);let y=l,v=s[1];return r&&(y=e.getSize()-1-y,v=e.getSize()-1-v),new Ai(p,[l,s[1]],y,v,n)}adjustOddEvenCounts(e,n){let r=Ze.sum(new Int32Array(this.getOddCounts())),s=Ze.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,u=!1,f=!1;e?(r>12?l=!0:r<4&&(o=!0),s>12?f=!0:s<4&&(u=!0)):(r>11?l=!0:r<5&&(o=!0),s>10?f=!0:s<4&&(u=!0));let d=r+s-n,p=(r&1)===(e?1:0),y=(s&1)===1;if(d===1)if(p){if(y)throw new j;l=!0}else{if(!y)throw new j;f=!0}else if(d===-1)if(p){if(y)throw new j;o=!0}else{if(!y)throw new j;u=!0}else if(d===0){if(p){if(!y)throw new j;r<s?(o=!0,f=!0):(l=!0,u=!0)}else if(y)throw new j}else throw new j;if(o){if(l)throw new j;Zt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Zt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new j;Zt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Zt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}pt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],pt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],pt.OUTSIDE_GSUM=[0,161,961,2015,2715],pt.INSIDE_GSUM=[0,336,1036,1516],pt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],pt.INSIDE_ODD_WIDEST=[2,4,6,8],pt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Qr extends Nt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(Fe.POSSIBLE_FORMATS):null,s=e&&e.get(Fe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(se.EAN_13)||r.includes(se.UPC_A)||r.includes(se.EAN_8)||r.includes(se.UPC_E))&&this.readers.push(new Ji(e)),r.includes(se.CODE_39)&&this.readers.push(new Ft(s)),r.includes(se.CODE_128)&&this.readers.push(new oe),r.includes(se.ITF)&&this.readers.push(new it),r.includes(se.RSS_14)&&this.readers.push(new pt),r.includes(se.RSS_EXPANDED)&&this.readers.push(new K(this.verbose))):(this.readers.push(new Ji(e)),this.readers.push(new Ft),this.readers.push(new Ji(e)),this.readers.push(new oe),this.readers.push(new it),this.readers.push(new pt),this.readers.push(new K(this.verbose)))}decodeRow(e,n,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(e,n,r)}catch{}throw new j}reset(){this.readers.forEach(e=>e.reset())}}class Ao extends be{constructor(e=500,n){super(new Qr(n),e,n)}}class $e{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ze{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ke{constructor(e,n,r,s,o,l){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=l;let u=0;const f=l.getECCodewords(),d=l.getECBlocks();for(let p of d)u+=p.getCount()*(p.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new $;for(let r of Ke.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new Ke(1,10,10,8,8,new $e(5,new ze(1,3))),new Ke(2,12,12,10,10,new $e(7,new ze(1,5))),new Ke(3,14,14,12,12,new $e(10,new ze(1,8))),new Ke(4,16,16,14,14,new $e(12,new ze(1,12))),new Ke(5,18,18,16,16,new $e(14,new ze(1,18))),new Ke(6,20,20,18,18,new $e(18,new ze(1,22))),new Ke(7,22,22,20,20,new $e(20,new ze(1,30))),new Ke(8,24,24,22,22,new $e(24,new ze(1,36))),new Ke(9,26,26,24,24,new $e(28,new ze(1,44))),new Ke(10,32,32,14,14,new $e(36,new ze(1,62))),new Ke(11,36,36,16,16,new $e(42,new ze(1,86))),new Ke(12,40,40,18,18,new $e(48,new ze(1,114))),new Ke(13,44,44,20,20,new $e(56,new ze(1,144))),new Ke(14,48,48,22,22,new $e(68,new ze(1,174))),new Ke(15,52,52,24,24,new $e(42,new ze(2,102))),new Ke(16,64,64,14,14,new $e(56,new ze(2,140))),new Ke(17,72,72,16,16,new $e(36,new ze(4,92))),new Ke(18,80,80,18,18,new $e(48,new ze(4,114))),new Ke(19,88,88,20,20,new $e(56,new ze(4,144))),new Ke(20,96,96,22,22,new $e(68,new ze(4,174))),new Ke(21,104,104,24,24,new $e(56,new ze(6,136))),new Ke(22,120,120,18,18,new $e(68,new ze(6,175))),new Ke(23,132,132,20,20,new $e(62,new ze(8,163))),new Ke(24,144,144,22,22,new $e(62,new ze(8,156),new ze(2,155))),new Ke(25,8,18,6,16,new $e(7,new ze(1,5))),new Ke(26,8,32,6,14,new $e(11,new ze(1,10))),new Ke(27,12,26,10,24,new $e(14,new ze(1,16))),new Ke(28,12,36,10,16,new $e(18,new ze(1,22))),new Ke(29,16,36,14,16,new $e(24,new ze(1,32))),new Ke(30,16,48,14,22,new $e(28,new ze(1,49)))]}}Ke.VERSIONS=Ke.buildVersions();class In{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new $;this.version=In.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ot(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return Ke.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth();let u=!1,f=!1,d=!1,p=!1;do if(r===o&&s===0&&!u)e[n++]=this.readCorner1(o,l)&255,r-=2,s+=2,u=!0;else if(r===o-2&&s===0&&l&3&&!f)e[n++]=this.readCorner2(o,l)&255,r-=2,s+=2,f=!0;else if(r===o+4&&s===2&&!(l&7)&&!d)e[n++]=this.readCorner3(o,l)&255,r-=2,s+=2,d=!0;else if(r===o-2&&s===0&&(l&7)===4&&!p)e[n++]=this.readCorner4(o,l)&255,r-=2,s+=2,p=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,l)&255),r-=2,s+=2;while(r>=0&&s<l);r+=1,s+=3;do r>=0&&s<l&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,l)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<l);if(n!==this.version.getTotalCodewords())throw new $;return e}readModule(e,n,r,s){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=s,e+=4-(s+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,s){let o=0;return this.readModule(e-2,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-2,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n,r,s)&&(o|=1),o<<=1,this.readModule(e,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e,n,r,s)&&(o|=1),o}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new X("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),l=n/s|0,u=r/o|0,f=l*s,d=u*o,p=new ot(d,f);for(let y=0;y<l;++y){const v=y*s;for(let N=0;N<u;++N){const D=N*o;for(let b=0;b<s;++b){const L=y*(s+2)+1+b,W=v+b;for(let te=0;te<o;++te){const re=N*(o+2)+1+te;if(e.get(re,L)){const q=D+te;p.set(q,W)}}}}}return p}}class ks{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let s=0;const o=r.getECBlocks();for(let b of o)s+=b.getCount();const l=new Array(s);let u=0;for(let b of o)for(let L=0;L<b.getCount();L++){const W=b.getDataCodewords(),te=r.getECCodewords()+W;l[u++]=new ks(W,new Uint8Array(te))}const d=l[0].codewords.length-r.getECCodewords(),p=d-1;let y=0;for(let b=0;b<p;b++)for(let L=0;L<u;L++)l[L].codewords[b]=e[y++];const v=n.getVersionNumber()===24,N=v?8:u;for(let b=0;b<N;b++)l[b].codewords[d-1]=e[y++];const D=l[0].codewords.length;for(let b=d;b<D;b++)for(let L=0;L<u;L++){const W=v?(L+8)%u:L,te=v&&W>7?b-1:b;l[W].codewords[te]=e[y++]}if(y!==e.length)throw new X;return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Bs{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new X(""+e);let n=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const l=8-r,u=e<l?e:l,f=l-u,d=255>>8-u<<f;n=(o[s]&d)>>f,e-=u,r+=u,r===8&&(r=0,s++)}if(e>0){for(;e>=8;)n=n<<8|o[s]&255,s++,e-=8;if(e>0){const l=8-e,u=255>>l<<l;n=n<<e|(o[s]&u)>>l,r+=e}}return this.bitOffset=r,this.byteOffset=s,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ut;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ut||(Ut={}));class Wn{static decode(e){const n=new Bs(e),r=new Ve,s=new Ve,o=new Array;let l=Ut.ASCII_ENCODE;do if(l===Ut.ASCII_ENCODE)l=this.decodeAsciiSegment(n,r,s);else{switch(l){case Ut.C40_ENCODE:this.decodeC40Segment(n,r);break;case Ut.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Ut.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Ut.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Ut.BASE256_ENCODE:this.decodeBase256Segment(n,r,o);break;default:throw new $}l=Ut.ASCII_ENCODE}while(l!==Ut.PAD_ENCODE&&n.available()>0);return s.length()>0&&r.append(s.toString()),new at(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,n,r){let s=!1;do{let o=e.readBits(8);if(o===0)throw new $;if(o<=128)return s&&(o+=128),n.append(String.fromCharCode(o-1)),Ut.ASCII_ENCODE;if(o===129)return Ut.PAD_ENCODE;if(o<=229){const l=o-130;l<10&&n.append("0"),n.append(""+l)}else switch(o){case 230:return Ut.C40_ENCODE;case 231:return Ut.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Ut.ANSIX12_ENCODE;case 239:return Ut.TEXT_ENCODE;case 240:return Ut.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new $;break}}while(e.available()>0);return Ut.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const s=[];let o=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),s);for(let u=0;u<3;u++){const f=s[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const d=this.C40_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else throw new $;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const d=this.C40_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new $}o=0;break;case 3:r?(n.append(String.fromCharCode(f+224)),r=!1):n.append(String.fromCharCode(f+96)),o=0;break;default:throw new $}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,s=[],o=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),s);for(let u=0;u<3;u++){const f=s[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const d=this.TEXT_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else throw new $;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const d=this.TEXT_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new $}o=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const d=this.TEXT_SHIFT3_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d),o=0}else throw new $;break;default:throw new $}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),r);for(let o=0;o<3;o++){const l=r[o];switch(l){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(l<14)n.append(String.fromCharCode(l+44));else if(l<40)n.append(String.fromCharCode(l+51));else throw new $;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let s=(e<<8)+n-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let s=e.readBits(6);if(s===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}s&32||(s|=64),n.append(String.fromCharCode(s))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let s=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),s++);let l;if(o===0?l=e.available()/8|0:o<250?l=o:l=250*(o-249)+this.unrandomize255State(e.readBits(8),s++),l<0)throw new $;const u=new Uint8Array(l);for(let f=0;f<l;f++){if(e.available()<8)throw new $;u[f]=this.unrandomize255State(e.readBits(8),s++)}r.push(u);try{n.append(Mt.decode(u,ve.ISO88591))}catch(f){throw new Fn("Platform does not support required encoding: "+f.message)}}static unrandomize255State(e,n){const r=149*n%255+1,s=e-r;return s>=0?s:s+256}}Wn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wn.TEXT_SHIFT2_SET_CHARS=Wn.C40_SHIFT2_SET_CHARS,Wn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class $i{constructor(){this.rsDecoder=new jr(qe.DATA_MATRIX_FIELD_256)}decode(e){const n=new In(e),r=n.getVersion(),s=n.readCodewords(),o=ks.getDataBlocks(s,r);let l=0;for(let d of o)l+=d.getNumDataCodewords();const u=new Uint8Array(l),f=o.length;for(let d=0;d<f;d++){const p=o[d],y=p.getCodewords(),v=p.getNumDataCodewords();this.correctErrors(y,v);for(let N=0;N<v;N++)u[N*f+d]=y[N]}return Wn.decode(u)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new _e}for(let s=0;s<n;s++)e[s]=r[s]}}class mt{constructor(e){this.image=e,this.rectangleDetector=new qn(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new j;n=this.shiftToModuleCenter(n);const r=n[0],s=n[1],o=n[2],l=n[3];let u=this.transitionsBetween(r,l)+1,f=this.transitionsBetween(o,l)+1;(u&1)===1&&(u+=1),(f&1)===1&&(f+=1),4*u<7*f&&4*f<7*u&&(u=f=Math.max(u,f));let d=mt.sampleGrid(this.image,r,s,o,l,u,f);return new Yr(d,[r,s,o,l])}static shiftPoint(e,n,r){let s=(n.getX()-e.getX())/(r+1),o=(n.getY()-e.getY())/(r+1);return new fe(e.getX()+s,e.getY()+o)}static moveAway(e,n,r){let s=e.getX(),o=e.getY();return s<n?s-=1:s+=1,o<r?o-=1:o+=1,new fe(s,o)}detectSolid1(e){let n=e[0],r=e[1],s=e[3],o=e[2],l=this.transitionsBetween(n,r),u=this.transitionsBetween(r,s),f=this.transitionsBetween(s,o),d=this.transitionsBetween(o,n),p=l,y=[o,n,r,s];return p>u&&(p=u,y[0]=n,y[1]=r,y[2]=s,y[3]=o),p>f&&(p=f,y[0]=r,y[1]=s,y[2]=o,y[3]=n),p>d&&(y[0]=s,y[1]=o,y[2]=n,y[3]=r),y}detectSolid2(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o),u=mt.shiftPoint(r,s,(l+1)*4),f=mt.shiftPoint(s,r,(l+1)*4),d=this.transitionsBetween(u,n),p=this.transitionsBetween(f,o);return d<p?(e[0]=n,e[1]=r,e[2]=s,e[3]=o):(e[0]=r,e[1]=s,e[2]=o,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o),u=this.transitionsBetween(r,o),f=mt.shiftPoint(n,r,(u+1)*4),d=mt.shiftPoint(s,r,(l+1)*4);l=this.transitionsBetween(f,o),u=this.transitionsBetween(d,o);let p=new fe(o.getX()+(s.getX()-r.getX())/(l+1),o.getY()+(s.getY()-r.getY())/(l+1)),y=new fe(o.getX()+(n.getX()-r.getX())/(u+1),o.getY()+(n.getY()-r.getY())/(u+1));if(!this.isValid(p))return this.isValid(y)?y:null;if(!this.isValid(y))return p;let v=this.transitionsBetween(f,p)+this.transitionsBetween(d,p),N=this.transitionsBetween(f,y)+this.transitionsBetween(d,y);return v>N?p:y}shiftToModuleCenter(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(s,o)+1,f=mt.shiftPoint(n,r,u*4),d=mt.shiftPoint(s,r,l*4);l=this.transitionsBetween(f,o)+1,u=this.transitionsBetween(d,o)+1,(l&1)===1&&(l+=1),(u&1)===1&&(u+=1);let p=(n.getX()+r.getX()+s.getX()+o.getX())/4,y=(n.getY()+r.getY()+s.getY()+o.getY())/4;n=mt.moveAway(n,p,y),r=mt.moveAway(r,p,y),s=mt.moveAway(s,p,y),o=mt.moveAway(o,p,y);let v,N;return f=mt.shiftPoint(n,r,u*4),f=mt.shiftPoint(f,o,l*4),v=mt.shiftPoint(r,n,u*4),v=mt.shiftPoint(v,s,l*4),d=mt.shiftPoint(s,o,u*4),d=mt.shiftPoint(d,r,l*4),N=mt.shiftPoint(o,s,u*4),N=mt.shiftPoint(N,n,l*4),[f,v,d,N]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,s,o,l,u){return Un.getInstance().sampleGrid(e,l,u,.5,.5,l-.5,.5,l-.5,u-.5,.5,u-.5,n.getX(),n.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),s=Math.trunc(e.getY()),o=Math.trunc(n.getX()),l=Math.trunc(n.getY()),u=Math.abs(l-s)>Math.abs(o-r);if(u){let b=r;r=s,s=b,b=o,o=l,l=b}let f=Math.abs(o-r),d=Math.abs(l-s),p=-f/2,y=s<l?1:-1,v=r<o?1:-1,N=0,D=this.image.get(u?s:r,u?r:s);for(let b=r,L=s;b!==o;b+=v){let W=this.image.get(u?L:b,u?b:L);if(W!==D&&(N++,D=W),p+=d,p>0){if(L===l)break;L+=y,p-=f}}return N}}class Hn{constructor(){this.decoder=new $i}decode(e,n=null){let r,s;if(n!=null&&n.has(Fe.PURE_BARCODE)){const d=Hn.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(d),s=Hn.NO_POINTS}else{const d=new mt(e.getBlackMatrix()).detect();r=this.decoder.decode(d.getBits()),s=d.getPoints()}const o=r.getRawBytes(),l=new Ie(r.getText(),o,8*o.length,s,se.DATA_MATRIX,we.currentTimeMillis()),u=r.getByteSegments();u!=null&&l.putMetadata(Me.BYTE_SEGMENTS,u);const f=r.getECLevel();return f!=null&&l.putMetadata(Me.ERROR_CORRECTION_LEVEL,f),l}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new j;const s=this.moduleSize(n,e);let o=n[1];const l=r[1];let u=n[0];const d=(r[0]-u+1)/s,p=(l-o+1)/s;if(d<=0||p<=0)throw new j;const y=s/2;o+=y,u+=y;const v=new ot(d,p);for(let N=0;N<p;N++){const D=o+N*s;for(let b=0;b<d;b++)e.get(u+b*s,D)&&v.set(b,N)}return v}static moduleSize(e,n){const r=n.getWidth();let s=e[0];const o=e[1];for(;s<r&&n.get(s,o);)s++;if(s===r)throw new j;const l=s-e[0];if(l===0)throw new j;return l}}Hn.NO_POINTS=[];class bl extends be{constructor(e=500){super(new Hn,e)}}var qr;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(qr||(qr={}));class ct{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,ct.FOR_BITS.set(r,this),ct.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return ct.L;case"M":return ct.M;case"Q":return ct.Q;case"H":return ct.H;default:throw new Y(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof ct))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=ct.FOR_BITS.size)throw new X;return ct.FOR_BITS.get(e)}}ct.FOR_BITS=new Map,ct.FOR_VALUE=new Map,ct.L=new ct(qr.L,"L",1),ct.M=new ct(qr.M,"M",0),ct.Q=new ct(qr.Q,"Q",3),ct.H=new ct(qr.H,"H",2);class Kt{constructor(e){this.errorCorrectionLevel=ct.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return Ee.bitCount(e^n)}static decodeFormatInformation(e,n){const r=Kt.doDecodeFormatInformation(e,n);return r!==null?r:Kt.doDecodeFormatInformation(e^Kt.FORMAT_INFO_MASK_QR,n^Kt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of Kt.FORMAT_INFO_DECODE_LOOKUP){const l=o[0];if(l===e||l===n)return new Kt(o[1]);let u=Kt.numBitsDiffering(e,l);u<r&&(s=o[1],r=u),e!==n&&(u=Kt.numBitsDiffering(n,l),u<r&&(s=o[1],r=u))}return r<=3?new Kt(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Kt))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Kt.FORMAT_INFO_MASK_QR=21522,Kt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class U{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ae{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),l=r[0].getECBlocks();for(const u of l)s+=u.getCount()*(u.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new $;try{return this.getVersionForNumber((e-17)/4)}catch{throw new $}}static getVersionForNumber(e){if(e<1||e>40)throw new X;return Ae.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<Ae.VERSION_DECODE_INFO.length;s++){const o=Ae.VERSION_DECODE_INFO[s];if(o===e)return Ae.getVersionForNumber(s+7);const l=Kt.numBitsDiffering(e,o);l<n&&(r=s+7,n=l)}return n<=3?Ae.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new ot(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let l=0;l<r;l++)s===0&&(l===0||l===r-1)||s===r-1&&l===0||n.setRegion(this.alignmentPatternCenters[l]-2,o,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Ae.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ae.VERSIONS=[new Ae(1,new Int32Array(0),new U(7,new _(1,19)),new U(10,new _(1,16)),new U(13,new _(1,13)),new U(17,new _(1,9))),new Ae(2,Int32Array.from([6,18]),new U(10,new _(1,34)),new U(16,new _(1,28)),new U(22,new _(1,22)),new U(28,new _(1,16))),new Ae(3,Int32Array.from([6,22]),new U(15,new _(1,55)),new U(26,new _(1,44)),new U(18,new _(2,17)),new U(22,new _(2,13))),new Ae(4,Int32Array.from([6,26]),new U(20,new _(1,80)),new U(18,new _(2,32)),new U(26,new _(2,24)),new U(16,new _(4,9))),new Ae(5,Int32Array.from([6,30]),new U(26,new _(1,108)),new U(24,new _(2,43)),new U(18,new _(2,15),new _(2,16)),new U(22,new _(2,11),new _(2,12))),new Ae(6,Int32Array.from([6,34]),new U(18,new _(2,68)),new U(16,new _(4,27)),new U(24,new _(4,19)),new U(28,new _(4,15))),new Ae(7,Int32Array.from([6,22,38]),new U(20,new _(2,78)),new U(18,new _(4,31)),new U(18,new _(2,14),new _(4,15)),new U(26,new _(4,13),new _(1,14))),new Ae(8,Int32Array.from([6,24,42]),new U(24,new _(2,97)),new U(22,new _(2,38),new _(2,39)),new U(22,new _(4,18),new _(2,19)),new U(26,new _(4,14),new _(2,15))),new Ae(9,Int32Array.from([6,26,46]),new U(30,new _(2,116)),new U(22,new _(3,36),new _(2,37)),new U(20,new _(4,16),new _(4,17)),new U(24,new _(4,12),new _(4,13))),new Ae(10,Int32Array.from([6,28,50]),new U(18,new _(2,68),new _(2,69)),new U(26,new _(4,43),new _(1,44)),new U(24,new _(6,19),new _(2,20)),new U(28,new _(6,15),new _(2,16))),new Ae(11,Int32Array.from([6,30,54]),new U(20,new _(4,81)),new U(30,new _(1,50),new _(4,51)),new U(28,new _(4,22),new _(4,23)),new U(24,new _(3,12),new _(8,13))),new Ae(12,Int32Array.from([6,32,58]),new U(24,new _(2,92),new _(2,93)),new U(22,new _(6,36),new _(2,37)),new U(26,new _(4,20),new _(6,21)),new U(28,new _(7,14),new _(4,15))),new Ae(13,Int32Array.from([6,34,62]),new U(26,new _(4,107)),new U(22,new _(8,37),new _(1,38)),new U(24,new _(8,20),new _(4,21)),new U(22,new _(12,11),new _(4,12))),new Ae(14,Int32Array.from([6,26,46,66]),new U(30,new _(3,115),new _(1,116)),new U(24,new _(4,40),new _(5,41)),new U(20,new _(11,16),new _(5,17)),new U(24,new _(11,12),new _(5,13))),new Ae(15,Int32Array.from([6,26,48,70]),new U(22,new _(5,87),new _(1,88)),new U(24,new _(5,41),new _(5,42)),new U(30,new _(5,24),new _(7,25)),new U(24,new _(11,12),new _(7,13))),new Ae(16,Int32Array.from([6,26,50,74]),new U(24,new _(5,98),new _(1,99)),new U(28,new _(7,45),new _(3,46)),new U(24,new _(15,19),new _(2,20)),new U(30,new _(3,15),new _(13,16))),new Ae(17,Int32Array.from([6,30,54,78]),new U(28,new _(1,107),new _(5,108)),new U(28,new _(10,46),new _(1,47)),new U(28,new _(1,22),new _(15,23)),new U(28,new _(2,14),new _(17,15))),new Ae(18,Int32Array.from([6,30,56,82]),new U(30,new _(5,120),new _(1,121)),new U(26,new _(9,43),new _(4,44)),new U(28,new _(17,22),new _(1,23)),new U(28,new _(2,14),new _(19,15))),new Ae(19,Int32Array.from([6,30,58,86]),new U(28,new _(3,113),new _(4,114)),new U(26,new _(3,44),new _(11,45)),new U(26,new _(17,21),new _(4,22)),new U(26,new _(9,13),new _(16,14))),new Ae(20,Int32Array.from([6,34,62,90]),new U(28,new _(3,107),new _(5,108)),new U(26,new _(3,41),new _(13,42)),new U(30,new _(15,24),new _(5,25)),new U(28,new _(15,15),new _(10,16))),new Ae(21,Int32Array.from([6,28,50,72,94]),new U(28,new _(4,116),new _(4,117)),new U(26,new _(17,42)),new U(28,new _(17,22),new _(6,23)),new U(30,new _(19,16),new _(6,17))),new Ae(22,Int32Array.from([6,26,50,74,98]),new U(28,new _(2,111),new _(7,112)),new U(28,new _(17,46)),new U(30,new _(7,24),new _(16,25)),new U(24,new _(34,13))),new Ae(23,Int32Array.from([6,30,54,78,102]),new U(30,new _(4,121),new _(5,122)),new U(28,new _(4,47),new _(14,48)),new U(30,new _(11,24),new _(14,25)),new U(30,new _(16,15),new _(14,16))),new Ae(24,Int32Array.from([6,28,54,80,106]),new U(30,new _(6,117),new _(4,118)),new U(28,new _(6,45),new _(14,46)),new U(30,new _(11,24),new _(16,25)),new U(30,new _(30,16),new _(2,17))),new Ae(25,Int32Array.from([6,32,58,84,110]),new U(26,new _(8,106),new _(4,107)),new U(28,new _(8,47),new _(13,48)),new U(30,new _(7,24),new _(22,25)),new U(30,new _(22,15),new _(13,16))),new Ae(26,Int32Array.from([6,30,58,86,114]),new U(28,new _(10,114),new _(2,115)),new U(28,new _(19,46),new _(4,47)),new U(28,new _(28,22),new _(6,23)),new U(30,new _(33,16),new _(4,17))),new Ae(27,Int32Array.from([6,34,62,90,118]),new U(30,new _(8,122),new _(4,123)),new U(28,new _(22,45),new _(3,46)),new U(30,new _(8,23),new _(26,24)),new U(30,new _(12,15),new _(28,16))),new Ae(28,Int32Array.from([6,26,50,74,98,122]),new U(30,new _(3,117),new _(10,118)),new U(28,new _(3,45),new _(23,46)),new U(30,new _(4,24),new _(31,25)),new U(30,new _(11,15),new _(31,16))),new Ae(29,Int32Array.from([6,30,54,78,102,126]),new U(30,new _(7,116),new _(7,117)),new U(28,new _(21,45),new _(7,46)),new U(30,new _(1,23),new _(37,24)),new U(30,new _(19,15),new _(26,16))),new Ae(30,Int32Array.from([6,26,52,78,104,130]),new U(30,new _(5,115),new _(10,116)),new U(28,new _(19,47),new _(10,48)),new U(30,new _(15,24),new _(25,25)),new U(30,new _(23,15),new _(25,16))),new Ae(31,Int32Array.from([6,30,56,82,108,134]),new U(30,new _(13,115),new _(3,116)),new U(28,new _(2,46),new _(29,47)),new U(30,new _(42,24),new _(1,25)),new U(30,new _(23,15),new _(28,16))),new Ae(32,Int32Array.from([6,34,60,86,112,138]),new U(30,new _(17,115)),new U(28,new _(10,46),new _(23,47)),new U(30,new _(10,24),new _(35,25)),new U(30,new _(19,15),new _(35,16))),new Ae(33,Int32Array.from([6,30,58,86,114,142]),new U(30,new _(17,115),new _(1,116)),new U(28,new _(14,46),new _(21,47)),new U(30,new _(29,24),new _(19,25)),new U(30,new _(11,15),new _(46,16))),new Ae(34,Int32Array.from([6,34,62,90,118,146]),new U(30,new _(13,115),new _(6,116)),new U(28,new _(14,46),new _(23,47)),new U(30,new _(44,24),new _(7,25)),new U(30,new _(59,16),new _(1,17))),new Ae(35,Int32Array.from([6,30,54,78,102,126,150]),new U(30,new _(12,121),new _(7,122)),new U(28,new _(12,47),new _(26,48)),new U(30,new _(39,24),new _(14,25)),new U(30,new _(22,15),new _(41,16))),new Ae(36,Int32Array.from([6,24,50,76,102,128,154]),new U(30,new _(6,121),new _(14,122)),new U(28,new _(6,47),new _(34,48)),new U(30,new _(46,24),new _(10,25)),new U(30,new _(2,15),new _(64,16))),new Ae(37,Int32Array.from([6,28,54,80,106,132,158]),new U(30,new _(17,122),new _(4,123)),new U(28,new _(29,46),new _(14,47)),new U(30,new _(49,24),new _(10,25)),new U(30,new _(24,15),new _(46,16))),new Ae(38,Int32Array.from([6,32,58,84,110,136,162]),new U(30,new _(4,122),new _(18,123)),new U(28,new _(13,46),new _(32,47)),new U(30,new _(48,24),new _(14,25)),new U(30,new _(42,15),new _(32,16))),new Ae(39,Int32Array.from([6,26,54,82,110,138,166]),new U(30,new _(20,117),new _(4,118)),new U(28,new _(40,47),new _(7,48)),new U(30,new _(43,24),new _(22,25)),new U(30,new _(10,15),new _(67,16))),new Ae(40,Int32Array.from([6,30,58,86,114,142,170]),new U(30,new _(19,118),new _(6,119)),new U(28,new _(18,47),new _(31,48)),new U(30,new _(34,24),new _(34,25)),new U(30,new _(20,15),new _(61,16)))];var bt;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(bt||(bt={}));class We{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let s=0;s<n;s++)this.isMasked(r,s)&&e.flip(s,r)}}We.values=new Map([[bt.DATA_MASK_000,new We(bt.DATA_MASK_000,(E,e)=>(E+e&1)===0)],[bt.DATA_MASK_001,new We(bt.DATA_MASK_001,(E,e)=>(E&1)===0)],[bt.DATA_MASK_010,new We(bt.DATA_MASK_010,(E,e)=>e%3===0)],[bt.DATA_MASK_011,new We(bt.DATA_MASK_011,(E,e)=>(E+e)%3===0)],[bt.DATA_MASK_100,new We(bt.DATA_MASK_100,(E,e)=>(Math.floor(E/2)+Math.floor(e/3)&1)===0)],[bt.DATA_MASK_101,new We(bt.DATA_MASK_101,(E,e)=>E*e%6===0)],[bt.DATA_MASK_110,new We(bt.DATA_MASK_110,(E,e)=>E*e%6<3)],[bt.DATA_MASK_111,new We(bt.DATA_MASK_111,(E,e)=>(E+e+E*e%3&1)===0)]]);class vo{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new $;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const n=this.bitMatrix.getHeight();let r=0;const s=n-7;for(let o=n-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=n-8;o<n;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=Kt.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Ae.getVersionForNumber(n);let r=0;const s=e-11;for(let l=5;l>=0;l--)for(let u=e-9;u>=s;u--)r=this.copyBit(u,l,r);let o=Ae.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let l=5;l>=0;l--)for(let u=e-9;u>=s;u--)r=this.copyBit(l,u,r);if(o=Ae.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new $}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=We.values.get(e.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=n.buildFunctionPattern();let l=!0;const u=new Uint8Array(n.getTotalCodewords());let f=0,d=0,p=0;for(let y=s-1;y>0;y-=2){y===6&&y--;for(let v=0;v<s;v++){const N=l?s-1-v:v;for(let D=0;D<2;D++)o.get(y-D,N)||(p++,d<<=1,this.bitMatrix.get(y-D,N)&&(d|=1),p===8&&(u[f++]=d,p=0,d=0))}l=!l}if(f!==n.getTotalCodewords())throw new $;return u}remask(){if(this.parsedFormatInfo===null)return;const e=We.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let s=n+1,o=e.getHeight();s<o;s++)e.get(n,s)!==e.get(s,n)&&(e.flip(s,n),e.flip(n,s))}}class es{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new X;const s=n.getECBlocksForLevel(r);let o=0;const l=s.getECBlocks();for(const D of l)o+=D.getCount();const u=new Array(o);let f=0;for(const D of l)for(let b=0;b<D.getCount();b++){const L=D.getDataCodewords(),W=s.getECCodewordsPerBlock()+L;u[f++]=new es(L,new Uint8Array(W))}const d=u[0].codewords.length;let p=u.length-1;for(;p>=0&&u[p].codewords.length!==d;)p--;p++;const y=d-s.getECCodewordsPerBlock();let v=0;for(let D=0;D<y;D++)for(let b=0;b<f;b++)u[b].codewords[D]=e[v++];for(let D=p;D<f;D++)u[D].codewords[y]=e[v++];const N=u[0].codewords.length;for(let D=y;D<N;D++)for(let b=0;b<f;b++){const L=b<p?D:D+1;u[b].codewords[L]=e[v++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var En;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(En||(En={}));class Se{constructor(e,n,r,s){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=s,Se.FOR_BITS.set(s,this),Se.FOR_VALUE.set(e,this)}static forBits(e){const n=Se.FOR_BITS.get(e);if(n===void 0)throw new X;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Se))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Se.FOR_BITS=new Map,Se.FOR_VALUE=new Map,Se.TERMINATOR=new Se(En.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Se.NUMERIC=new Se(En.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Se.ALPHANUMERIC=new Se(En.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Se.STRUCTURED_APPEND=new Se(En.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Se.BYTE=new Se(En.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Se.ECI=new Se(En.ECI,"ECI",Int32Array.from([0,0,0]),7),Se.KANJI=new Se(En.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Se.FNC1_FIRST_POSITION=new Se(En.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Se.FNC1_SECOND_POSITION=new Se(En.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Se.HANZI=new Se(En.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ct{static decode(e,n,r,s){const o=new Bs(e);let l=new Ve;const u=new Array;let f=-1,d=-1;try{let p=null,y=!1,v;do{if(o.available()<4)v=Se.TERMINATOR;else{const N=o.readBits(4);v=Se.forBits(N)}switch(v){case Se.TERMINATOR:break;case Se.FNC1_FIRST_POSITION:case Se.FNC1_SECOND_POSITION:y=!0;break;case Se.STRUCTURED_APPEND:if(o.available()<16)throw new $;f=o.readBits(8),d=o.readBits(8);break;case Se.ECI:const N=Ct.parseECIValue(o);if(p=ne.getCharacterSetECIByValue(N),p===null)throw new $;break;case Se.HANZI:const D=o.readBits(4),b=o.readBits(v.getCharacterCountBits(n));D===Ct.GB2312_SUBSET&&Ct.decodeHanziSegment(o,l,b);break;default:const L=o.readBits(v.getCharacterCountBits(n));switch(v){case Se.NUMERIC:Ct.decodeNumericSegment(o,l,L);break;case Se.ALPHANUMERIC:Ct.decodeAlphanumericSegment(o,l,L,y);break;case Se.BYTE:Ct.decodeByteSegment(o,l,L,p,u,s);break;case Se.KANJI:Ct.decodeKanjiSegment(o,l,L);break;default:throw new $}break}}while(v!==Se.TERMINATOR)}catch{throw new $}return new at(e,l.toString(),u.length===0?null:u,r===null?null:r.toString(),f,d)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new $;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const l=e.readBits(13);let u=l/96<<8&4294967295|l%96;u<959?u+=41377:u+=42657,s[o]=u>>8&255,s[o+1]=u&255,o+=2,r--}try{n.append(Mt.decode(s,ve.GB2312))}catch(l){throw new $(l)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new $;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const l=e.readBits(13);let u=l/192<<8&4294967295|l%192;u<7936?u+=33088:u+=49472,s[o]=u>>8,s[o+1]=u,o+=2,r--}try{n.append(Mt.decode(s,ve.SHIFT_JIS))}catch(l){throw new $(l)}}static decodeByteSegment(e,n,r,s,o,l){if(8*r>e.available())throw new $;const u=new Uint8Array(r);for(let d=0;d<r;d++)u[d]=e.readBits(8);let f;s===null?f=ve.guessEncoding(u,l):f=s.getName();try{n.append(Mt.decode(u,f))}catch(d){throw new $(d)}o.push(u)}static toAlphaNumericChar(e){if(e>=Ct.ALPHANUMERIC_CHARS.length)throw new $;return Ct.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,s){const o=n.length();for(;r>1;){if(e.available()<11)throw new $;const l=e.readBits(11);n.append(Ct.toAlphaNumericChar(Math.floor(l/45))),n.append(Ct.toAlphaNumericChar(l%45)),r-=2}if(r===1){if(e.available()<6)throw new $;n.append(Ct.toAlphaNumericChar(e.readBits(6)))}if(s)for(let l=o;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new $;const s=e.readBits(10);if(s>=1e3)throw new $;n.append(Ct.toAlphaNumericChar(Math.floor(s/100))),n.append(Ct.toAlphaNumericChar(Math.floor(s/10)%10)),n.append(Ct.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(e.available()<7)throw new $;const s=e.readBits(7);if(s>=100)throw new $;n.append(Ct.toAlphaNumericChar(Math.floor(s/10))),n.append(Ct.toAlphaNumericChar(s%10))}else if(r===1){if(e.available()<4)throw new $;const s=e.readBits(4);if(s>=10)throw new $;n.append(Ct.toAlphaNumericChar(s))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new $}}Ct.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ct.GB2312_SUBSET=1;class Ps{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Ls{constructor(){this.rsDecoder=new jr(qe.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(ot.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new vo(e);let s=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,n);return o.setOther(new Ps(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(e,n){const r=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),l=es.getDataBlocks(o,r,s);let u=0;for(const p of l)u+=p.getNumDataCodewords();const f=new Uint8Array(u);let d=0;for(const p of l){const y=p.getCodewords(),v=p.getNumDataCodewords();this.correctErrors(y,v);for(let N=0;N<v;N++)f[d++]=y[N]}return Ct.decode(f,r,s,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new _e}for(let s=0;s<n;s++)e[s]=r[s]}}class Jr extends fe{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=(this.getX()+n)/2,o=(this.getY()+e)/2,l=(this.estimatedModuleSize+r)/2;return new Jr(s,o,l)}}class Gn{constructor(e,n,r,s,o,l,u){this.image=e,this.startX=n,this.startY=r,this.width=s,this.height=o,this.moduleSize=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,s=e+r,o=this.startY+n/2,l=new Int32Array(3),u=this.image;for(let f=0;f<n;f++){const d=o+(f&1?-Math.floor((f+1)/2):Math.floor((f+1)/2));l[0]=0,l[1]=0,l[2]=0;let p=e;for(;p<s&&!u.get(p,d);)p++;let y=0;for(;p<s;){if(u.get(p,d))if(y===1)l[1]++;else if(y===2){if(this.foundPatternCross(l)){const v=this.handlePossibleCenter(l,d,p);if(v!==null)return v}l[0]=l[2],l[1]=1,l[2]=0,y=1}else l[++y]++;else y===1&&y++,l[y]++;p++}if(this.foundPatternCross(l)){const v=this.handlePossibleCenter(l,d,s);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new j}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let s=0;s<3;s++)if(Math.abs(n-e[s])>=r)return!1;return!0}crossCheckVertical(e,n,r,s){const o=this.image,l=o.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let f=e;for(;f>=0&&o.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&!o.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<l&&o.get(n,f)&&u[1]<=r;)u[1]++,f++;if(f===l||u[1]>r)return NaN;for(;f<l&&!o.get(n,f)&&u[2]<=r;)u[2]++,f++;if(u[2]>r)return NaN;const d=u[0]+u[1]+u[2];return 5*Math.abs(d-s)>=2*s?NaN:this.foundPatternCross(u)?Gn.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r){const s=e[0]+e[1]+e[2],o=Gn.centerFromEnd(e,r),l=this.crossCheckVertical(n,o,2*e[1],s);if(!isNaN(l)){const u=(e[0]+e[1]+e[2])/3;for(const d of this.possibleCenters)if(d.aboutEquals(u,l,o))return d.combineEstimate(l,o,u);const f=new Jr(o,l,u);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class er extends fe{constructor(e,n,r,s){super(e,n),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=this.count+1,o=(this.count*this.getX()+n)/s,l=(this.count*this.getY()+e)/s,u=(this.count*this.estimatedModuleSize+r)/s;return new er(o,l,u,s)}}class vr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Tt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(Fe.TRY_HARDER)!==void 0,r=e!=null&&e.get(Fe.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),l=s.getWidth();let u=Math.floor(3*o/(4*Tt.MAX_MODULES));(u<Tt.MIN_SKIP||n)&&(u=Tt.MIN_SKIP);let f=!1;const d=new Int32Array(5);for(let y=u-1;y<o&&!f;y+=u){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;let v=0;for(let N=0;N<l;N++)if(s.get(N,y))(v&1)===1&&v++,d[v]++;else if(v&1)d[v]++;else if(v===4)if(Tt.foundPatternCross(d)){if(this.handlePossibleCenter(d,y,N,r)===!0)if(u=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const b=this.findRowSkip();b>d[2]&&(y+=b-d[2]-u,N=l-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,v=3;continue}v=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,v=3;else d[++v]++;Tt.foundPatternCross(d)&&this.handlePossibleCenter(d,y,l,r)===!0&&(u=d[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const p=this.selectBestPatterns();return fe.orderBestPatterns(p),new vr(p)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let o=0;o<5;o++){const l=e[o];if(l===0)return!1;n+=l}if(n<7)return!1;const r=n/7,s=r/2;return Math.abs(r-e[0])<s&&Math.abs(r-e[1])<s&&Math.abs(3*r-e[2])<3*s&&Math.abs(r-e[3])<s&&Math.abs(r-e[4])<s}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,s){const o=this.getCrossCheckStateCount();let l=0;const u=this.image;for(;e>=l&&n>=l&&u.get(n-l,e-l);)o[2]++,l++;if(e<l||n<l)return!1;for(;e>=l&&n>=l&&!u.get(n-l,e-l)&&o[1]<=r;)o[1]++,l++;if(e<l||n<l||o[1]>r)return!1;for(;e>=l&&n>=l&&u.get(n-l,e-l)&&o[0]<=r;)o[0]++,l++;if(o[0]>r)return!1;const f=u.getHeight(),d=u.getWidth();for(l=1;e+l<f&&n+l<d&&u.get(n+l,e+l);)o[2]++,l++;if(e+l>=f||n+l>=d)return!1;for(;e+l<f&&n+l<d&&!u.get(n+l,e+l)&&o[3]<r;)o[3]++,l++;if(e+l>=f||n+l>=d||o[3]>=r)return!1;for(;e+l<f&&n+l<d&&u.get(n+l,e+l)&&o[4]<r;)o[4]++,l++;if(o[4]>=r)return!1;const p=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(p-s)<2*s&&Tt.foundPatternCross(o)}crossCheckVertical(e,n,r,s){const o=this.image,l=o.getHeight(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(n,f);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&o.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<l&&o.get(n,f);)u[2]++,f++;if(f===l)return NaN;for(;f<l&&!o.get(n,f)&&u[3]<r;)u[3]++,f++;if(f===l||u[3]>=r)return NaN;for(;f<l&&o.get(n,f)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-s)>=2*s?NaN:Tt.foundPatternCross(u)?Tt.centerFromEnd(u,f):NaN}crossCheckHorizontal(e,n,r,s){const o=this.image,l=o.getWidth(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(f,n);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(f,n)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&o.get(f,n)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<l&&o.get(f,n);)u[2]++,f++;if(f===l)return NaN;for(;f<l&&!o.get(f,n)&&u[3]<r;)u[3]++,f++;if(f===l||u[3]>=r)return NaN;for(;f<l&&o.get(f,n)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-s)>=s?NaN:Tt.foundPatternCross(u)?Tt.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r,s){const o=e[0]+e[1]+e[2]+e[3]+e[4];let l=Tt.centerFromEnd(e,r),u=this.crossCheckVertical(n,Math.floor(l),e[2],o);if(!isNaN(u)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(u),e[2],o),!isNaN(l)&&(!s||this.crossCheckDiagonal(Math.floor(u),Math.floor(l),e[2],o)))){const f=o/7;let d=!1;const p=this.possibleCenters;for(let y=0,v=p.length;y<v;y++){const N=p[y];if(N.aboutEquals(f,u,l)){p[y]=N.combineEstimate(u,l,f),d=!0;break}}if(!d){const y=new er(l,u,f);p.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=Tt.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const l of this.possibleCenters)l.getCount()>=Tt.CENTER_QUORUM&&(e++,n+=l.getEstimatedModuleSize());if(e<3)return!1;const s=n/r;let o=0;for(const l of this.possibleCenters)o+=Math.abs(l.getEstimatedModuleSize()-s);return o<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new j;const n=this.possibleCenters;let r;if(e>3){let s=0,o=0;for(const f of this.possibleCenters){const d=f.getEstimatedModuleSize();s+=d,o+=d*d}r=s/e;let l=Math.sqrt(o/e-r*r);n.sort((f,d)=>{const p=Math.abs(d.getEstimatedModuleSize()-r),y=Math.abs(f.getEstimatedModuleSize()-r);return p<y?-1:p>y?1:0});const u=Math.max(.2*r,l);for(let f=0;f<n.length&&n.length>3;f++){const d=n[f];Math.abs(d.getEstimatedModuleSize()-r)>u&&(n.splice(f,1),f--)}}if(n.length>3){let s=0;for(const o of n)s+=o.getEstimatedModuleSize();r=s/n.length,n.sort((o,l)=>{if(l.getCount()===o.getCount()){const u=Math.abs(l.getEstimatedModuleSize()-r),f=Math.abs(o.getEstimatedModuleSize()-r);return u<f?1:u>f?-1:0}else return l.getCount()-o.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Tt.CENTER_QUORUM=2,Tt.MIN_SKIP=3,Tt.MAX_MODULES=57;class ur{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Fe.NEED_RESULT_POINT_CALLBACK);const r=new Tt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),s=e.getBottomLeft(),o=this.calculateModuleSize(n,r,s);if(o<1)throw new j("No pattern found in proccess finder.");const l=ur.computeDimension(n,r,s,o),u=Ae.getProvisionalVersionForDimension(l),f=u.getDimensionForVersion()-7;let d=null;if(u.getAlignmentPatternCenters().length>0){const N=r.getX()-n.getX()+s.getX(),D=r.getY()-n.getY()+s.getY(),b=1-3/f,L=Math.floor(n.getX()+b*(N-n.getX())),W=Math.floor(n.getY()+b*(D-n.getY()));for(let te=4;te<=16;te<<=1)try{d=this.findAlignmentInRegion(o,L,W,te);break}catch(re){if(!(re instanceof j))throw re}}const p=ur.createTransform(n,r,s,d,l),y=ur.sampleGrid(this.image,p,l);let v;return d===null?v=[s,n,r]:v=[s,n,r,d],new Yr(y,v)}static createTransform(e,n,r,s,o){const l=o-3.5;let u,f,d,p;return s!==null?(u=s.getX(),f=s.getY(),d=l-3,p=d):(u=n.getX()-e.getX()+r.getX(),f=n.getY()-e.getY()+r.getY(),d=l,p=l),Nn.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,d,p,3.5,l,e.getX(),e.getY(),n.getX(),n.getY(),u,f,r.getX(),r.getY())}static sampleGrid(e,n,r){return Un.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,s){const o=Ze.round(fe.distance(e,n)/s),l=Ze.round(fe.distance(e,r)/s);let u=Math.floor((o+l)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new j("Dimensions could be not found.")}return u}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,s){let o=this.sizeOfBlackWhiteBlackRun(e,n,r,s),l=1,u=e-(r-e);u<0?(l=e/(e-u),u=0):u>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let f=Math.floor(n-(s-n)*l);return l=1,f<0?(l=n/(n-f),f=0):f>=this.image.getHeight()&&(l=(this.image.getHeight()-1-n)/(f-n),f=this.image.getHeight()-1),u=Math.floor(e+(u-e)*l),o+=this.sizeOfBlackWhiteBlackRun(e,n,u,f),o-1}sizeOfBlackWhiteBlackRun(e,n,r,s){const o=Math.abs(s-n)>Math.abs(r-e);if(o){let N=e;e=n,n=N,N=r,r=s,s=N}const l=Math.abs(r-e),u=Math.abs(s-n);let f=-l/2;const d=e<r?1:-1,p=n<s?1:-1;let y=0;const v=r+d;for(let N=e,D=n;N!==v;N+=d){const b=o?D:N,L=o?N:D;if(y===1===this.image.get(b,L)){if(y===2)return Ze.distance(N,D,e,n);y++}if(f+=u,f>0){if(D===s)break;D+=p,f-=l}}return y===2?Ze.distance(r+d,s,e,n):NaN}findAlignmentInRegion(e,n,r,s){const o=Math.floor(s*e),l=Math.max(0,n-o),u=Math.min(this.image.getWidth()-1,n+o);if(u-l<e*3)throw new j("Alignment top exceeds estimated module size.");const f=Math.max(0,r-o),d=Math.min(this.image.getHeight()-1,r+o);if(d-f<e*3)throw new j("Alignment bottom exceeds estimated module size.");return new Gn(this.image,l,f,u-l,d-f,e,this.resultPointCallback).find()}}class fn{constructor(){this.decoder=new Ls}getDecoder(){return this.decoder}decode(e,n){let r,s;if(n!=null&&n.get(Fe.PURE_BARCODE)!==void 0){const f=fn.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(f,n),s=fn.NO_POINTS}else{const f=new ur(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(f.getBits(),n),s=f.getPoints()}r.getOther()instanceof Ps&&r.getOther().applyMirroredCorrection(s);const o=new Ie(r.getText(),r.getRawBytes(),void 0,s,se.QR_CODE,void 0),l=r.getByteSegments();l!==null&&o.putMetadata(Me.BYTE_SEGMENTS,l);const u=r.getECLevel();return u!==null&&o.putMetadata(Me.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(o.putMetadata(Me.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Me.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new j;const s=this.moduleSize(n,e);let o=n[1],l=r[1],u=n[0],f=r[0];if(u>=f||o>=l)throw new j;if(l-o!==f-u&&(f=u+(l-o),f>=e.getWidth()))throw new j;const d=Math.round((f-u+1)/s),p=Math.round((l-o+1)/s);if(d<=0||p<=0)throw new j;if(p!==d)throw new j;const y=Math.floor(s/2);o+=y,u+=y;const v=u+Math.floor((d-1)*s)-f;if(v>0){if(v>y)throw new j;u-=v}const N=o+Math.floor((p-1)*s)-l;if(N>0){if(N>y)throw new j;o-=N}const D=new ot(d,p);for(let b=0;b<p;b++){const L=o+Math.floor(b*s);for(let W=0;W<d;W++)e.get(u+Math.floor(W*s),L)&&D.set(W,b)}return D}static moduleSize(e,n){const r=n.getHeight(),s=n.getWidth();let o=e[0],l=e[1],u=!0,f=0;for(;o<s&&l<r;){if(u!==n.get(o,l)){if(++f===5)break;u=!u}o++,l++}if(o===s||l===r)throw new j;return(o-e[0])/7}}fn.NO_POINTS=new Array;class Oe{PDF417Common(){}static getBitCountSum(e){return Ze.sum(e)}static toIntArray(e){if(e==null||!e.length)return Oe.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const s of e)n[r++]=s;return n}static getCodeword(e){const n=Ye.binarySearch(Oe.SYMBOL_TABLE,e&262143);return n<0?-1:(Oe.CODEWORD_TABLE[n]-1)%Oe.NUMBER_OF_CODEWORDS}}Oe.NUMBER_OF_CODEWORDS=929,Oe.MAX_CODEWORDS_IN_BARCODE=Oe.NUMBER_OF_CODEWORDS-1,Oe.MIN_ROWS_IN_BARCODE=3,Oe.MAX_ROWS_IN_BARCODE=90,Oe.MODULES_IN_CODEWORD=17,Oe.MODULES_IN_STOP_PATTERN=18,Oe.BARS_IN_MODULE=8,Oe.EMPTY_INT_ARRAY=new Int32Array([]),Oe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Oe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class So{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Be{static detectMultiple(e,n,r){let s=e.getBlackMatrix(),o=Be.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=Be.detect(r,s)),new So(s,o)}static detect(e,n){const r=new Array;let s=0,o=0,l=!1;for(;s<n.getHeight();){const u=Be.findVertices(n,s,o);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,o=0;for(const f of r)f[1]!=null&&(s=Math.trunc(Math.max(s,f[1].getY()))),f[3]!=null&&(s=Math.max(s,Math.trunc(f[3].getY())));s+=Be.ROW_STEP;continue}if(l=!0,r.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return r}static findVertices(e,n,r){const s=e.getHeight(),o=e.getWidth(),l=new Array(8);return Be.copyToResult(l,Be.findRowsWithPattern(e,s,o,n,r,Be.START_PATTERN),Be.INDEXES_START_PATTERN),l[4]!=null&&(r=Math.trunc(l[4].getX()),n=Math.trunc(l[4].getY())),Be.copyToResult(l,Be.findRowsWithPattern(e,s,o,n,r,Be.STOP_PATTERN),Be.INDEXES_STOP_PATTERN),l}static copyToResult(e,n,r){for(let s=0;s<r.length;s++)e[r[s]]=n[s]}static findRowsWithPattern(e,n,r,s,o,l){const u=new Array(4);let f=!1;const d=new Int32Array(l.length);for(;s<n;s+=Be.ROW_STEP){let y=Be.findGuardPattern(e,o,s,r,!1,l,d);if(y!=null){for(;s>0;){const v=Be.findGuardPattern(e,o,--s,r,!1,l,d);if(v!=null)y=v;else{s++;break}}u[0]=new fe(y[0],s),u[1]=new fe(y[1],s),f=!0;break}}let p=s+1;if(f){let y=0,v=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;p<n;p++){const N=Be.findGuardPattern(e,v[0],p,r,!1,l,d);if(N!=null&&Math.abs(v[0]-N[0])<Be.MAX_PATTERN_DRIFT&&Math.abs(v[1]-N[1])<Be.MAX_PATTERN_DRIFT)v=N,y=0;else{if(y>Be.SKIPPED_ROW_COUNT_MAX)break;y++}}p-=y+1,u[2]=new fe(v[0],p),u[3]=new fe(v[1],p)}return p-s<Be.BARCODE_MIN_HEIGHT&&Ye.fill(u,null),u}static findGuardPattern(e,n,r,s,o,l,u){Ye.fillWithin(u,0,u.length,0);let f=n,d=0;for(;e.get(f,r)&&f>0&&d++<Be.MAX_PIXEL_DRIFT;)f--;let p=f,y=0,v=l.length;for(let N=o;p<s;p++)if(e.get(p,r)!==N)u[y]++;else{if(y===v-1){if(Be.patternMatchVariance(u,l,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE)return new Int32Array([f,p]);f+=u[0]+u[1],we.arraycopy(u,2,u,0,y-1),u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,N=!N}return y===v-1&&Be.patternMatchVariance(u,l,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE?new Int32Array([f,p-1]):null}static patternMatchVariance(e,n,r){let s=e.length,o=0,l=0;for(let d=0;d<s;d++)o+=e[d],l+=n[d];if(o<l)return 1/0;let u=o/l;r*=u;let f=0;for(let d=0;d<s;d++){let p=e[d],y=n[d]*u,v=p>y?p-y:y-p;if(v>r)return 1/0;f+=v}return f/o}}Be.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Be.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Be.MAX_AVG_VARIANCE=.42,Be.MAX_INDIVIDUAL_VARIANCE=.8,Be.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Be.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Be.MAX_PIXEL_DRIFT=3,Be.MAX_PATTERN_DRIFT=5,Be.SKIPPED_ROW_COUNT_MAX=25,Be.ROW_STEP=5,Be.BARCODE_MIN_HEIGHT=10;class Qt{constructor(e,n){if(n.length===0)throw new X;this.field=e;let r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),we.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let n=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)n=this.field.add(this.field.multiply(e,n),this.coefficients[s]);return n}add(e){if(!this.field.equals(e.field))throw new X("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let l=n;n=r,r=l}let s=new Int32Array(r.length),o=r.length-n.length;we.arraycopy(r,0,s,0,o);for(let l=o;l<r.length;l++)s[l]=this.field.add(n[l-o],r[l]);return new Qt(this.field,s)}subtract(e){if(!this.field.equals(e.field))throw new X("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Qt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new X("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Qt(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,l=new Int32Array(r+o-1);for(let u=0;u<r;u++){let f=n[u];for(let d=0;d<o;d++)l[u+d]=this.field.add(l[u+d],this.field.multiply(f,s[d]))}return new Qt(this.field,l)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new Qt(this.field,n)}multiplyScalar(e){if(e===0)return new Qt(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let s=0;s<n;s++)r[s]=this.field.multiply(this.coefficients[s],e);return new Qt(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new X;if(n===0)return new Qt(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+e);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],n);return new Qt(this.field,s)}toString(){let e=new Ve;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Io{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new X;return this.logTable[e]}inverse(e){if(e===0)throw new Ci;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class $r extends Io{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let s=0;s<e;s++)this.expTable[s]=r,r=r*n%e;for(let s=0;s<e-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Qt(this,new Int32Array([0])),this.one=new Qt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new X;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new Qt(this,r)}}$r.PDF417_GF=new $r(Oe.NUMBER_OF_CODEWORDS,3);class Fs{constructor(){this.field=$r.PDF417_GF}decode(e,n,r){let s=new Qt(this.field,e),o=new Int32Array(n),l=!1;for(let D=n;D>0;D--){let b=s.evaluateAt(this.field.exp(D));o[n-D]=b,b!==0&&(l=!0)}if(!l)return 0;let u=this.field.getOne();if(r!=null)for(const D of r){let b=this.field.exp(e.length-1-D),L=new Qt(this.field,new Int32Array([this.field.subtract(0,b),1]));u=u.multiply(L)}let f=new Qt(this.field,o),d=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),f,n),p=d[0],y=d[1],v=this.findErrorLocations(p),N=this.findErrorMagnitudes(y,p,v);for(let D=0;D<v.length;D++){let b=e.length-1-this.field.log(v[D]);if(b<0)throw _e.getChecksumInstance();e[b]=this.field.subtract(e[b],N[D])}return v.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let v=e;e=n,n=v}let s=e,o=n,l=this.field.getZero(),u=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let v=s,N=l;if(s=o,l=u,s.isZero())throw _e.getChecksumInstance();o=v;let D=this.field.getZero(),b=s.getCoefficient(s.getDegree()),L=this.field.inverse(b);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let W=o.getDegree()-s.getDegree(),te=this.field.multiply(o.getCoefficient(o.getDegree()),L);D=D.add(this.field.buildMonomial(W,te)),o=o.subtract(s.multiplyByMonomial(W,te))}u=D.multiply(l).subtract(N).negative()}let f=u.getCoefficient(0);if(f===0)throw _e.getChecksumInstance();let d=this.field.inverse(f),p=u.multiply(d),y=o.multiply(d);return[p,y]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),s=0;for(let o=1;o<this.field.getSize()&&s<n;o++)e.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==n)throw _e.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let s=n.getDegree(),o=new Int32Array(s);for(let d=1;d<=s;d++)o[s-d]=this.field.multiply(d,n.getCoefficient(d));let l=new Qt(this.field,o),u=r.length,f=new Int32Array(u);for(let d=0;d<u;d++){let p=this.field.inverse(r[d]),y=this.field.subtract(0,e.evaluateAt(p)),v=this.field.inverse(l.evaluateAt(p));f[d]=this.field.multiply(y,v)}return f}}class Dr{constructor(e,n,r,s,o){e instanceof Dr?this.constructor_2(e):this.constructor_1(e,n,r,s,o)}constructor_1(e,n,r,s,o){const l=n==null||r==null,u=s==null||o==null;if(l&&u)throw new j;l?(n=new fe(0,s.getY()),r=new fe(0,o.getY())):u&&(s=new fe(e.getWidth()-1,n.getY()),o=new fe(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Dr(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let s=this.topLeft,o=this.bottomLeft,l=this.topRight,u=this.bottomRight;if(e>0){let f=r?this.topLeft:this.topRight,d=Math.trunc(f.getY()-e);d<0&&(d=0);let p=new fe(f.getX(),d);r?s=p:l=p}if(n>0){let f=r?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+n);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);let p=new fe(f.getX(),d);r?o=p:u=p}return new Dr(this.image,s,o,l,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ii{constructor(e,n,r,s){this.columnCount=e,this.errorCorrectionLevel=s,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class cr{constructor(){this.buffer=""}static form(e,n){let r=-1;function s(l,u,f,d,p,y){if(l==="%%")return"%";if(n[++r]===void 0)return;l=d?parseInt(d.substr(1)):void 0;let v=p?parseInt(p.substr(1)):void 0,N;switch(y){case"s":N=n[r];break;case"c":N=n[r][0];break;case"f":N=parseFloat(n[r]).toFixed(l);break;case"p":N=parseFloat(n[r]).toPrecision(l);break;case"e":N=parseFloat(n[r]).toExponential(l);break;case"x":N=parseInt(n[r]).toString(v||16);break;case"d":N=parseFloat(parseInt(n[r],v||10).toPrecision(l)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(v);let D=parseInt(f),b=f&&f[0]+""=="0"?"0":" ";for(;N.length<D;)N=u!==void 0?N+b:b+N;return N}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}format(e,...n){this.buffer+=cr.form(e,n)}toString(){return this.buffer}}class tr{constructor(e){this.boundingBox=new Dr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<tr.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(e)-r;if(s>=0&&(n=this.codewords[s],n!=null)||(s=this.imageRowToCodewordIndex(e)+r,s<this.codewords.length&&(n=this.codewords[s],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new cr;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}tr.MAX_NEARBY_DISTANCE=5;class Sr{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>e?(e=o.getValue(),n=[],n.push(o.getKey())):o.getValue()===e&&n.push(o.getKey())}return Oe.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class To extends tr{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,d=1,p=0;for(let y=l;y<u;y++){if(n[y]==null)continue;let v=n[y],N=v.getRowNumber()-f;if(N===0)p++;else if(N===1)d=Math.max(d,p),p=1,f=v.getRowNumber();else if(N<0||v.getRowNumber()>=e.getRowCount()||N>y)n[y]=null;else{let D;d>2?D=(d-2)*N:D=N;let b=D>=y;for(let L=1;L<=D&&!b;L++)b=n[y-L]!=null;b?n[y]=null:(f=v.getRowNumber(),p=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=n.length)continue;n[s]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),f=-1;for(let d=o;d<l;d++){if(u[d]==null)continue;let p=u[d];p.setRowNumberAsRowIndicatorColumn();let y=p.getRowNumber()-f;y===0||(y===1?f=p.getRowNumber():p.getRowNumber()>=e.getRowCount()?u[d]=null:f=p.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Sr,r=new Sr,s=new Sr,o=new Sr;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let f=u.getValue()%30,d=u.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:r.setValue(f*3+1);break;case 1:o.setValue(f/3),s.setValue(f%3);break;case 2:n.setValue(f+1);break}}if(n.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Oe.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Oe.MAX_ROWS_IN_BARCODE)return null;let l=new Ii(n.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,l),l}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let s=e[r];if(e[r]==null)continue;let o=s.getValue()%30,l=s.getRowNumber();if(l>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ti{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Oe.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(n,s,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let l=this.barcodeColumnCount+1;l>0&&o<this.ADJUST_ROW_NUMBER_SKIP;l--){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=Ti.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let l=1;l<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;l++){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=Ti.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let s=r[n],o=this.detectionResultColumns[e-1].getCodewords(),l=o;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=o[n],u[3]=l[n],n>0&&(u[0]=r[n-1],u[4]=o[n-1],u[5]=l[n-1]),n>1&&(u[8]=r[n-2],u[10]=o[n-2],u[11]=l[n-2]),n<r.length-1&&(u[1]=r[n+1],u[6]=o[n+1],u[7]=l[n+1]),n<r.length-2&&(u[9]=r[n+2],u[12]=o[n+2],u[13]=l[n+2]);for(let f of u)if(Ti.adjustRowNumber(s,f))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new cr;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){n.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){n.format("    |   ");continue}n.format(" %3d|%3d",o.getRowNumber(),o.getValue())}n.format("%n")}return n.toString()}}class Mr{constructor(e,n,r,s){this.rowNumber=Mr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Mr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Mr.BARCODE_ROW_UNKNOWN=-1;class qt{static initialize(){for(let e=0;e<Oe.SYMBOL_TABLE.length;e++){let n=Oe.SYMBOL_TABLE[e],r=n&1;for(let s=0;s<Oe.BARS_IN_MODULE;s++){let o=0;for(;(n&1)===r;)o+=1,n>>=1;r=n&1,qt.RATIOS_TABLE[e]||(qt.RATIOS_TABLE[e]=new Array(Oe.BARS_IN_MODULE)),qt.RATIOS_TABLE[e][Oe.BARS_IN_MODULE-s-1]=Math.fround(o/Oe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=qt.getDecodedCodewordValue(qt.sampleBitCounts(e));return n!==-1?n:qt.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=Ze.sum(e),r=new Int32Array(Oe.BARS_IN_MODULE),s=0,o=0;for(let l=0;l<Oe.MODULES_IN_CODEWORD;l++){let u=n/(2*Oe.MODULES_IN_CODEWORD)+l*n/Oe.MODULES_IN_CODEWORD;o+e[s]<=u&&(o+=e[s],s++),r[s]++}return r}static getDecodedCodewordValue(e){let n=qt.getBitValue(e);return Oe.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let s=0;s<e[r];s++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=Ze.sum(e),r=new Array(Oe.BARS_IN_MODULE);if(n>1)for(let l=0;l<r.length;l++)r[l]=Math.fround(e[l]/n);let s=Cr.MAX_VALUE,o=-1;this.bSymbolTableReady||qt.initialize();for(let l=0;l<qt.RATIOS_TABLE.length;l++){let u=0,f=qt.RATIOS_TABLE[l];for(let d=0;d<Oe.BARS_IN_MODULE;d++){let p=Math.fround(f[d]-r[d]);if(u+=Math.fround(p*p),u>=s)break}u<s&&(s=u,o=Oe.SYMBOL_TABLE[l])}return o}}qt.bSymbolTableReady=!1,qt.RATIOS_TABLE=new Array(Oe.SYMBOL_TABLE.length).map(E=>new Array(Oe.BARS_IN_MODULE));class ts{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Us{static parseLong(e,n=void 0){return parseInt(e,n)}}class fr extends T{}fr.kind="NullPointerException";class Vs{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new fr;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new Ge;if(r===0)return;for(let s=0;s<r;s++)this.write(e[n+s])}flush(){}close(){}}class ns extends T{}class _o extends Vs{constructor(e=32){if(super(),this.count=0,e<0)throw new X("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new ns;r=Ee.MAX_VALUE}this.buf=Ye.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new Ge;this.ensureCapacity(this.count+r),we.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Ye.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var tt;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(tt||(tt={}));function _i(){if(typeof window<"u")return window.BigInt||null;if(typeof Sl<"u")return Sl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ni;function kt(E){if(typeof Ni>"u"&&(Ni=_i()),Ni===null)throw new Error("BigInt is not supported!");return Ni(E)}function ei(){let E=[];E[0]=kt(1);let e=kt(900);E[1]=e;for(let n=2;n<16;n++)E[n]=E[n-1]*e;return E}class H{static decode(e,n){let r=new Ve(""),s=ne.ISO8859_1;r.enableDecoding(s);let o=1,l=e[o++],u=new ts;for(;o<e[0];){switch(l){case H.TEXT_COMPACTION_MODE_LATCH:o=H.textCompaction(e,o,r);break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:o=H.byteCompaction(l,e,s,o,r);break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case H.NUMERIC_COMPACTION_MODE_LATCH:o=H.numericCompaction(e,o,r);break;case H.ECI_CHARSET:ne.getCharacterSetECIByValue(e[o++]);break;case H.ECI_GENERAL_PURPOSE:o+=2;break;case H.ECI_USER_DEFINED:o++;break;case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=H.decodeMacroBlock(e,o,u);break;case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:throw new $;default:o--,o=H.textCompaction(e,o,r);break}if(o<e.length)l=e[o++];else throw $.getFormatInstance()}if(r.length()===0)throw $.getFormatInstance();let f=new at(null,r.toString(),null,n);return f.setOther(u),f}static decodeMacroBlock(e,n,r){if(n+H.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw $.getFormatInstance();let s=new Int32Array(H.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<H.NUMBER_OF_SEQUENCE_CODEWORDS;u++,n++)s[u]=e[n];r.setSegmentIndex(Ee.parseInt(H.decodeBase900toBase10(s,H.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Ve;n=H.textCompaction(e,n,o),r.setFileId(o.toString());let l=-1;for(e[n]===H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Ve;n=H.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new Ve;n=H.textCompaction(e,n+1,f),r.setSender(f.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let d=new Ve;n=H.textCompaction(e,n+1,d),r.setAddressee(d.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let p=new Ve;n=H.numericCompaction(e,n+1,p),r.setSegmentCount(Ee.parseInt(p.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let y=new Ve;n=H.numericCompaction(e,n+1,y),r.setTimestamp(Us.parseLong(y.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let v=new Ve;n=H.numericCompaction(e,n+1,v),r.setChecksum(Ee.parseInt(v.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let N=new Ve;n=H.numericCompaction(e,n+1,N),r.setFileSize(Us.parseLong(N.toString()));break;default:throw $.getFormatInstance()}break;case H.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(l!==-1){let u=n-l;r.isLastSegment()&&u--,r.setOptionalData(Ye.copyOfRange(e,l,l+u))}return n}static textCompaction(e,n,r){let s=new Int32Array((e[0]-n)*2),o=new Int32Array((e[0]-n)*2),l=0,u=!1;for(;n<e[0]&&!u;){let f=e[n++];if(f<H.TEXT_COMPACTION_MODE_LATCH)s[l]=f/30,s[l+1]=f%30,l+=2;else switch(f){case H.TEXT_COMPACTION_MODE_LATCH:s[l++]=H.TEXT_COMPACTION_MODE_LATCH;break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[l]=H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[n++],o[l]=f,l++;break}}return H.decodeTextCompaction(s,o,l,r),n}static decodeTextCompaction(e,n,r,s){let o=tt.ALPHA,l=tt.ALPHA,u=0;for(;u<r;){let f=e[u],d="";switch(o){case tt.ALPHA:if(f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case H.LL:o=tt.LOWER;break;case H.ML:o=tt.MIXED;break;case H.PS:l=o,o=tt.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case H.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.LOWER:if(f<26)d=String.fromCharCode(97+f);else switch(f){case 26:d=" ";break;case H.AS:l=o,o=tt.ALPHA_SHIFT;break;case H.ML:o=tt.MIXED;break;case H.PS:l=o,o=tt.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case H.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.MIXED:if(f<H.PL)d=H.MIXED_CHARS[f];else switch(f){case H.PL:o=tt.PUNCT;break;case 26:d=" ";break;case H.LL:o=tt.LOWER;break;case H.AL:o=tt.ALPHA;break;case H.PS:l=o,o=tt.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case H.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.PUNCT:if(f<H.PAL)d=H.PUNCT_CHARS[f];else switch(f){case H.PAL:o=tt.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case H.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.ALPHA_SHIFT:if(o=l,f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case H.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.PUNCT_SHIFT:if(o=l,f<H.PAL)d=H.PUNCT_CHARS[f];else switch(f){case H.PAL:o=tt.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case H.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break}d!==""&&s.append(d),u++}}static byteCompaction(e,n,r,s,o){let l=new _o,u=0,f=0,d=!1;switch(e){case H.BYTE_COMPACTION_MODE_LATCH:let p=new Int32Array(6),y=n[s++];for(;s<n[0]&&!d;)switch(p[u++]=y,f=900*f+y,y=n[s++],y){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:s--,d=!0;break;default:if(u%5===0&&u>0){for(let v=0;v<6;++v)l.write(Number(kt(f)>>kt(8*(5-v))));f=0,u=0}break}s===n[0]&&y<H.TEXT_COMPACTION_MODE_LATCH&&(p[u++]=y);for(let v=0;v<u;v++)l.write(p[v]);break;case H.BYTE_COMPACTION_MODE_LATCH_6:for(;s<n[0]&&!d;){let v=n[s++];if(v<H.TEXT_COMPACTION_MODE_LATCH)u++,f=900*f+v;else switch(v){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:s--,d=!0;break}if(u%5===0&&u>0){for(let N=0;N<6;++N)l.write(Number(kt(f)>>kt(8*(5-N))));f=0,u=0}}break}return o.append(Mt.decode(l.toByteArray(),r)),s}static numericCompaction(e,n,r){let s=0,o=!1,l=new Int32Array(H.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!o;){let u=e[n++];if(n===e[0]&&(o=!0),u<H.TEXT_COMPACTION_MODE_LATCH)l[s]=u,s++;else switch(u){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:n--,o=!0;break}(s%H.MAX_NUMERIC_CODEWORDS===0||u===H.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append(H.decodeBase900toBase10(l,s)),s=0)}return n}static decodeBase900toBase10(e,n){let r=kt(0);for(let o=0;o<n;o++)r+=H.EXP900[n-o-1]*kt(e[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new $;return s.substring(1)}}H.TEXT_COMPACTION_MODE_LATCH=900,H.BYTE_COMPACTION_MODE_LATCH=901,H.NUMERIC_COMPACTION_MODE_LATCH=902,H.BYTE_COMPACTION_MODE_LATCH_6=924,H.ECI_USER_DEFINED=925,H.ECI_GENERAL_PURPOSE=926,H.ECI_CHARSET=927,H.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,H.MACRO_PDF417_TERMINATOR=922,H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,H.MAX_NUMERIC_CODEWORDS=15,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,H.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,H.PL=25,H.LL=27,H.AS=27,H.ML=28,H.AL=28,H.PS=29,H.PAL=29,H.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,H.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",H.EXP900=_i()?ei():[],H.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Le{constructor(){}static decode(e,n,r,s,o,l,u){let f=new Dr(e,n,r,s,o),d=null,p=null,y;for(let D=!0;;D=!1){if(n!=null&&(d=Le.getRowIndicatorColumn(e,f,n,!0,l,u)),s!=null&&(p=Le.getRowIndicatorColumn(e,f,s,!1,l,u)),y=Le.merge(d,p),y==null)throw j.getNotFoundInstance();let b=y.getBoundingBox();if(D&&b!=null&&(b.getMinY()<f.getMinY()||b.getMaxY()>f.getMaxY()))f=b;else break}y.setBoundingBox(f);let v=y.getBarcodeColumnCount()+1;y.setDetectionResultColumn(0,d),y.setDetectionResultColumn(v,p);let N=d!=null;for(let D=1;D<=v;D++){let b=N?D:v-D;if(y.getDetectionResultColumn(b)!==void 0)continue;let L;b===0||b===v?L=new To(f,b===0):L=new tr(f),y.setDetectionResultColumn(b,L);let W=-1,te=W;for(let re=f.getMinY();re<=f.getMaxY();re++){if(W=Le.getStartColumn(y,b,re,N),W<0||W>f.getMaxX()){if(te===-1)continue;W=te}let q=Le.detectCodeword(e,f.getMinX(),f.getMaxX(),N,W,re,l,u);q!=null&&(L.setCodeword(re,q),te=W,l=Math.min(l,q.getWidth()),u=Math.max(u,q.getWidth()))}}return Le.createDecoderResult(y)}static merge(e,n){if(e==null&&n==null)return null;let r=Le.getBarcodeMetadata(e,n);if(r==null)return null;let s=Dr.merge(Le.adjustBoundingBox(e),Le.adjustBoundingBox(n));return new Ti(r,s)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=Le.getMax(n),s=0;for(let u of n)if(s+=r-u,u>0)break;let o=e.getCodewords();for(let u=0;s>0&&o[u]==null;u++)s--;let l=0;for(let u=n.length-1;u>=0&&(l+=r-n[u],!(n[u]>0));u--);for(let u=o.length-1;l>0&&o[u]==null;u--)l--;return e.getBoundingBox().addMissingRows(s,l,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let s;return n==null||(s=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,s,o,l){let u=new To(n,s);for(let f=0;f<2;f++){let d=f===0?1:-1,p=Math.trunc(Math.trunc(r.getX()));for(let y=Math.trunc(Math.trunc(r.getY()));y<=n.getMaxY()&&y>=n.getMinY();y+=d){let v=Le.detectCodeword(e,0,e.getWidth(),s,p,y,o,l);v!=null&&(u.setCodeword(y,v),s?p=v.getStartX():p=v.getEndX())}}return u}static adjustCodewordCount(e,n){let r=n[0][1],s=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Le.getNumberOfECCodeWords(e.getBarcodeECLevel());if(s.length===0){if(o<1||o>Oe.MAX_CODEWORDS_IN_BARCODE)throw j.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(e){let n=Le.createBarcodeMatrix(e);Le.adjustCodewordCount(e,n);let r=new Array,s=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],l=new Array;for(let f=0;f<e.getBarcodeRowCount();f++)for(let d=0;d<e.getBarcodeColumnCount();d++){let p=n[f][d+1].getValue(),y=f*e.getBarcodeColumnCount()+d;p.length===0?r.push(y):p.length===1?s[y]=p[0]:(l.push(y),o.push(p))}let u=new Array(o.length);for(let f=0;f<u.length;f++)u[f]=o[f];return Le.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),s,Oe.toIntArray(r),Oe.toIntArray(l),u)}static createDecoderResultFromAmbiguousValues(e,n,r,s,o){let l=new Int32Array(s.length),u=100;for(;u-- >0;){for(let f=0;f<l.length;f++)n[s[f]]=o[f][l[f]];try{return Le.decodeCodewords(n,e,r)}catch(f){if(!(f instanceof _e))throw f}if(l.length===0)throw _e.getChecksumInstance();for(let f=0;f<l.length;f++)if(l[f]<o[f].length-1){l[f]++;break}else if(l[f]=0,f===l.length-1)throw _e.getChecksumInstance()}throw _e.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let s=0;s<n.length;s++)for(let o=0;o<n[s].length;o++)n[s][o]=new Sr;let r=0;for(let s of e.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=0){if(l>=n.length)continue;n[l][r].setValue(o.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,s){let o=s?1:-1,l=null;if(Le.isValidBarcodeColumn(e,n-o)&&(l=e.getDetectionResultColumn(n-o).getCodeword(r)),l!=null)return s?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(n).getCodewordNearby(r),l!=null)return s?l.getStartX():l.getEndX();if(Le.isValidBarcodeColumn(e,n-o)&&(l=e.getDetectionResultColumn(n-o).getCodewordNearby(r)),l!=null)return s?l.getEndX():l.getStartX();let u=0;for(;Le.isValidBarcodeColumn(e,n-o);){n-=o;for(let f of e.getDetectionResultColumn(n).getCodewords())if(f!=null)return(s?f.getEndX():f.getStartX())+o*u*(f.getEndX()-f.getStartX());u++}return s?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,s,o,l,u,f){o=Le.adjustCodewordStartColumn(e,n,r,s,o,l);let d=Le.getModuleBitCount(e,n,r,s,o,l);if(d==null)return null;let p,y=Ze.sum(d);if(s)p=o+y;else{for(let D=0;D<d.length/2;D++){let b=d[D];d[D]=d[d.length-1-D],d[d.length-1-D]=b}p=o,o=p-y}if(!Le.checkCodewordSkew(y,u,f))return null;let v=qt.getDecodedValue(d),N=Oe.getCodeword(v);return N===-1?null:new Mr(o,p,Le.getCodewordBucketNumber(v),N)}static getModuleBitCount(e,n,r,s,o,l){let u=o,f=new Int32Array(8),d=0,p=s?1:-1,y=s;for(;(s?u<r:u>=n)&&d<f.length;)e.get(u,l)===y?(f[d]++,u+=p):(d++,y=!y);return d===f.length||u===(s?r:n)&&d===f.length-1?f:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,s,o,l){let u=o,f=s?-1:1;for(let d=0;d<2;d++){for(;(s?u>=n:u<r)&&s===e.get(u,l);){if(Math.abs(o-u)>Le.CODEWORD_SKEW_SIZE)return o;u+=f}f=-f,s=!s}return u}static checkCodewordSkew(e,n,r){return n-Le.CODEWORD_SKEW_SIZE<=e&&e<=r+Le.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw $.getFormatInstance();let s=1<<n+1,o=Le.correctErrors(e,r,s);Le.verifyCodewordCount(e,s);let l=H.decode(e,""+n);return l.setErrorsCorrected(o),l.setErasures(r.length),l}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+Le.MAX_ERRORS||r<0||r>Le.MAX_EC_CODEWORDS)throw _e.getChecksumInstance();return Le.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw $.getFormatInstance();let r=e[0];if(r>e.length)throw $.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw $.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,s=n.length-1;for(;!((e&1)!==r&&(r=e&1,s--,s<0));)n[s]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Le.getCodewordBucketNumber(Le.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new cr;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let s=0;s<e[r].length;s++){let o=e[r][s];o.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()}}Le.CODEWORD_SKEW_SIZE=2,Le.MAX_ERRORS=3,Le.MAX_EC_CODEWORDS=512,Le.errorCorrection=new Fs;class Jt{decode(e,n=null){let r=Jt.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw j.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return Jt.decode(e,n,!0)}catch(r){throw r instanceof $||r instanceof _e?j.getNotFoundInstance():r}}static decode(e,n,r){const s=new Array,o=Be.detectMultiple(e,n,r);for(const l of o.getPoints()){const u=Le.decode(o.getBits(),l[4],l[5],l[6],l[7],Jt.getMinCodewordWidth(l),Jt.getMaxCodewordWidth(l)),f=new Ie(u.getText(),u.getRawBytes(),void 0,l,se.PDF_417);f.putMetadata(Me.ERROR_CORRECTION_LEVEL,u.getECLevel());const d=u.getOther();d!=null&&f.putMetadata(Me.PDF417_EXTRA_METADATA,d),s.push(f)}return s.map(l=>l)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?Ee.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Jt.getMaxWidth(e[0],e[4]),Jt.getMaxWidth(e[6],e[2])*Oe.MODULES_IN_CODEWORD/Oe.MODULES_IN_STOP_PATTERN),Math.max(Jt.getMaxWidth(e[1],e[5]),Jt.getMaxWidth(e[7],e[3])*Oe.MODULES_IN_CODEWORD/Oe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Jt.getMinWidth(e[0],e[4]),Jt.getMinWidth(e[6],e[2])*Oe.MODULES_IN_CODEWORD/Oe.MODULES_IN_STOP_PATTERN),Math.min(Jt.getMinWidth(e[1],e[5]),Jt.getMinWidth(e[7],e[3])*Oe.MODULES_IN_CODEWORD/Oe.MODULES_IN_STOP_PATTERN)))}reset(){}}class ti extends T{}ti.kind="ReaderException";class rs{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!S(e)&&e.get(Fe.TRY_HARDER)===!0,r=S(e)?null:e.get(Fe.POSSIBLE_FORMATS),s=new Array;if(!S(r)){const o=r.some(l=>l===se.UPC_A||l===se.UPC_E||l===se.EAN_13||l===se.EAN_8||l===se.CODABAR||l===se.CODE_39||l===se.CODE_93||l===se.CODE_128||l===se.ITF||l===se.RSS_14||l===se.RSS_EXPANDED);o&&!n&&s.push(new Qr(e,this.verbose)),r.includes(se.QR_CODE)&&s.push(new fn),r.includes(se.DATA_MATRIX)&&s.push(new Hn),r.includes(se.AZTEC)&&s.push(new yr),r.includes(se.PDF_417)&&s.push(new Jt),o&&n&&s.push(new Qr(e,this.verbose))}s.length===0&&(n||s.push(new Qr(e,this.verbose)),s.push(new fn),s.push(new Hn),s.push(new yr),s.push(new Jt),n&&s.push(new Qr(e,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ti("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof ti)continue}throw new j("No MultiFormat Readers were able to detect the code.")}}class Ri extends be{constructor(e=null,n=500){const r=new rs;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class is extends be{constructor(e=500){super(new Jt,e)}}class No extends be{constructor(e=500){super(new fn,e)}}var zs;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(zs||(zs={}));var Vt=zs;class Ws{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Yt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const s=this.field;for(let o=n.length;o<=e;o++){const l=r.multiply(new Yt(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));n.push(l),r=l}}return n[e]}encode(e,n){if(n===0)throw new X("No error correction bytes");const r=e.length-n;if(r<=0)throw new X("No data bytes provided");const s=this.buildGenerator(n),o=new Int32Array(r);we.arraycopy(e,0,o,0,r);let l=new Yt(this.field,o);l=l.multiplyByMonomial(n,1);const f=l.divide(s)[1].getCoefficients(),d=n-f.length;for(let p=0;p<d;p++)e[r+p]=0;we.arraycopy(f,0,e,r+d,f.length)}}class yt{constructor(){}static applyMaskPenaltyRule1(e){return yt.applyMaskPenaltyRule1Internal(e,!0)+yt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let l=0;l<o-1;l++){const u=r[l];for(let f=0;f<s-1;f++){const d=u[f];d===u[f+1]&&d===r[l+1][f]&&d===r[l+1][f+1]&&n++}}return yt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let l=0;l<o;l++)for(let u=0;u<s;u++){const f=r[l];u+6<s&&f[u]===1&&f[u+1]===0&&f[u+2]===1&&f[u+3]===1&&f[u+4]===1&&f[u+5]===0&&f[u+6]===1&&(yt.isWhiteHorizontal(f,u-4,u)||yt.isWhiteHorizontal(f,u+7,u+11))&&n++,l+6<o&&r[l][u]===1&&r[l+1][u]===0&&r[l+2][u]===1&&r[l+3][u]===1&&r[l+4][u]===1&&r[l+5][u]===0&&r[l+6][u]===1&&(yt.isWhiteVertical(r,u,l-4,l)||yt.isWhiteVertical(r,u,l+7,l+11))&&n++}return n*yt.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let s=n;s<r;s++)if(e[s]===1)return!1;return!0}static isWhiteVertical(e,n,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(let o=r;o<s;o++)if(e[o][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let f=0;f<o;f++){const d=r[f];for(let p=0;p<s;p++)d[p]===1&&n++}const l=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-l)*10/l)*yt.N4}static getDataMaskBit(e,n,r){let s,o;switch(e){case 0:s=r+n&1;break;case 1:s=r&1;break;case 2:s=n%3;break;case 3:s=(r+n)%3;break;case 4:s=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:o=r*n,s=(o&1)+o%3;break;case 6:o=r*n,s=(o&1)+o%3&1;break;case 7:o=r*n,s=o%3+(r+n&1)&1;break;default:throw new X("Invalid mask pattern: "+e)}return s===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const s=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),l=e.getArray();for(let u=0;u<s;u++){let f=0,d=-1;for(let p=0;p<o;p++){const y=n?l[u][p]:l[p][u];y===d?f++:(f>=5&&(r+=yt.N1+(f-5)),f=1,d=y)}f>=5&&(r+=yt.N1+(f-5))}return r}}yt.N1=3,yt.N2=3,yt.N3=40,yt.N4=10;class ss{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let s=0;s!==n;s++)r[s]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)Ye.fill(n,e)}equals(e){if(!(e instanceof ss))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],l=n.bytes[r];for(let u=0,f=this.width;u<f;++u)if(o[u]!==l[u])return!1}return!0}toString(){const e=new Ve;for(let n=0,r=this.height;n<r;++n){const s=this.bytes[n];for(let o=0,l=this.width;o<l;++o)switch(s[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class br{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ve;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<br.NUM_MASK_PATTERNS}}br.NUM_MASK_PATTERNS=8;class dt extends T{}dt.kind="WriterException";class Te{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,s,o){Te.clearMatrix(o),Te.embedBasicPatterns(r,o),Te.embedTypeInfo(n,s,o),Te.maybeEmbedVersionInfo(r,o),Te.embedDataBits(e,s,o)}static embedBasicPatterns(e,n){Te.embedPositionDetectionPatternsAndSeparators(n),Te.embedDarkDotAtLeftBottomCorner(n),Te.maybeEmbedPositionAdjustmentPatterns(e,n),Te.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const s=new De;Te.makeTypeInfoBits(e,n,s);for(let o=0,l=s.getSize();o<l;++o){const u=s.get(s.getSize()-1-o),f=Te.TYPE_INFO_COORDINATES[o],d=f[0],p=f[1];if(r.setBoolean(d,p,u),o<8){const y=r.getWidth()-o-1;r.setBoolean(y,8,u)}else{const v=r.getHeight()-7+(o-8);r.setBoolean(8,v,u)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new De;Te.makeVersionInfoBits(e,r);let s=6*3-1;for(let o=0;o<6;++o)for(let l=0;l<3;++l){const u=r.get(s);s--,n.setBoolean(o,n.getHeight()-11+l,u),n.setBoolean(n.getHeight()-11+l,o,u)}}static embedDataBits(e,n,r){let s=0,o=-1,l=r.getWidth()-1,u=r.getHeight()-1;for(;l>0;){for(l===6&&(l-=1);u>=0&&u<r.getHeight();){for(let f=0;f<2;++f){const d=l-f;if(!Te.isEmpty(r.get(d,u)))continue;let p;s<e.getSize()?(p=e.get(s),++s):p=!1,n!==255&&yt.getDataMaskBit(n,d,u)&&(p=!p),r.setBoolean(d,u,p)}u+=o}o=-o,u+=o,l-=2}if(s!==e.getSize())throw new dt("Not all bits consumed: "+s+"/"+e.getSize())}static findMSBSet(e){return 32-Ee.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new X("0 polynomial");const r=Te.findMSBSet(n);for(e<<=r-1;Te.findMSBSet(e)>=r;)e^=n<<Te.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!br.isValidMaskPattern(n))throw new dt("Invalid mask pattern");const s=e.getBits()<<3|n;r.appendBits(s,5);const o=Te.calculateBCHCode(s,Te.TYPE_INFO_POLY);r.appendBits(o,10);const l=new De;if(l.appendBits(Te.TYPE_INFO_MASK_PATTERN,15),r.xor(l),r.getSize()!==15)throw new dt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=Te.calculateBCHCode(e.getVersionNumber(),Te.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new dt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;Te.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),Te.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new dt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let s=0;s<8;++s){if(!Te.isEmpty(r.get(e+s,n)))throw new dt;r.setNumber(e+s,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let s=0;s<7;++s){if(!Te.isEmpty(r.get(e,n+s)))throw new dt;r.setNumber(e,n+s,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let s=0;s<5;++s){const o=Te.POSITION_ADJUSTMENT_PATTERN[s];for(let l=0;l<5;++l)r.setNumber(e+l,n+s,o[l])}}static embedPositionDetectionPattern(e,n,r){for(let s=0;s<7;++s){const o=Te.POSITION_DETECTION_PATTERN[s];for(let l=0;l<7;++l)r.setNumber(e+l,n+s,o[l])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Te.POSITION_DETECTION_PATTERN[0].length;Te.embedPositionDetectionPattern(0,0,e),Te.embedPositionDetectionPattern(e.getWidth()-n,0,e),Te.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;Te.embedHorizontalSeparationPattern(0,r-1,e),Te.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Te.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const s=7;Te.embedVerticalSeparationPattern(s,0,e),Te.embedVerticalSeparationPattern(e.getHeight()-s-1,0,e),Te.embedVerticalSeparationPattern(s,e.getHeight()-s,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,s=Te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,l=s.length;o!==l;o++){const u=s[o];if(u>=0)for(let f=0;f!==l;f++){const d=s[f];d>=0&&Te.isEmpty(n.get(d,u))&&Te.embedPositionAdjustmentPattern(d-2,u-2,n)}}}}Te.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Te.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Te.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Te.VERSION_INFO_POLY=7973,Te.TYPE_INFO_POLY=1335,Te.TYPE_INFO_MASK_PATTERN=21522;class kl{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class gt{constructor(){}static calculateMaskPenalty(e){return yt.applyMaskPenaltyRule1(e)+yt.applyMaskPenaltyRule2(e)+yt.applyMaskPenaltyRule3(e)+yt.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let s=gt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(Vt.CHARACTER_SET)!==void 0;o&&(s=r.get(Vt.CHARACTER_SET).toString());const l=this.chooseMode(e,s),u=new De;if(l===Se.BYTE&&(o||gt.DEFAULT_BYTE_MODE_ENCODING!==s)){const re=ne.getCharacterSetECIByName(s);re!==void 0&&this.appendECI(re,u)}this.appendModeInfo(l,u);const f=new De;this.appendBytes(e,l,f,s);let d;if(r!==null&&r.get(Vt.QR_VERSION)!==void 0){const re=Number.parseInt(r.get(Vt.QR_VERSION).toString(),10);d=Ae.getVersionForNumber(re);const q=this.calculateBitsNeeded(l,u,f,d);if(!this.willFit(q,d,n))throw new dt("Data too big for requested version")}else d=this.recommendVersion(n,l,u,f);const p=new De;p.appendBitArray(u);const y=l===Se.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(y,d,l,p),p.appendBitArray(f);const v=d.getECBlocksForLevel(n),N=d.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(N,p);const D=this.interleaveWithECBytes(p,d.getTotalCodewords(),N,v.getNumBlocks()),b=new br;b.setECLevel(n),b.setMode(l),b.setVersion(d);const L=d.getDimensionForVersion(),W=new ss(L,L),te=this.chooseMaskPattern(D,n,d,W);return b.setMaskPattern(te),Te.buildMatrix(D,n,d,te,W),b.setMatrix(W),b}static recommendVersion(e,n,r,s){const o=this.calculateBitsNeeded(n,r,s,Ae.getVersionForNumber(1)),l=this.chooseVersion(o,e),u=this.calculateBitsNeeded(n,r,s,l);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,n,r,s){return n.getSize()+e.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(e){return e<gt.ALPHANUMERIC_TABLE.length?gt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(ne.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Se.KANJI;let r=!1,s=!1;for(let o=0,l=e.length;o<l;++o){const u=e.charAt(o);if(gt.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)s=!0;else return Se.BYTE}return s?Se.ALPHANUMERIC:r?Se.NUMERIC:Se.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Mt.encode(e,ne.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=n[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,n,r,s){let o=Number.MAX_SAFE_INTEGER,l=-1;for(let u=0;u<br.NUM_MASK_PATTERNS;u++){Te.buildMatrix(e,n,r,u,s);let f=this.calculateMaskPenalty(s);f<o&&(o=f,l=u)}return l}static chooseVersion(e,n){for(let r=1;r<=40;r++){const s=Ae.getVersionForNumber(r);if(gt.willFit(e,s,n))return s}throw new dt("Data too big")}static willFit(e,n,r){const s=n.getTotalCodewords(),l=n.getECBlocksForLevel(r).getTotalECCodewords(),u=s-l,f=(e+7)/8;return u>=f}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new dt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let l=0;l<4&&n.getSize()<r;++l)n.appendBit(!1);const s=n.getSize()&7;if(s>0)for(let l=s;l<8;l++)n.appendBit(!1);const o=e-n.getSizeInBytes();for(let l=0;l<o;++l)n.appendBits(l&1?17:236,8);if(n.getSize()!==r)throw new dt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,s,o,l){if(s>=r)throw new dt("Block ID too large");const u=e%r,f=r-u,d=Math.floor(e/r),p=d+1,y=Math.floor(n/r),v=y+1,N=d-y,D=p-v;if(N!==D)throw new dt("EC bytes mismatch");if(r!==f+u)throw new dt("RS blocks mismatch");if(e!==(y+N)*f+(v+D)*u)throw new dt("Total bytes mismatch");s<f?(o[0]=y,l[0]=N):(o[0]=v,l[0]=D)}static interleaveWithECBytes(e,n,r,s){if(e.getSizeInBytes()!==r)throw new dt("Number of bits and data bytes does not match");let o=0,l=0,u=0;const f=new Array;for(let p=0;p<s;++p){const y=new Int32Array(1),v=new Int32Array(1);gt.getNumDataBytesAndNumECBytesForBlockID(n,r,s,p,y,v);const N=y[0],D=new Uint8Array(N);e.toBytes(8*o,D,0,N);const b=gt.generateECBytes(D,v[0]);f.push(new kl(D,b)),l=Math.max(l,N),u=Math.max(u,b.length),o+=y[0]}if(r!==o)throw new dt("Data bytes does not match offset");const d=new De;for(let p=0;p<l;++p)for(const y of f){const v=y.getDataBytes();p<v.length&&d.appendBits(v[p],8)}for(let p=0;p<u;++p)for(const y of f){const v=y.getErrorCorrectionBytes();p<v.length&&d.appendBits(v[p],8)}if(n!==d.getSizeInBytes())throw new dt("Interleaving error: "+n+" and "+d.getSizeInBytes()+" differ.");return d}static generateECBytes(e,n){const r=e.length,s=new Int32Array(r+n);for(let l=0;l<r;l++)s[l]=e[l]&255;new Ws(qe.QR_CODE_FIELD_256).encode(s,n);const o=new Uint8Array(n);for(let l=0;l<n;l++)o[l]=s[r+l];return o}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,s){const o=r.getCharacterCountBits(n);if(e>=1<<o)throw new dt(e+" is bigger than "+((1<<o)-1));s.appendBits(e,o)}static appendBytes(e,n,r,s){switch(n){case Se.NUMERIC:gt.appendNumericBytes(e,r);break;case Se.ALPHANUMERIC:gt.appendAlphanumericBytes(e,r);break;case Se.BYTE:gt.append8BitBytes(e,r,s);break;case Se.KANJI:gt.appendKanjiBytes(e,r);break;default:throw new dt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=gt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=gt.getDigit(e.charAt(s));if(s+2<r){const l=gt.getDigit(e.charAt(s+1)),u=gt.getDigit(e.charAt(s+2));n.appendBits(o*100+l*10+u,10),s+=3}else if(s+1<r){const l=gt.getDigit(e.charAt(s+1));n.appendBits(o*10+l,7),s+=2}else n.appendBits(o,4),s++}}static appendAlphanumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=gt.getAlphanumericCode(e.charCodeAt(s));if(o===-1)throw new dt;if(s+1<r){const l=gt.getAlphanumericCode(e.charCodeAt(s+1));if(l===-1)throw new dt;n.appendBits(o*45+l,11),s+=2}else n.appendBits(o,6),s++}}static append8BitBytes(e,n,r){let s;try{s=Mt.encode(e,r)}catch(o){throw new dt(o)}for(let o=0,l=s.length;o!==l;o++){const u=s[o];n.appendBits(u,8)}}static appendKanjiBytes(e,n){let r;try{r=Mt.encode(e,ne.SJIS)}catch(o){throw new dt(o)}const s=r.length;for(let o=0;o<s;o+=2){const l=r[o]&255,u=r[o+1]&255,f=l<<8&4294967295|u;let d=-1;if(f>=33088&&f<=40956?d=f-33088:f>=57408&&f<=60351&&(d=f-49472),d===-1)throw new dt("Invalid byte sequence");const p=(d>>8)*192+(d&255);n.appendBits(p,13)}}static appendECI(e,n){n.appendBits(Se.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}gt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),gt.DEFAULT_BYTE_MODE_ENCODING=ne.UTF8.getName();class kr{write(e,n,r,s=null){if(e.length===0)throw new X("Found empty contents");if(n<0||r<0)throw new X("Requested dimensions are too small: "+n+"x"+r);let o=ct.L,l=kr.QUIET_ZONE_SIZE;s!==null&&(s.get(Vt.ERROR_CORRECTION)!==void 0&&(o=ct.fromString(s.get(Vt.ERROR_CORRECTION).toString())),s.get(Vt.MARGIN)!==void 0&&(l=Number.parseInt(s.get(Vt.MARGIN).toString(),10)));const u=gt.encode(e,o,s);return this.renderResult(u,n,r,l)}writeToDom(e,n,r,s,o=null){typeof e=="string"&&(e=document.querySelector(e));const l=this.write(n,r,s,o);e&&e.appendChild(l)}renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new Fn;const l=o.getWidth(),u=o.getHeight(),f=l+s*2,d=u+s*2,p=Math.max(n,f),y=Math.max(r,d),v=Math.min(Math.floor(p/f),Math.floor(y/d)),N=Math.floor((p-l*v)/2),D=Math.floor((y-u*v)/2),b=this.createSVGElement(p,y);for(let L=0,W=D;L<u;L++,W+=v)for(let te=0,re=N;te<l;te++,re+=v)if(o.get(te,L)===1){const q=this.createSvgRectElement(re,W,v,v);b.appendChild(q)}return b}createSVGElement(e,n){const r=document.createElementNS(kr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,s){const o=document.createElementNS(kr.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}kr.QUIET_ZONE_SIZE=4,kr.SVG_NS="http://www.w3.org/2000/svg";class ni{encode(e,n,r,s,o){if(e.length===0)throw new X("Found empty contents");if(n!==se.QR_CODE)throw new X("Can only encode QR_CODE, but got "+n);if(r<0||s<0)throw new X(`Requested dimensions are too small: ${r}x${s}`);let l=ct.L,u=ni.QUIET_ZONE_SIZE;o!==null&&(o.get(Vt.ERROR_CORRECTION)!==void 0&&(l=ct.fromString(o.get(Vt.ERROR_CORRECTION).toString())),o.get(Vt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(Vt.MARGIN).toString(),10)));const f=gt.encode(e,l,o);return ni.renderResult(f,r,s,u)}static renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new Fn;const l=o.getWidth(),u=o.getHeight(),f=l+s*2,d=u+s*2,p=Math.max(n,f),y=Math.max(r,d),v=Math.min(Math.floor(p/f),Math.floor(y/d)),N=Math.floor((p-l*v)/2),D=Math.floor((y-u*v)/2),b=new ot(p,y);for(let L=0,W=D;L<u;L++,W+=v)for(let te=0,re=N;te<l;te++,re+=v)o.get(te,L)===1&&b.setRegion(re,W,v,v);return b}}ni.QUIET_ZONE_SIZE=4;class Bl{encode(e,n,r,s,o){let l;switch(n){case se.QR_CODE:l=new ni;break;default:throw new X("No encoder available for format "+n)}return l.encode(e,n,r,s,o)}}class nr extends le{constructor(e,n,r,s,o,l,u,f){if(super(l,u),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=s,this.top=o,s+l>n||o+u>r)throw new X("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(l,u)}getRow(e,n){if(e<0||e>=this.getHeight())throw new X("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return we.arraycopy(this.yuvData,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return we.arraycopy(this.yuvData,o,s,0,r),s;for(let l=0;l<n;l++){const u=l*e;we.arraycopy(this.yuvData,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new nr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,s,!1)}renderThumbnail(){const e=this.getWidth()/nr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/nr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let l=0;l<n;l++){const u=l*e;for(let f=0;f<e;f++){const d=s[o+f*nr.THUMBNAIL_SCALE_FACTOR]&255;r[u+f]=4278190080|d*65793}o+=this.dataWidth*nr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/nr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/nr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<n;s++,o+=this.dataWidth){const l=o+e/2;for(let u=o,f=o+e-1;u<l;u++,f--){const d=r[u];r[u]=r[f],r[f]=d}}}invert(){return new ye(this)}}nr.THUMBNAIL_SCALE_FACTOR=2;class Oi extends le{constructor(e,n,r,s,o,l,u){if(super(n,r),this.dataWidth=s,this.dataHeight=o,this.left=l,this.top=u,e.BYTES_PER_ELEMENT===4){const f=n*r,d=new Uint8ClampedArray(f);for(let p=0;p<f;p++){const y=e[p],v=y>>16&255,N=y>>7&510,D=y&255;d[p]=(v+N+D)/4&255}this.luminances=d}else this.luminances=e;if(s===void 0&&(this.dataWidth=n),o===void 0&&(this.dataHeight=r),l===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new X("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new X("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return we.arraycopy(this.luminances,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return we.arraycopy(this.luminances,o,s,0,r),s;for(let l=0;l<n;l++){const u=l*e;we.arraycopy(this.luminances,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new Oi(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new ye(this)}}class Ro extends ne{static forName(e){return this.getCharacterSetECIByName(e)}}class Hs{}Hs.ISO_8859_1=ne.ISO8859_1;class Oo{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Gs{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class Pl{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ri extends Pl{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new ri(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ri(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+Ee.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Xs extends ri{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new Xs(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ll(E,e,n){return new Xs(E,e,n)}function Di(E,e,n){return new ri(E,e,n)}const Fl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ir=0,ii=1,on=2,Do=3,Xn=4,Mo=new ri(null,0,0),os=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function bo(E){for(let e of E)Ye.fill(e,-1);return E[Ir][Xn]=0,E[ii][Xn]=0,E[ii][Ir]=28,E[Do][Xn]=0,E[on][Xn]=0,E[on][Ir]=15,E}const js=bo(Ye.createInt32Array(6,6));class dn{constructor(e,n,r,s){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,s=this.token;if(e!==this.mode){let l=os[this.mode][e];s=Di(s,l&65535,l>>16),r+=l>>16}let o=e===on?4:5;return s=Di(s,n,o),new dn(s,e,0,r+o)}shiftAndAppend(e,n){let r=this.token,s=this.mode===on?4:5;return r=Di(r,js[this.mode][e],s),r=Di(r,n,5),new dn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,s=this.bitCount;if(this.mode===Xn||this.mode===on){let u=os[r][Ir];n=Di(n,u&65535,u>>16),s+=u>>16,r=Ir}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new dn(n,r,this.binaryShiftByteCount+1,s+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Ll(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new dn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(os[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=dn.calculateBinaryShiftCost(e)-dn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())n.unshift(s);let r=new De;for(const s of n)s.appendTo(r,e);return r}toString(){return ve.format("%s bits=%d bytes=%d",Fl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}dn.INITIAL_STATE=new dn(Mo,Ir,0,0);function Ul(E){const e=ve.getCharCode(" "),n=ve.getCharCode("."),r=ve.getCharCode(",");E[Ir][e]=1;const s=ve.getCharCode("Z"),o=ve.getCharCode("A");for(let v=o;v<=s;v++)E[Ir][v]=v-o+2;E[ii][e]=1;const l=ve.getCharCode("z"),u=ve.getCharCode("a");for(let v=u;v<=l;v++)E[ii][v]=v-u+2;E[on][e]=1;const f=ve.getCharCode("9"),d=ve.getCharCode("0");for(let v=d;v<=f;v++)E[on][v]=v-d+2;E[on][r]=12,E[on][n]=13;const p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let v=0;v<p.length;v++)E[Do][ve.getCharCode(p[v])]=v;const y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let v=0;v<y.length;v++)ve.getCharCode(y[v])>0&&(E[Xn][ve.getCharCode(y[v])]=v);return E}const Ys=Ul(Ye.createInt32Array(5,256));class Mi{constructor(e){this.text=e}encode(){const e=ve.getCharCode(" "),n=ve.getCharCode(`
`);let r=Gs.singletonList(dn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let l,u=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ve.getCharCode("\r"):l=u===n?2:0;break;case ve.getCharCode("."):l=u===e?3:0;break;case ve.getCharCode(","):l=u===e?4:0;break;case ve.getCharCode(":"):l=u===e?5:0;break;default:l=0}l>0?(r=Mi.updateStateListForPair(r,o,l),o++):r=this.updateStateListForChar(r,o)}return Gs.min(r,(o,l)=>o.getBitCount()-l.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let s of e)this.updateStateForChar(s,n,r);return Mi.simplifyStates(r)}updateStateForChar(e,n,r){let s=this.text[n]&255,o=Ys[e.getMode()][s]>0,l=null;for(let u=0;u<=Xn;u++){let f=Ys[u][s];if(f>0){if(l==null&&(l=e.endBinaryShift(n)),!o||u===e.getMode()||u===on){const d=l.latchAndAppend(u,f);r.push(d)}if(!o&&js[e.getMode()][u]>=0){const d=l.shiftAndAppend(u,f);r.push(d)}}}if(e.getBinaryShiftByteCount()>0||Ys[e.getMode()][s]===0){let u=e.addBinaryShiftChar(n);r.push(u)}}static updateStateListForPair(e,n,r){const s=[];for(let o of e)this.updateStateForPair(o,n,r,s);return this.simplifyStates(s)}static updateStateForPair(e,n,r,s){let o=e.endBinaryShift(n);if(s.push(o.latchAndAppend(Xn,r)),e.getMode()!==Xn&&s.push(o.shiftAndAppend(Xn,r)),r===3||r===4){let l=o.latchAndAppend(on,16-r).latchAndAppend(on,1);s.push(l)}if(e.getBinaryShiftByteCount()>0){let l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);s.push(l)}}static simplifyStates(e){let n=[];for(const r of e){let s=!0;for(const o of n){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(n=n.filter(l=>l!==o))}s&&n.push(r)}return n}}class Je{constructor(){}static encodeBytes(e){return Je.encode(e,Je.DEFAULT_EC_PERCENT,Je.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let s=new Mi(e).encode(),o=Ee.truncDivision(s.getSize()*n,100)+11,l=s.getSize()+o,u,f,d,p,y;if(r!==Je.DEFAULT_AZTEC_LAYERS){if(u=r<0,f=Math.abs(r),f>(u?Je.MAX_NB_BITS_COMPACT:Je.MAX_NB_BITS))throw new X(ve.format("Illegal value %s for layers",r));d=Je.totalBitsInLayer(f,u),p=Je.WORD_SIZE[f];let q=d-d%p;if(y=Je.stuffBits(s,p),y.getSize()+o>q)throw new X("Data to large for user specified layer");if(u&&y.getSize()>p*64)throw new X("Data to large for user specified layer")}else{p=0,y=null;for(let q=0;;q++){if(q>Je.MAX_NB_BITS)throw new X("Data too large for an Aztec code");if(u=q<=3,f=u?q+1:q,d=Je.totalBitsInLayer(f,u),l>d)continue;(y==null||p!==Je.WORD_SIZE[f])&&(p=Je.WORD_SIZE[f],y=Je.stuffBits(s,p));let He=d-d%p;if(!(u&&y.getSize()>p*64)&&y.getSize()+o<=He)break}}let v=Je.generateCheckWords(y,d,p),N=y.getSize()/p,D=Je.generateModeMessage(u,f,N),b=(u?11:14)+f*4,L=new Int32Array(b),W;if(u){W=b;for(let q=0;q<L.length;q++)L[q]=q}else{W=b+1+2*Ee.truncDivision(Ee.truncDivision(b,2)-1,15);let q=Ee.truncDivision(b,2),He=Ee.truncDivision(W,2);for(let Pe=0;Pe<q;Pe++){let Cn=Pe+Ee.truncDivision(Pe,15);L[q-Pe-1]=He-Cn-1,L[q+Pe]=He+Cn+1}}let te=new ot(W);for(let q=0,He=0;q<f;q++){let Pe=(f-q)*4+(u?9:12);for(let Cn=0;Cn<Pe;Cn++){let jn=Cn*2;for(let zt=0;zt<2;zt++)v.get(He+jn+zt)&&te.set(L[q*2+zt],L[q*2+Cn]),v.get(He+Pe*2+jn+zt)&&te.set(L[q*2+Cn],L[b-1-q*2-zt]),v.get(He+Pe*4+jn+zt)&&te.set(L[b-1-q*2-zt],L[b-1-q*2-Cn]),v.get(He+Pe*6+jn+zt)&&te.set(L[b-1-q*2-Cn],L[q*2+zt])}He+=Pe*8}if(Je.drawModeMessage(te,u,W,D),u)Je.drawBullsEye(te,Ee.truncDivision(W,2),5);else{Je.drawBullsEye(te,Ee.truncDivision(W,2),7);for(let q=0,He=0;q<Ee.truncDivision(b,2)-1;q+=15,He+=16)for(let Pe=Ee.truncDivision(W,2)&1;Pe<W;Pe+=2)te.set(Ee.truncDivision(W,2)-He,Pe),te.set(Ee.truncDivision(W,2)+He,Pe),te.set(Pe,Ee.truncDivision(W,2)-He),te.set(Pe,Ee.truncDivision(W,2)+He)}let re=new Oo;return re.setCompact(u),re.setSize(W),re.setLayers(f),re.setCodeWords(N),re.setMatrix(te),re}static drawBullsEye(e,n,r){for(let s=0;s<r;s+=2)for(let o=n-s;o<=n+s;o++)e.set(o,n-s),e.set(o,n+s),e.set(n-s,o),e.set(n+s,o);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let s=new De;return e?(s.appendBits(n-1,2),s.appendBits(r-1,6),s=Je.generateCheckWords(s,28,4)):(s.appendBits(n-1,5),s.appendBits(r-1,11),s=Je.generateCheckWords(s,40,4)),s}static drawModeMessage(e,n,r,s){let o=Ee.truncDivision(r,2);if(n)for(let l=0;l<7;l++){let u=o-3+l;s.get(l)&&e.set(u,o-5),s.get(l+7)&&e.set(o+5,u),s.get(20-l)&&e.set(u,o+5),s.get(27-l)&&e.set(o-5,u)}else for(let l=0;l<10;l++){let u=o-5+l+Ee.truncDivision(l,5);s.get(l)&&e.set(u,o-7),s.get(l+10)&&e.set(o+7,u),s.get(29-l)&&e.set(u,o+7),s.get(39-l)&&e.set(o-7,u)}}static generateCheckWords(e,n,r){let s=e.getSize()/r,o=new Ws(Je.getGF(r)),l=Ee.truncDivision(n,r),u=Je.bitsToWords(e,r,l);o.encode(u,l-s);let f=n%r,d=new De;d.appendBits(0,f);for(const p of Array.from(u))d.appendBits(p,r);return d}static bitsToWords(e,n,r){let s=new Int32Array(r),o,l;for(o=0,l=e.getSize()/n;o<l;o++){let u=0;for(let f=0;f<n;f++)u|=e.get(o*n+f)?1<<n-f-1:0;s[o]=u}return s}static getGF(e){switch(e){case 4:return qe.AZTEC_PARAM;case 6:return qe.AZTEC_DATA_6;case 8:return qe.AZTEC_DATA_8;case 10:return qe.AZTEC_DATA_10;case 12:return qe.AZTEC_DATA_12;default:throw new X("Unsupported word size "+e)}}static stuffBits(e,n){let r=new De,s=e.getSize(),o=(1<<n)-2;for(let l=0;l<s;l+=n){let u=0;for(let f=0;f<n;f++)(l+f>=s||e.get(l+f))&&(u|=1<<n-1-f);(u&o)===o?(r.appendBits(u&o,n),l--):u&o?r.appendBits(u,n):(r.appendBits(u|1,n),l--)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Je.DEFAULT_EC_PERCENT=33,Je.DEFAULT_AZTEC_LAYERS=0,Je.MAX_NB_BITS=32,Je.MAX_NB_BITS_COMPACT=4,Je.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class bi{encode(e,n,r,s){return this.encodeWithHints(e,n,r,s,null)}encodeWithHints(e,n,r,s,o){let l=Hs.ISO_8859_1,u=Je.DEFAULT_EC_PERCENT,f=Je.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(Vt.CHARACTER_SET)&&(l=Ro.forName(o.get(Vt.CHARACTER_SET).toString())),o.has(Vt.ERROR_CORRECTION)&&(u=Ee.parseInt(o.get(Vt.ERROR_CORRECTION).toString())),o.has(Vt.AZTEC_LAYERS)&&(f=Ee.parseInt(o.get(Vt.AZTEC_LAYERS).toString()))),bi.encodeLayers(e,n,r,s,l,u,f)}static encodeLayers(e,n,r,s,o,l,u){if(n!==se.AZTEC)throw new X("Can only encode AZTEC, but got "+n);let f=Je.encode(ve.getBytes(e,o),l,u);return bi.renderResult(f,r,s)}static renderResult(e,n,r){let s=e.getMatrix();if(s==null)throw new Fn;let o=s.getWidth(),l=s.getHeight(),u=Math.max(n,o),f=Math.max(r,l),d=Math.min(u/o,f/l),p=(u-o*d)/2,y=(f-l*d)/2,v=new ot(u,f);for(let N=0,D=y;N<l;N++,D+=d)for(let b=0,L=p;b<o;b++,L+=d)s.get(b,N)&&v.setRegion(L,D,d,d);return v}}g.AbstractExpandedDecoder=Ms,g.ArgumentException=Y,g.ArithmeticException=Ci,g.AztecCode=Oo,g.AztecCodeReader=yr,g.AztecCodeWriter=bi,g.AztecDecoder=ft,g.AztecDetector=Zr,g.AztecDetectorResult=_s,g.AztecEncoder=Je,g.AztecHighLevelEncoder=Mi,g.AztecPoint=rn,g.BarcodeFormat=se,g.Binarizer=ht,g.BinaryBitmap=pe,g.BitArray=De,g.BitMatrix=ot,g.BitSource=Bs,g.BrowserAztecCodeReader=Ml,g.BrowserBarcodeReader=Ao,g.BrowserCodeReader=be,g.BrowserDatamatrixCodeReader=bl,g.BrowserMultiFormatReader=Ri,g.BrowserPDF417Reader=is,g.BrowserQRCodeReader=No,g.BrowserQRCodeSvgWriter=kr,g.CharacterSetECI=ne,g.ChecksumException=_e,g.Code128Reader=oe,g.Code39Reader=Ft,g.DataMatrixDecodedBitStreamParser=Wn,g.DataMatrixReader=Hn,g.DecodeHintType=Fe,g.DecoderResult=at,g.DefaultGridSampler=Qi,g.DetectorResult=Yr,g.EAN13Reader=Rn,g.EncodeHintType=Vt,g.Exception=T,g.FormatException=$,g.GenericGF=qe,g.GenericGFPoly=Yt,g.GlobalHistogramBinarizer=et,g.GridSampler=Ki,g.GridSamplerInstance=Un,g.HTMLCanvasElementLuminanceSource=ae,g.HybridBinarizer=xe,g.ITFReader=it,g.IllegalArgumentException=X,g.IllegalStateException=Fn,g.InvertedLuminanceSource=ye,g.LuminanceSource=le,g.MathUtils=Ze,g.MultiFormatOneDReader=Qr,g.MultiFormatReader=rs,g.MultiFormatWriter=Bl,g.NotFoundException=j,g.OneDReader=Nt,g.PDF417DecodedBitStreamParser=H,g.PDF417DecoderErrorCorrection=Fs,g.PDF417Reader=Jt,g.PDF417ResultMetadata=ts,g.PerspectiveTransform=Nn,g.PlanarYUVLuminanceSource=nr,g.QRCodeByteMatrix=ss,g.QRCodeDataMask=We,g.QRCodeDecodedBitStreamParser=Ct,g.QRCodeDecoderErrorCorrectionLevel=ct,g.QRCodeDecoderFormatInformation=Kt,g.QRCodeEncoder=gt,g.QRCodeEncoderQRCode=br,g.QRCodeMaskUtil=yt,g.QRCodeMatrixUtil=Te,g.QRCodeMode=Se,g.QRCodeReader=fn,g.QRCodeVersion=Ae,g.QRCodeWriter=ni,g.RGBLuminanceSource=Oi,g.RSS14Reader=pt,g.RSSExpandedReader=K,g.ReaderException=ti,g.ReedSolomonDecoder=jr,g.ReedSolomonEncoder=Ws,g.ReedSolomonException=Er,g.Result=Ie,g.ResultMetadataType=Me,g.ResultPoint=fe,g.StringUtils=ve,g.UnsupportedOperationException=pn,g.VideoInputDevice=F,g.WhiteRectangleDetector=qn,g.WriterException=dt,g.ZXingArrays=Ye,g.ZXingCharset=Ro,g.ZXingInteger=Ee,g.ZXingStandardCharsets=Hs,g.ZXingStringBuilder=Ve,g.ZXingStringEncoding=Mt,g.ZXingSystem=we,g.createAbstractExpandedDecoder=Co,Object.defineProperty(g,"__esModule",{value:!0})})}(mo,mo.exports)),mo.exports}var It=q0();const J0=au(It),$0=T0({__proto__:null,default:J0},[It]);var Sc=function(){function w(m,g,S){if(this.formatMap=new Map([[de.QR_CODE,It.BarcodeFormat.QR_CODE],[de.AZTEC,It.BarcodeFormat.AZTEC],[de.CODABAR,It.BarcodeFormat.CODABAR],[de.CODE_39,It.BarcodeFormat.CODE_39],[de.CODE_93,It.BarcodeFormat.CODE_93],[de.CODE_128,It.BarcodeFormat.CODE_128],[de.DATA_MATRIX,It.BarcodeFormat.DATA_MATRIX],[de.MAXICODE,It.BarcodeFormat.MAXICODE],[de.ITF,It.BarcodeFormat.ITF],[de.EAN_13,It.BarcodeFormat.EAN_13],[de.EAN_8,It.BarcodeFormat.EAN_8],[de.PDF_417,It.BarcodeFormat.PDF_417],[de.RSS_14,It.BarcodeFormat.RSS_14],[de.RSS_EXPANDED,It.BarcodeFormat.RSS_EXPANDED],[de.UPC_A,It.BarcodeFormat.UPC_A],[de.UPC_E,It.BarcodeFormat.UPC_E],[de.UPC_EAN_EXTENSION,It.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!$0)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=g,this.logger=S;var I=this.createZXingFormats(m),C=new Map;C.set(It.DecodeHintType.POSSIBLE_FORMATS,I),C.set(It.DecodeHintType.TRY_HARDER,!1),this.hints=C}return w.prototype.decodeAsync=function(m){var g=this;return new Promise(function(S,I){try{S(g.decode(m))}catch(C){I(C)}})},w.prototype.decode=function(m){var g=new It.MultiFormatReader(this.verbose,this.hints),S=new It.HTMLCanvasElementLuminanceSource(m),I=new It.BinaryBitmap(new It.HybridBinarizer(S)),C=g.decode(I);return{text:C.text,format:bc.create(this.toHtml5QrcodeSupportedFormats(C.format)),debugData:this.createDebugData()}},w.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(g,S,I){m.set(g,S)}),m},w.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},w.prototype.createZXingFormats=function(m){for(var g=[],S=0,I=m;S<I.length;S++){var C=I[S];this.formatMap.has(C)?g.push(this.formatMap.get(C)):this.logger.logError("".concat(C," is not supported by")+"ZXingHtml5QrcodeShim")}return g},w.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},w}(),ef=function(w,m,g,S){function I(C){return C instanceof g?C:new g(function(O){O(C)})}return new(g||(g=Promise))(function(C,O){function P(Y){try{T(S.next(Y))}catch(X){O(X)}}function B(Y){try{T(S.throw(Y))}catch(X){O(X)}}function T(Y){Y.done?C(Y.value):I(Y.value).then(P,B)}T((S=S.apply(w,m||[])).next())})},tf=function(w,m){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},S,I,C,O;return O={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function P(T){return function(Y){return B([T,Y])}}function B(T){if(S)throw new TypeError("Generator is already executing.");for(;O&&(O=0,T[0]&&(g=0)),g;)try{if(S=1,I&&(C=T[0]&2?I.return:T[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,T[1])).done)return C;switch(I=0,C&&(T=[T[0]&2,C.value]),T[0]){case 0:case 1:C=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,I=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!C||T[1]>C[0]&&T[1]<C[3])){g.label=T[1];break}if(T[0]===6&&g.label<C[1]){g.label=C[1],C=T;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(T);break}C[2]&&g.ops.pop(),g.trys.pop();continue}T=m.call(w,g)}catch(Y){T=[6,Y],I=0}finally{S=C=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},Ic=function(){function w(m,g,S){if(this.formatMap=new Map([[de.QR_CODE,"qr_code"],[de.AZTEC,"aztec"],[de.CODABAR,"codabar"],[de.CODE_39,"code_39"],[de.CODE_93,"code_93"],[de.CODE_128,"code_128"],[de.DATA_MATRIX,"data_matrix"],[de.ITF,"itf"],[de.EAN_13,"ean_13"],[de.EAN_8,"ean_8"],[de.PDF_417,"pdf417"],[de.UPC_A,"upc_a"],[de.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!w.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=g,this.logger=S;var I=this.createBarcodeDetectorFormats(m);if(this.detector=new BarcodeDetector(I),!this.detector)throw"BarcodeDetector detector not supported"}return w.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var m=new BarcodeDetector({formats:["qr_code"]});return typeof m<"u"},w.prototype.decodeAsync=function(m){return ef(this,void 0,void 0,function(){var g,S;return tf(this,function(I){switch(I.label){case 0:return[4,this.detector.detect(m)];case 1:if(g=I.sent(),!g||g.length===0)throw"No barcode or QR code detected.";return S=this.selectLargestBarcode(g),[2,{text:S.rawValue,format:bc.create(this.toHtml5QrcodeSupportedFormats(S.format)),debugData:this.createDebugData()}]}})})},w.prototype.selectLargestBarcode=function(m){for(var g=null,S=0,I=0,C=m;I<C.length;I++){var O=C[I],P=O.boundingBox.width*O.boundingBox.height;P>S&&(S=P,g=O)}if(!g)throw"No largest barcode found";return g},w.prototype.createBarcodeDetectorFormats=function(m){for(var g=[],S=0,I=m;S<I.length;S++){var C=I[S];this.formatMap.has(C)?g.push(this.formatMap.get(C)):this.logger.warn("".concat(C," is not supported by")+"BarcodeDetectorDelegate")}return{formats:g}},w.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},w.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(g,S,I){m.set(g,S)}),m},w.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},w}(),Tc=function(w,m,g,S){function I(C){return C instanceof g?C:new g(function(O){O(C)})}return new(g||(g=Promise))(function(C,O){function P(Y){try{T(S.next(Y))}catch(X){O(X)}}function B(Y){try{T(S.throw(Y))}catch(X){O(X)}}function T(Y){Y.done?C(Y.value):I(Y.value).then(P,B)}T((S=S.apply(w,m||[])).next())})},_c=function(w,m){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},S,I,C,O;return O={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function P(T){return function(Y){return B([T,Y])}}function B(T){if(S)throw new TypeError("Generator is already executing.");for(;O&&(O=0,T[0]&&(g=0)),g;)try{if(S=1,I&&(C=T[0]&2?I.return:T[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,T[1])).done)return C;switch(I=0,C&&(T=[T[0]&2,C.value]),T[0]){case 0:case 1:C=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,I=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!C||T[1]>C[0]&&T[1]<C[3])){g.label=T[1];break}if(T[0]===6&&g.label<C[1]){g.label=C[1],C=T;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(T);break}C[2]&&g.ops.pop(),g.trys.pop();continue}T=m.call(w,g)}catch(Y){T=[6,Y],I=0}finally{S=C=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},nf=function(){function w(m,g,S,I){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=S,g&&Ic.isSupported()?(this.primaryDecoder=new Ic(m,S,I),this.secondaryDecoder=new Sc(m,S,I)):this.primaryDecoder=new Sc(m,S,I)}return w.prototype.decodeAsync=function(m){return Tc(this,void 0,void 0,function(){var g;return _c(this,function(S){switch(S.label){case 0:g=performance.now(),S.label=1;case 1:return S.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(m)];case 2:return[2,S.sent()];case 3:return this.possiblyLogPerformance(g),[7];case 4:return[2]}})})},w.prototype.decodeRobustlyAsync=function(m){return Tc(this,void 0,void 0,function(){var g,S;return _c(this,function(I){switch(I.label){case 0:g=performance.now(),I.label=1;case 1:return I.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(m)];case 2:return[2,I.sent()];case 3:if(S=I.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(m)];throw S;case 4:return this.possiblyLogPerformance(g),[7];case 5:return[2]}})})},w.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},w.prototype.possiblyLogPerformance=function(m){if(this.verbose){var g=performance.now()-m;this.executionResults.push(g),this.executions++,this.possiblyFlushPerformanceReport()}},w.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var m=0,g=0,S=this.executionResults;g<S.length;g++){var I=S[g];m+=I}var C=m/this.executionResults.length;console.log("".concat(C," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},w}(),xu=function(){var w=function(m,g){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,I){S.__proto__=I}||function(S,I){for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(S[C]=I[C])},w(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");w(m,g);function S(){this.constructor=m}m.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}(),Ol=function(w,m,g,S){function I(C){return C instanceof g?C:new g(function(O){O(C)})}return new(g||(g=Promise))(function(C,O){function P(Y){try{T(S.next(Y))}catch(X){O(X)}}function B(Y){try{T(S.throw(Y))}catch(X){O(X)}}function T(Y){Y.done?C(Y.value):I(Y.value).then(P,B)}T((S=S.apply(w,m||[])).next())})},Dl=function(w,m){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},S,I,C,O;return O={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function P(T){return function(Y){return B([T,Y])}}function B(T){if(S)throw new TypeError("Generator is already executing.");for(;O&&(O=0,T[0]&&(g=0)),g;)try{if(S=1,I&&(C=T[0]&2?I.return:T[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,T[1])).done)return C;switch(I=0,C&&(T=[T[0]&2,C.value]),T[0]){case 0:case 1:C=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,I=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!C||T[1]>C[0]&&T[1]<C[3])){g.label=T[1];break}if(T[0]===6&&g.label<C[1]){g.label=C[1],C=T;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(T);break}C[2]&&g.ops.pop(),g.trys.pop();continue}T=m.call(w,g)}catch(Y){T=[6,Y],I=0}finally{S=C=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},Bc=function(){function w(m,g){this.name=m,this.track=g}return w.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},w.prototype.apply=function(m){var g={};g[this.name]=m;var S={advanced:[g]};return this.track.applyConstraints(S)},w.prototype.value=function(){var m=this.track.getSettings();if(this.name in m){var g=m[this.name];return g}return null},w}(),rf=function(w){xu(m,w);function m(g,S){return w.call(this,g,S)||this}return m.prototype.min=function(){return this.getCapabilities().min},m.prototype.max=function(){return this.getCapabilities().max},m.prototype.step=function(){return this.getCapabilities().step},m.prototype.apply=function(g){var S={};S[this.name]=g;var I={advanced:[S]};return this.track.applyConstraints(I)},m.prototype.getCapabilities=function(){this.failIfNotSupported();var g=this.track.getCapabilities(),S=g[this.name];return{min:S.min,max:S.max,step:S.step}},m.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},m}(Bc),sf=function(w){xu(m,w);function m(g){return w.call(this,"zoom",g)||this}return m}(rf),of=function(w){xu(m,w);function m(g){return w.call(this,"torch",g)||this}return m}(Bc),lf=function(){function w(m){this.track=m}return w.prototype.zoomFeature=function(){return new sf(this.track)},w.prototype.torchFeature=function(){return new of(this.track)},w}(),af=function(){function w(m,g,S){this.isClosed=!1,this.parentElement=m,this.mediaStream=g,this.callbacks=S,this.surface=this.createVideoElement(this.parentElement.clientWidth),m.append(this.surface)}return w.prototype.createVideoElement=function(m){var g=document.createElement("video");return g.style.width="".concat(m,"px"),g.style.display="block",g.muted=!0,g.setAttribute("muted","true"),g.playsInline=!0,g},w.prototype.setupSurface=function(){var m=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var g=function(){var S=m.surface.clientWidth,I=m.surface.clientHeight;m.callbacks.onRenderSurfaceReady(S,I),m.surface.removeEventListener("playing",g)};this.surface.addEventListener("playing",g),this.surface.srcObject=this.mediaStream,this.surface.play()},w.create=function(m,g,S,I){return Ol(this,void 0,void 0,function(){var C,O;return Dl(this,function(P){switch(P.label){case 0:return C=new w(m,g,I),S.aspectRatio?(O={aspectRatio:S.aspectRatio},[4,C.getFirstTrackOrFail().applyConstraints(O)]):[3,2];case 1:P.sent(),P.label=2;case 2:return C.setupSurface(),[2,C]}})})},w.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},w.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},w.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},w.prototype.resume=function(m){this.failIfClosed();var g=this,S=function(){setTimeout(m,200),g.surface.removeEventListener("playing",S)};this.surface.addEventListener("playing",S),this.surface.play()},w.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},w.prototype.getSurface=function(){return this.failIfClosed(),this.surface},w.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},w.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},w.prototype.applyVideoConstraints=function(m){return Ol(this,void 0,void 0,function(){return Dl(this,function(g){if("aspectRatio"in m)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(m)]})})},w.prototype.close=function(){if(this.isClosed)return Promise.resolve();var m=this;return new Promise(function(g,S){var I=m.mediaStream.getVideoTracks(),C=I.length,O=0;m.mediaStream.getVideoTracks().forEach(function(P){m.mediaStream.removeTrack(P),P.stop(),++O,O>=C&&(m.isClosed=!0,m.parentElement.removeChild(m.surface),g())})})},w.prototype.getCapabilities=function(){return new lf(this.getFirstTrackOrFail())},w}(),uf=function(){function w(m){this.mediaStream=m}return w.prototype.render=function(m,g,S){return Ol(this,void 0,void 0,function(){return Dl(this,function(I){return[2,af.create(m,this.mediaStream,g,S)]})})},w.create=function(m){return Ol(this,void 0,void 0,function(){var g,S;return Dl(this,function(I){switch(I.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return g={audio:!1,video:m},[4,navigator.mediaDevices.getUserMedia(g)];case 1:return S=I.sent(),[2,new w(S)]}})})},w}(),Nc=function(w,m,g,S){function I(C){return C instanceof g?C:new g(function(O){O(C)})}return new(g||(g=Promise))(function(C,O){function P(Y){try{T(S.next(Y))}catch(X){O(X)}}function B(Y){try{T(S.throw(Y))}catch(X){O(X)}}function T(Y){Y.done?C(Y.value):I(Y.value).then(P,B)}T((S=S.apply(w,m||[])).next())})},Rc=function(w,m){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},S,I,C,O;return O={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function P(T){return function(Y){return B([T,Y])}}function B(T){if(S)throw new TypeError("Generator is already executing.");for(;O&&(O=0,T[0]&&(g=0)),g;)try{if(S=1,I&&(C=T[0]&2?I.return:T[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,T[1])).done)return C;switch(I=0,C&&(T=[T[0]&2,C.value]),T[0]){case 0:case 1:C=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,I=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!C||T[1]>C[0]&&T[1]<C[3])){g.label=T[1];break}if(T[0]===6&&g.label<C[1]){g.label=C[1],C=T;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(T);break}C[2]&&g.ops.pop(),g.trys.pop();continue}T=m.call(w,g)}catch(Y){T=[6,Y],I=0}finally{S=C=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},cf=function(){function w(){}return w.failIfNotSupported=function(){return Nc(this,void 0,void 0,function(){return Rc(this,function(m){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new w]})})},w.prototype.create=function(m){return Nc(this,void 0,void 0,function(){return Rc(this,function(g){return[2,uf.create(m)]})})},w}(),ff=function(w,m,g,S){function I(C){return C instanceof g?C:new g(function(O){O(C)})}return new(g||(g=Promise))(function(C,O){function P(Y){try{T(S.next(Y))}catch(X){O(X)}}function B(Y){try{T(S.throw(Y))}catch(X){O(X)}}function T(Y){Y.done?C(Y.value):I(Y.value).then(P,B)}T((S=S.apply(w,m||[])).next())})},df=function(w,m){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},S,I,C,O;return O={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function P(T){return function(Y){return B([T,Y])}}function B(T){if(S)throw new TypeError("Generator is already executing.");for(;O&&(O=0,T[0]&&(g=0)),g;)try{if(S=1,I&&(C=T[0]&2?I.return:T[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,T[1])).done)return C;switch(I=0,C&&(T=[T[0]&2,C.value]),T[0]){case 0:case 1:C=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,I=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!C||T[1]>C[0]&&T[1]<C[3])){g.label=T[1];break}if(T[0]===6&&g.label<C[1]){g.label=C[1],C=T;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(T);break}C[2]&&g.ops.pop(),g.trys.pop();continue}T=m.call(w,g)}catch(Y){T=[6,Y],I=0}finally{S=C=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},hf=function(){function w(){}return w.retrieve=function(){if(navigator.mediaDevices)return w.getCamerasFromMediaDevices();var m=MediaStreamTrack;return MediaStreamTrack&&m.getSources?w.getCamerasFromMediaStreamTrack():w.rejectWithError()},w.rejectWithError=function(){var m=Ts.unableToQuerySupportedDevices();return w.isHttpsOrLocalhost()||(m=Ts.insecureContextCameraQueryError()),Promise.reject(m)},w.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var m=location.host.split(":")[0];return m==="127.0.0.1"||m==="localhost"},w.getCamerasFromMediaDevices=function(){return ff(this,void 0,void 0,function(){var m,g,S,I,C,O,P;return df(this,function(B){switch(B.label){case 0:return m=function(T){for(var Y=T.getVideoTracks(),X=0,pe=Y;X<pe.length;X++){var _e=pe[X];_e.enabled=!1,_e.stop(),T.removeTrack(_e)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return g=B.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(S=B.sent(),I=[],C=0,O=S;C<O.length;C++)P=O[C],P.kind==="videoinput"&&I.push({id:P.deviceId,label:P.label});return m(g),[2,I]}})})},w.getCamerasFromMediaStreamTrack=function(){return new Promise(function(m,g){var S=function(C){for(var O=[],P=0,B=C;P<B.length;P++){var T=B[P];T.kind==="video"&&O.push({id:T.id,label:T.label})}m(O)},I=MediaStreamTrack;I.getSources(S)})},w}(),Pt;(function(w){w[w.UNKNOWN=0]="UNKNOWN",w[w.NOT_STARTED=1]="NOT_STARTED",w[w.SCANNING=2]="SCANNING",w[w.PAUSED=3]="PAUSED"})(Pt||(Pt={}));var gf=function(){function w(){this.state=Pt.NOT_STARTED,this.onGoingTransactionNewState=Pt.UNKNOWN}return w.prototype.directTransition=function(m){this.failIfTransitionOngoing(),this.validateTransition(m),this.state=m},w.prototype.startTransition=function(m){return this.failIfTransitionOngoing(),this.validateTransition(m),this.onGoingTransactionNewState=m,this},w.prototype.execute=function(){if(this.onGoingTransactionNewState===Pt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var m=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Pt.UNKNOWN,this.directTransition(m)},w.prototype.cancel=function(){if(this.onGoingTransactionNewState===Pt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Pt.UNKNOWN},w.prototype.getState=function(){return this.state},w.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Pt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},w.prototype.validateTransition=function(m){switch(this.state){case Pt.UNKNOWN:throw"Transition from unknown is not allowed";case Pt.NOT_STARTED:this.failIfNewStateIs(m,[Pt.PAUSED]);break;case Pt.SCANNING:break;case Pt.PAUSED:break}},w.prototype.failIfNewStateIs=function(m,g){for(var S=0,I=g;S<I.length;S++){var C=I[S];if(m===C)throw"Cannot transition from ".concat(this.state," to ").concat(m)}},w}(),xf=function(){function w(m){this.stateManager=m}return w.prototype.startTransition=function(m){return this.stateManager.startTransition(m)},w.prototype.directTransition=function(m){this.stateManager.directTransition(m)},w.prototype.getState=function(){return this.stateManager.getState()},w.prototype.canScanFile=function(){return this.stateManager.getState()===Pt.NOT_STARTED},w.prototype.isScanning=function(){return this.stateManager.getState()!==Pt.NOT_STARTED},w.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Pt.SCANNING},w.prototype.isPaused=function(){return this.stateManager.getState()===Pt.PAUSED},w}(),pf=function(){function w(){}return w.create=function(){return new xf(new gf)},w}(),mf=function(){var w=function(m,g){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,I){S.__proto__=I}||function(S,I){for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(S[C]=I[C])},w(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");w(m,g);function S(){this.constructor=m}m.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}(),Qn=function(w){mf(m,w);function m(){return w!==null&&w.apply(this,arguments)||this}return m.DEFAULT_WIDTH=300,m.DEFAULT_WIDTH_OFFSET=2,m.FILE_SCAN_MIN_HEIGHT=300,m.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,m.MIN_QR_BOX_SIZE=50,m.SHADED_LEFT=1,m.SHADED_RIGHT=2,m.SHADED_TOP=3,m.SHADED_BOTTOM=4,m.SHADED_REGION_ELEMENT_ID="qr-shaded-region",m.VERBOSE=!1,m.BORDER_SHADER_DEFAULT_COLOR="#ffffff",m.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",m}(Y0),wf=function(){function w(m,g){this.logger=g,this.fps=Qn.SCAN_DEFAULT_FPS,m?(m.fps&&(this.fps=m.fps),this.disableFlip=m.disableFlip===!0,this.qrbox=m.qrbox,this.aspectRatio=m.aspectRatio,this.videoConstraints=m.videoConstraints):this.disableFlip=Qn.DEFAULT_DISABLE_FLIP}return w.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?kc.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},w.prototype.isShadedBoxEnabled=function(){return!Gr(this.qrbox)},w.create=function(m,g){return new w(m,g)},w}(),Ef=function(){function w(m,g){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(m))throw"HTML Element with id=".concat(m," not found");this.elementId=m,this.verbose=!1;var S;typeof g=="boolean"?this.verbose=g===!0:g&&(S=g,this.verbose=S.verbose===!0,S.experimentalFeatures),this.logger=new K0(this.verbose),this.qrcode=new nf(this.getSupportedFormats(g),this.getUseBarCodeDetectorIfSupported(S),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=pf.create()}return w.prototype.start=function(m,g,S,I){var C=this;if(!m)throw"cameraIdOrConfig is required";if(!S||typeof S!="function")throw"qrCodeSuccessCallback is required and should be a function.";var O;I?O=I:O=this.verbose?this.logger.log:function(){};var P=wf.create(g,this.logger);this.clearElement();var B=!1;P.videoConstraints&&(P.isMediaStreamConstraintsValid()?B=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var T=B,Y=document.getElementById(this.elementId);Y.clientWidth?Y.clientWidth:Qn.DEFAULT_WIDTH,Y.style.position="relative",this.shouldScan=!0,this.element=Y;var X=this,pe=this.stateManagerProxy.startTransition(Pt.SCANNING);return new Promise(function(_e,ht){var we=T?P.videoConstraints:X.createVideoConstraints(m);if(!we){pe.cancel(),ht("videoConstraints should be defined");return}var Ge={};(!T||P.aspectRatio)&&(Ge.aspectRatio=P.aspectRatio);var nn={onRenderSurfaceReady:function(Ye,Ee){X.setupUi(Ye,Ee,P),X.isScanning=!0,X.foreverScan(P,S,O)}};cf.failIfNotSupported().then(function(Ye){Ye.create(we).then(function(Ee){return Ee.render(C.element,Ge,nn).then(function(De){X.renderedCamera=De,pe.execute(),_e(null)}).catch(function(De){pe.cancel(),ht(De)})}).catch(function(Ee){pe.cancel(),ht(Ts.errorGettingUserMedia(Ee))})}).catch(function(Ye){pe.cancel(),ht(Ts.cameraStreamingNotSupported())})})},w.prototype.pause=function(m){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Pt.PAUSED),this.showPausedState(),(Gr(m)||m!==!0)&&(m=!1),m&&this.renderedCamera&&this.renderedCamera.pause()},w.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var m=this,g=function(){m.stateManagerProxy.directTransition(Pt.SCANNING),m.hidePausedState()};if(!this.renderedCamera.isPaused()){g();return}this.renderedCamera.resume(function(){g()})},w.prototype.getState=function(){return this.stateManagerProxy.getState()},w.prototype.stop=function(){var m=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var g=this.stateManagerProxy.startTransition(Pt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var S=function(){if(m.element){var C=document.getElementById(Qn.SHADED_REGION_ELEMENT_ID);C&&m.element.removeChild(C)}},I=this;return this.renderedCamera.close().then(function(){return I.renderedCamera=null,I.element&&(I.element.removeChild(I.canvasElement),I.canvasElement=null),S(),I.qrRegion&&(I.qrRegion=null),I.context&&(I.context=null),g.execute(),I.hidePausedState(),I.isScanning=!1,Promise.resolve()})},w.prototype.scanFile=function(m,g){return this.scanFileV2(m,g).then(function(S){return S.decodedText})},w.prototype.scanFileV2=function(m,g){var S=this;if(!m||!(m instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Gr(g)&&(g=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(I,C){S.possiblyCloseLastScanImageFile(),S.clearElement(),S.lastScanImageFile=URL.createObjectURL(m);var O=new Image;O.onload=function(){var P=O.width,B=O.height,T=document.getElementById(S.elementId),Y=T.clientWidth?T.clientWidth:Qn.DEFAULT_WIDTH,X=Math.max(T.clientHeight?T.clientHeight:B,Qn.FILE_SCAN_MIN_HEIGHT),pe=S.computeCanvasDrawConfig(P,B,Y,X);if(g){var _e=S.createCanvasElement(Y,X,"qr-canvas-visible");_e.style.display="inline-block",T.appendChild(_e);var ht=_e.getContext("2d");if(!ht)throw"Unable to get 2d context from canvas";ht.canvas.width=Y,ht.canvas.height=X,ht.drawImage(O,0,0,P,B,pe.x,pe.y,pe.width,pe.height)}var we=Qn.FILE_SCAN_HIDDEN_CANVAS_PADDING,Ge=Math.max(O.width,pe.width),nn=Math.max(O.height,pe.height),Ye=Ge+2*we,Ee=nn+2*we,De=S.createCanvasElement(Ye,Ee);T.appendChild(De);var Ht=De.getContext("2d");if(!Ht)throw"Unable to get 2d context from canvas";Ht.canvas.width=Ye,Ht.canvas.height=Ee,Ht.drawImage(O,0,0,P,B,we,we,Ge,nn);try{S.qrcode.decodeRobustlyAsync(De).then(function(Fe){I(Ac.createFromQrcodeResult(Fe))}).catch(C)}catch(Fe){C("QR code parse error, error = ".concat(Fe))}},O.onerror=C,O.onabort=C,O.onstalled=C,O.onsuspend=C,O.src=URL.createObjectURL(m)})},w.prototype.clear=function(){this.clearElement()},w.getCameras=function(){return hf.retrieve()},w.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},w.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},w.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},w.prototype.applyVideoConstraints=function(m){if(m){if(!kc.isMediaStreamConstraintsValid(m,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(m)},w.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},w.prototype.getSupportedFormats=function(m){var g=[de.QR_CODE,de.AZTEC,de.CODABAR,de.CODE_39,de.CODE_93,de.CODE_128,de.DATA_MATRIX,de.MAXICODE,de.ITF,de.EAN_13,de.EAN_8,de.PDF_417,de.RSS_14,de.RSS_EXPANDED,de.UPC_A,de.UPC_E,de.UPC_EAN_EXTENSION];if(!m||typeof m=="boolean"||!m.formatsToSupport)return g;if(!Array.isArray(m.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(m.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var S=[],I=0,C=m.formatsToSupport;I<C.length;I++){var O=C[I];j0(O)?S.push(O):this.logger.warn("Invalid format: ".concat(O," passed in config, ignoring."))}if(S.length===0)throw"None of formatsToSupport match supported values.";return S},w.prototype.getUseBarCodeDetectorIfSupported=function(m){if(Gr(m))return!0;if(!Gr(m.useBarCodeDetectorIfSupported))return m.useBarCodeDetectorIfSupported!==!1;if(Gr(m.experimentalFeatures))return!0;var g=m.experimentalFeatures;return Gr(g.useBarCodeDetectorIfSupported)?!0:g.useBarCodeDetectorIfSupported!==!1},w.prototype.validateQrboxSize=function(m,g,S){var I=this,C=S.qrbox;this.validateQrboxConfig(C);var O=this.toQrdimensions(m,g,C),P=function(T){if(T<Qn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Qn.MIN_QR_BOX_SIZE,"px.")},B=function(T){return T>m&&(I.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),T=m),T};P(O.width),P(O.height),O.width=B(O.width)},w.prototype.validateQrboxConfig=function(m){if(typeof m!="number"&&typeof m!="function"&&(m.width===void 0||m.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},w.prototype.toQrdimensions=function(m,g,S){if(typeof S=="number")return{width:S,height:S};if(typeof S=="function")try{return S(m,g)}catch(I){throw new Error("qrbox config was passed as a function but it failed with unknown error"+I)}return S},w.prototype.setupUi=function(m,g,S){S.isShadedBoxEnabled()&&this.validateQrboxSize(m,g,S);var I=Gr(S.qrbox)?{width:m,height:g}:S.qrbox;this.validateQrboxConfig(I);var C=this.toQrdimensions(m,g,I);C.height>g&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var O=S.isShadedBoxEnabled()&&C.height<=g,P={x:0,y:0,width:m,height:g},B=O?this.getShadedRegionBounds(m,g,C):P,T=this.createCanvasElement(B.width,B.height),Y={willReadFrequently:!0},X=T.getContext("2d",Y);X.canvas.width=B.width,X.canvas.height=B.height,this.element.append(T),O&&this.possiblyInsertShadingElement(this.element,m,g,C),this.createScannerPausedUiElement(this.element),this.qrRegion=B,this.context=X,this.canvasElement=T},w.prototype.createScannerPausedUiElement=function(m){var g=document.createElement("div");g.innerText=Ts.scannerPaused(),g.style.display="none",g.style.position="absolute",g.style.top="0px",g.style.zIndex="1",g.style.background="rgba(9, 9, 9, 0.46)",g.style.color="#FFECEC",g.style.textAlign="center",g.style.width="100%",m.appendChild(g),this.scannerPausedUiElement=g},w.prototype.scanContext=function(m,g){var S=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(I){return m(I.text,Ac.createFromQrcodeResult(I)),S.possiblyUpdateShaders(!0),!0}).catch(function(I){S.possiblyUpdateShaders(!1);var C=Ts.codeParseError(I);return g(C,Z0.createFrom(C)),!1})},w.prototype.foreverScan=function(m,g,S){var I=this;if(this.shouldScan&&this.renderedCamera){var C=this.renderedCamera.getSurface(),O=C.videoWidth/C.clientWidth,P=C.videoHeight/C.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var B=this.qrRegion.width*O,T=this.qrRegion.height*P,Y=this.qrRegion.x*O,X=this.qrRegion.y*P;this.context.drawImage(C,Y,X,B,T,0,0,this.qrRegion.width,this.qrRegion.height);var pe=function(){I.foreverScanTimeout=setTimeout(function(){I.foreverScan(m,g,S)},I.getTimeoutFps(m.fps))};this.scanContext(g,S).then(function(_e){!_e&&m.disableFlip!==!0?(I.context.translate(I.context.canvas.width,0),I.context.scale(-1,1),I.scanContext(g,S).finally(function(){pe()})):pe()}).catch(function(_e){I.logger.logError("Error happend while scanning context",_e),pe()})}},w.prototype.createVideoConstraints=function(m){if(typeof m=="string")return{deviceId:{exact:m}};if(typeof m=="object"){var g="facingMode",S="deviceId",I={user:!0,environment:!0},C="exact",O=function(ht){if(ht in I)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ht,"'")},P=Object.keys(m);if(P.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(P.length," keys");var B=Object.keys(m)[0];if(B!==g&&B!==S)throw"Only '".concat(g,"' and '").concat(S,"' ")+" are supported for 'cameraIdOrConfig'";if(B===g){var T=m.facingMode;if(typeof T=="string"){if(O(T))return{facingMode:T}}else if(typeof T=="object")if(C in T){if(O(T["".concat(C)]))return{facingMode:{exact:T["".concat(C)]}}}else throw"'facingMode' should be string or object with"+" ".concat(C," as key.");else{var Y=typeof T;throw"Invalid type of 'facingMode' = ".concat(Y)}}else{var X=m.deviceId;if(typeof X=="string")return{deviceId:X};if(typeof X=="object"){if(C in X)return{deviceId:{exact:X["".concat(C)]}};throw"'deviceId' should be string or object with"+" ".concat(C," as key.")}else{var pe=typeof X;throw"Invalid type of 'deviceId' = ".concat(pe)}}}var _e=typeof m;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_e)},w.prototype.computeCanvasDrawConfig=function(m,g,S,I){if(m<=S&&g<=I){var C=(S-m)/2,O=(I-g)/2;return{x:C,y:O,width:m,height:g}}else{var P=m,B=g;return m>S&&(g=S/m*g,m=S),g>I&&(m=I/g*m,g=I),this.logger.log("Image downsampled from "+"".concat(P,"X").concat(B)+" to ".concat(m,"X").concat(g,".")),this.computeCanvasDrawConfig(m,g,S,I)}},w.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var m=document.getElementById(this.elementId);m&&(m.innerHTML="")},w.prototype.possiblyUpdateShaders=function(m){this.qrMatch!==m&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(g){g.style.backgroundColor=m?Qn.BORDER_SHADER_MATCH_COLOR:Qn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=m)},w.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},w.prototype.createCanvasElement=function(m,g,S){var I=m,C=g,O=document.createElement("canvas");return O.style.width="".concat(I,"px"),O.style.height="".concat(C,"px"),O.style.display="none",O.id=Gr(S)?"qr-canvas":S,O},w.prototype.getShadedRegionBounds=function(m,g,S){if(S.width>m||S.height>g)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(m-S.width)/2,y:(g-S.height)/2,width:S.width,height:S.height}},w.prototype.possiblyInsertShadingElement=function(m,g,S,I){if(!(g-I.width<1||S-I.height<1)){var C=document.createElement("div");C.style.position="absolute";var O=(g-I.width)/2,P=(S-I.height)/2;if(C.style.borderLeft="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderRight="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderTop="".concat(P,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderBottom="".concat(P,"px solid rgba(0, 0, 0, 0.48)"),C.style.boxSizing="border-box",C.style.top="0px",C.style.bottom="0px",C.style.left="0px",C.style.right="0px",C.id="".concat(Qn.SHADED_REGION_ELEMENT_ID),g-I.width<11||S-I.height<11)this.hasBorderShaders=!1;else{var B=5,T=40;this.insertShaderBorders(C,T,B,-B,null,0,!0),this.insertShaderBorders(C,T,B,-B,null,0,!1),this.insertShaderBorders(C,T,B,null,-B,0,!0),this.insertShaderBorders(C,T,B,null,-B,0,!1),this.insertShaderBorders(C,B,T+B,-B,null,-B,!0),this.insertShaderBorders(C,B,T+B,null,-B,-B,!0),this.insertShaderBorders(C,B,T+B,-B,null,-B,!1),this.insertShaderBorders(C,B,T+B,null,-B,-B,!1),this.hasBorderShaders=!0}m.append(C)}},w.prototype.insertShaderBorders=function(m,g,S,I,C,O,P){var B=document.createElement("div");B.style.position="absolute",B.style.backgroundColor=Qn.BORDER_SHADER_DEFAULT_COLOR,B.style.width="".concat(g,"px"),B.style.height="".concat(S,"px"),I!==null&&(B.style.top="".concat(I,"px")),C!==null&&(B.style.bottom="".concat(C,"px")),P?B.style.left="".concat(O,"px"):B.style.right="".concat(O,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(B),m.appendChild(B)},w.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},w.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},w.prototype.getTimeoutFps=function(m){return 1e3/m},w}(),Oc;(function(w){w[w.STATUS_DEFAULT=0]="STATUS_DEFAULT",w[w.STATUS_SUCCESS=1]="STATUS_SUCCESS",w[w.STATUS_WARNING=2]="STATUS_WARNING",w[w.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Oc||(Oc={}));function Cf({setCurrentPage:w,setCodeList:m}){const[g,S]=tn.useState("");return tn.useEffect(()=>{const I=new Ef("qr-reader");return navigator.mediaDevices.enumerateDevices().then(C=>{const O=C.filter(T=>T.kind==="videoinput"),P=O.find(T=>T.label.toLowerCase().includes("back")||T.label.includes("")),B=P?P.deviceId:O[0].deviceId;B&&I.start(B,{fps:10,qrbox:{width:250,height:250}},T=>{S(T);const Y=JSON.parse(T);m(Y),w("InsertPage"),I.stop()},()=>{}).catch(T=>{console.error(":",T)})}).catch(C=>{console.error(":",C)}),()=>{}},[]),xt.jsxs("div",{children:[xt.jsx("h1",{children:"QR"}),xt.jsx("div",{id:"qr-reader",style:{width:"100dvw"}}),xt.jsx("p",{children:g?`: ${g}`:"QR"})]})}const yf=({isLoading:w})=>w?xt.jsx("div",{className:"loading-overlay",children:xt.jsx("div",{className:"loading",children:xt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"120",height:"120",children:xt.jsxs("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"#2ee7ff",strokeWidth:"2",strokeDasharray:"63",strokeLinecap:"round",children:[xt.jsx("animate",{attributeName:"stroke-dashoffset",values:"63;16;63",keyTimes:"0;.5;1",keySplines:".42 0 .58 1;.42 0 .58 1;",calcMode:"spline",dur:"1.4s",repeatCount:"indefinite"}),xt.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0,12,12;135,12,12;450,12,12",keySplines:".42 0 .58 1;.42 0 .58 1;",calcMode:"spline",dur:"1.4s",repeatCount:"indefinite"}),xt.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0,12,12",to:"270,12,12",calcMode:"linear",dur:"1.4s",repeatCount:"indefinite",additive:"sum"})]})})})}):null,Af="https://script.google.com/macros/s/AKfycbwdZ3lhe2QH2BChceXrTsxzGAkUd9EgZ2AZ7pWXWlMJvwtOtOcjXDTOXUmdBRJgCs25/exec",vf=async()=>{try{const w=await fetch(Af,{method:"POST",body:JSON.stringify({action:"allDataNum",sheetName:""})});if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);return await w.json()}catch(w){return w}};function Sf({setCurrentPage:w,codeList:m,setisLoading:g}){const[S,I]=tn.useState([]);return tn.useEffect(()=>{g(!0),(async()=>{const O=await vf(),P=[];for(let B=0;B<m.length;B++){console.log(m[B]);let T=O.find(Y=>Y[1]==m[B]);P.push(T)}I(P)})(),console.log(S),g(!1)},[]),xt.jsxs("div",{className:"setwindow",children:[xt.jsx("div",{children:S.map((C,O)=>xt.jsx("div",{},O))}),xt.jsx("a",{className:"buttonUnderlineSt",id:"main_back",type:"button",onClick:()=>w("QR_Scanner"),children:"QR"})]})}function If(){const[w,m]=tn.useState("QR_Scanner"),g=tn.useRef(null),[S,I]=tn.useState(!1),[C,O]=tn.useState([]),P=B=>{switch(B){case"ListPage":return;case"QR_Scanner":return xt.jsx(Cf,{setCurrentPage:m,setCodeList:O});case"InsertPage":return xt.jsx(Sf,{setCurrentPage:m,codeList:C,setisLoading:I});case"TEST":return xt.jsx(Ec,{});default:return xt.jsx(Ec,{})}};return xt.jsx(gu,{component:null,children:xt.jsx(du,{timeout:{enter:500,exit:300},className:"fade",nodeRef:g,unmountOnExit:!0,children:xt.jsxs("div",{children:[xt.jsx("div",{ref:g,className:"page",children:P(w)}),xt.jsx("div",{className:"Loadingarea",children:xt.jsx(yf,{isLoading:S})})]})},w)})}k0.createRoot(document.getElementById("root")).render(xt.jsx(tn.StrictMode,{children:xt.jsx(If,{})}));
